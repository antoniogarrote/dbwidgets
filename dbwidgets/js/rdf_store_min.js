(function(){var D={"extends":function(c,b){b.prototype=new c},stackCounterLimit:1E3,stackCounter:0};D.recur=function(c){D.stackCounter===D.stackCounterLimit?(D.stackCounter=0,setTimeout(c,0)):(D.stackCounter++,c())};D.shuffle=function(c){for(var b,d,k=c.length;k;b=parseInt(Math.random()*k),d=c[--k],c[k]=c[b],c[b]=d);return c};D.include=function(c,b,d){for(var k=c.length-1;k>=0;k--){var j=!1,j=d==null?c[k]===b:d(c[k],b)===0;if(j===!0)return!0}return!1};D.remove=function(c,b){for(var d=[],k=0;k<c.length;k++)c[k]!==
b&&d.push(c[k]);return d};D.repeat=function(c,b,d,k,j){arguments.length===4&&(j={});c<b?(j._i=c,d(function(e,d){D.recur(function(){D.repeat(c+1,b,e,k,d)})},j)):k(j)};Utilsmeanwhile=function(c,b,d,k){arguments.length===3&&(k={});k._stack_counter==null&&(k._stack_counter=0);c===!0?b(function(b,e,c){c._stack_counter%40==39?(c._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(b,e,d,c)},0)):(c._stack_counter+=1,Utilsmeanwhile(b,e,d,c))},k):d(k)};D.seq=function(){var c=arguments;return function(b){D.repeat(0,
c.length,function(b,k){var j=arguments.callee;c[k._i](function(){b(j,k)})},function(){b()})}};D.partition=function(c,b){for(var d=c.length%b,k=[],j=0;j<d;j++)k.push(null);d=[];for(j=0;j<c.length;j++)k.push(c[j]),k.length%b==0&&(d.push(k),k=[]);return d};D.keys=function(c){var b=[],d;for(d in c)b.push(d);return b};D.iso8601=function(c){function b(b){return b<10?"0"+b:b}return c.getUTCFullYear()+"-"+b(c.getUTCMonth()+1)+"-"+b(c.getUTCDate())+"T"+b(c.getUTCHours())+":"+b(c.getUTCMinutes())+":"+b(c.getUTCSeconds())+
"Z"};D.parseStrictISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,d=new Date(c[1],0,1);if(c[3])d.setMonth(c[3]-1);else throw"missing ISO8061 component";if(c[5])d.setDate(c[5]);else throw"missing ISO8061 component";if(c[7])d.setHours(c[7]);else throw"missing ISO8061 component";if(c[8])d.setMinutes(c[8]);else throw"missing ISO8061 component";if(c[10])d.setSeconds(c[10]);else throw"missing ISO8061 component";
c[12]&&d.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=d.getTimezoneOffset();time=Number(d)+b*6E4;c=new Date;c.setTime(Number(time));return c};D.parseISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,d=new Date(c[1],0,1);c[3]&&d.setMonth(c[3]-1);c[5]&&d.setDate(c[5]);c[7]&&d.setHours(c[7]);c[8]&&d.setMinutes(c[8]);c[10]&&
d.setSeconds(c[10]);c[12]&&d.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=d.getTimezoneOffset();time=Number(d)+b*6E4;c=new Date;c.setTime(Number(time));return c};D.parseISO8601Components=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),b,d,k,j,e,h,o,r;b=Number(c[1]);d=c[3]-1;k=Number(c[5]);j=Number(c[7]);e=Number(c[8]);h=Number(c[10]);
c[12]&&(o=Number("0."+c[12])*1E3);c[13]==="Z"?r=0:c[14]?(r=0,c[17]&&(r=Number(c[17])),r+=Number(c[15])*60,r*=c[14]=="-"?-1:1):c[14]==null&&c[11]&&(r=Number(c[12])*60);return{year:isNaN(b)?null:b,month:isNaN(d)?null:d,date:isNaN(k)?null:k,hours:isNaN(j)?null:j,minutes:isNaN(e)?null:e,seconds:isNaN(h)?null:h,millisecs:isNaN(o)?null:o,timezone:isNaN(r)?null:r}};D.compareDateComponents=function(c,b){var d=D.parseISO8601Components(c),k=D.parseISO8601Components(b);return d.timezone==null&&k.timezone==null||
d.timezone!=null&&k.timezone!=null?(da=D.parseISO8601(c),db=D.parseISO8601(b),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):d.timezone!=null&&k.timezone==null?(da=D.parseISO8601(c),db=D.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta<tb+d?-1:ta>tb&&ta>tb-d?1:null):(da=D.parseISO8601(c),db=D.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),d=50400,ta<tb&&ta+d<tb?-1:ta>tb&&ta+d>tb?1:null)};D.lexicalFormLiteral=function(c,b){var d=c.value,k=c.lang,j=c.type,e=null;d!=null&&
j!=null&&typeof j!="string"?(d=j.value,d!=null?e='"'+c.value+'"^^<'+d+">":(d=j.suffix,j=b.namespaces[j.prefix],c.type=j+d,e='"'+c.value+'"^^<'+j+d+">")):e=k==null&&j==null?'"'+d+'"':j==null?'"'+d+'"@'+k:'"'+c.value+'"^^<'+j+">";return e};D.lexicalFormBaseUri=function(c,b){var d=null;if(c.value==null){var k=c.suffix,j=b.namespaces[c.prefix];j!=null&&(d=j+k)}else d=c.value;if(d===null)return null;else d.indexOf(":")==-1&&(d=(b.base||"")+d);return d};D.lexicalFormTerm=function(c,b){if(c.token==="uri")return{uri:D.lexicalFormBaseUri(c,
b)};else if(c.token==="literal")return{literal:D.lexicalFormLiteral(c,b)};else if(c.token==="blank")return{blank:"_:"+c.label};else callback(!1,"Token of kind "+c.token+" cannot transformed into its lexical form")};D.normalizeUnicodeLiterals=function(c){for(var b=c.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],d={},k=0;k<b.length;k++)d[b[k]]==null&&(d[b[k]]=!0,c=c.replace(RegExp("\\"+b[k],"g"),eval("'"+b[k]+"'")));return c};D.hashTerm=function(c){try{if(c==null)return"";if(c.token==="uri")return"u"+c.value;
else if(c.token==="blank")return"b"+c.value;else if(c.token==="literal")return l="l"+c.value,l+=c.type||"",l+=c.lang||"",l}catch(b){if(typeof c==="object"){var d="";for(p in c)d=d+p+c[p];return d}return c}};var I={Tree:function(c){if(arguments.length!=0)this.order=c,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),this.comparator=function(b,c){return b<c?-1:b>c?1:0},this.merger=null}};I.Tree.prototype._allocateNode=function(){return new I.Node};
I.Tree.prototype._diskWrite=function(){};I.Tree.prototype._diskRead=function(c){return c};I.Tree.prototype._diskDelete=function(){};I.Tree.prototype._updateRootNode=function(c){return c};I.Tree.prototype.search=function(c,b){for(var d=!0,k=this.root;d;){for(var j=0;j<k.numberActives&&this.comparator(c,k.keys[j].key)===1;)j++;if(j<k.numberActives&&this.comparator(k.keys[j].key,c)===0)return b!=null&&b==!0?!0:k.keys[j].data;else k.isLeaf===!0?d=!1:k=this._diskRead(k.children[j])}return null};I.Tree.prototype.walk=
function(c){this._walk(c,this.root)};I.Tree.prototype._walk=function(c,b){if(b.isLeaf)for(var d=0;d<b.numberActives;d++)c(b.keys[d]);else{for(d=0;d<b.numberActives;d++)this._walk(c,this._diskRead(b.children[d])),c(b.keys[d]);this._walk(c,this._diskRead(b.children[b.numberActives]))}};I.Tree.prototype.walkNodes=function(c){this._walkNodes(c,this.root)};I.Tree.prototype._walkNodes=function(c,b){if(b.isLeaf)c(b);else{c(b);for(var d=0;d<b.numberActives;d++)this._walkNodes(c,this._diskRead(b.children[d]));
this._walkNodes(c,this._diskRead(b.children[b.numberActives]))}};I.Tree.prototype._splitChild=function(c,b,d){var k=this._allocateNode();k.isLeaf=d.isLeaf;k.level=d.level;k.numberActives=this.order-1;var j=d.keys[this.order-1];d.keys[this.order-1]=null;for(var e=0;e<this.order-1;e++)k.keys[e]=d.keys[e+this.order],d.keys[e+this.order]=null,d.isLeaf||(k.children[e]=d.children[e+this.order],d.children[e+this.order]=null);d.isLeaf||(k.children[e]=d.children[e+this.order],d.children[e+this.order]=null);
d.numberActives=this.order-1;for(e=c.numberActives+1;e>b+1;e--)c.children[e]=c.children[e-1];c.children[b+1]=k;for(e=c.numberActives;e>b;e--)c.keys[e]=c.keys[e-1];c.keys[b]=j;c.numberActives++;this._diskWrite(k);this._diskWrite(c);this._diskWrite(d)};I.Tree.prototype.insert=function(c,b){if(this.root.numberActives===2*this.order-1){var d=this._allocateNode();d.isLeaf=!1;d.level=this.root.level+1;d.numberActives=0;d.children[0]=this.root;this._splitChild(d,0,this.root);this.root=d;this._updateRootNode(this.root);
this._insertNonFull(d,c,b)}else this._insertNonFull(this.root,c,b)};I.Tree.prototype._insertNonFull=function(c,b,d){for(var k=c.numberActives-1;!c.isLeaf;){for(;k>=0&&this.comparator(b,c.keys[k].key)===-1;)k--;k++;var j=this._diskRead(c.children[k]);j.numberActives===2*this.order-1&&(this._splitChild(c,k,j),this.comparator(b,c.keys[k].key)===1&&k++);c=this._diskRead(c.children[k]);k=c.numberActives-1}for(;k>=0&&this.comparator(b,c.keys[k].key)===-1;)c.keys[k+1]=c.keys[k],k--;c.keys[k+1]={key:b,data:d};
c.numberActives++;this._diskWrite(c)};I.Tree.prototype["delete"]=function(c){for(var b=this.root,d=null,k=!0,j=null,e=null,h=null,o=!0;o===!0;){for(o=!1;k===!0;){r=0;if(b.numberActives===0)return!1;for(;r<b.numberActives&&this.comparator(c,b.keys[r].key)===1;)r++;j=r;r<b.numberActives&&this.comparator(c,b.keys[r].key)===0&&(k=!1);if(k===!0){if(b.isLeaf===!0)return!1;d=b;b=this._diskRead(b.children[r]);if(b===null)return!1;j===d.numberActives?(e=this._diskRead(d.children[j-1]),h=null):j===0?(e=null,
h=this._diskRead(d.children[1])):(e=this._diskRead(d.children[j-1]),h=this._diskRead(d.children[j+1]));b.numberActives===this.order-1&&d!=null&&(h!=null&&h.numberActives>this.order-1?this._moveKey(d,r,-1):e!=null&&e.numberActives>this.order-1?this._moveKey(d,r,1):e!=null&&e.numberActives===this.order-1?b=this._mergeSiblings(d,r,-1):h!=null&&h.numberActives===this.order-1&&(b=this._mergeSiblings(d,r,1)))}}if(b.isLeaf&&b.numberActives>this.order-1)return this._deleteKeyFromNode(b,j),!0;if(b.isLeaf&&
b===this.root)return this._deleteKeyFromNode(b,j),!0;if(b.isLeaf===!1)if(d=r=null,(r=this._diskRead(b.children[j])).numberActives>this.order-1)c=this._getMaxKeyPos(r),c=c.node.keys[c.index],b.keys[j]=c,this._diskWrite(b),b=r,c=c.key,k=o=!0;else if((r=this._diskRead(b.children[j+1])).numberActives>this.order-1)c=this._getMinKeyPos(r),c=c.node.keys[c.index],b.keys[j]=c,this._diskWrite(b),b=r,c=c.key,k=o=!0;else if((r=this._diskRead(b.children[j])).numberActives===this.order-1&&(d=this._diskRead(b.children[j+
1])).numberActives===this.order-1){k=this._mergeNodes(r,b.keys[j],d);b.children[j]=k;j++;for(var r=j;r<b.numberActives;r++)b.children[r]=b.children[r+1],b.keys[r-1]=b.keys[r];b.children[r]=null;b.keys[r-1]=null;b.numberActives--;if(b.numberActives===0&&this.root===b)this.root=k;this._diskWrite(b);b=k;k=o=!0}b.isLeaf&&b.numberActives>this.order-1&&k===!1&&this._deleteKeyFromNode(b,j);if(o===!1)return!0}};I.Tree.prototype._moveKey=function(c,b,d){d===1&&b--;var k=this._diskRead(c.children[b]),j=this._diskRead(c.children[b+
1]);if(d==-1){k.keys[k.numberActives]=c.keys[b];k.children[k.numberActives+1]=j.children[0];j.children[0]=null;k.numberActives++;c.keys[b]=j.keys[0];for(d=1;d<j.numberActives;d++)j.keys[d-1]=j.keys[d],j.children[d-1]=j.children[d];j.children[j.numberActives-1]=j.children[j.numberActives];j.numberActives--}else{j.children[j.numberActives+1]=j.children[j.numberActives];for(d=j.numberActives;d>0;d--)j.children[d]=j.children[d-1],j.keys[d]=j.keys[d-1];j.keys[0]=null;j.children[0]=null;j.children[0]=k.children[k.numberActives];
j.keys[0]=c.keys[b];j.numberActives++;k.children[k.numberActives]=null;c.keys[b]=k.keys[k.numberActives-1];k.keys[k.numberActives-1]=null;k.numberActives--}this._diskWrite(k);this._diskWrite(j);this._diskWrite(c)};I.Tree.prototype._mergeSiblings=function(c,b){var d,k,j;b===c.numberActives?(b--,k=this._diskRead(c.children[c.numberActives-1]),j=this._diskRead(c.children[c.numberActives])):(k=this._diskRead(c.children[b]),j=this._diskRead(c.children[b+1]));var e=this._allocateNode();e.isLeaf=k.isLeaf;
e.level=k.level;for(d=0;d<this.order-1;d++)e.keys[d]=k.keys[d],e.children[d]=k.children[d];e.keys[this.order-1]=c.keys[b];e.children[this.order-1]=k.children[this.order-1];for(d=0;d<this.order-1;d++)e.keys[d+this.order]=j.keys[d],e.children[d+this.order]=j.children[d];e.children[2*this.order-1]=j.children[this.order-1];c.children[b]=e;for(d=b;d<c.numberActives;d++)c.keys[d]=c.keys[d+1],c.children[d+1]=c.children[d+2];e.numberActives=k.numberActives+j.numberActives+1;c.numberActives--;for(d=c.numberActives;d<
2*this.order-1;d++)c.keys[d]=null;if(c.numberActives===0&&this.root===c)this.root=e,e.isLeaf=e.level?!1:!0;this._diskWrite(e);this.root===e&&this._updateRootNode(this.root);this._diskWrite(c);this._diskDelete(k);this._diskDelete(j);return e};I.Tree.prototype._deleteKeyFromNode=function(c,b){var d=2*this.order-1;if(c.numberActives<d)d=c.numberActives;var k;if(c.isLeaf===!1)return!1;for(k=b;k<d-1;k++)c.keys[k]=c.keys[k+1];c.keys.pop();c.numberActives--;this._diskWrite(c);return!0};I.Tree.prototype._mergeNodes=
function(c,b,d){var k,j;k=this._allocateNode();k.isLeaf=!0;for(j=0;j<c.numberActives;j++)k.keys[j]=c.keys[j],k.children[j]=c.children[j];k.children[c.numberActives]=c.children[c.numberActives];k.keys[c.numberActives]=b;for(j=0;j<d.numberActives;j++)k.keys[j+c.numberActives+1]=d.keys[j],k.children[j+c.numberActives+1]=d.children[j];k.children[2*this.order-1]=d.children[d.numberActives];k.numberActives=c.numberActives+d.numberActives+1;k.isLeaf=c.isLeaf;k.level=c.level;this._diskWrite(k);return k};
I.Tree.prototype.audit=function(c){var b=[],d=[],k=this,j=function(e){for(var j=0;j<d.length;j++)if(k.comparator(d[j],e)===0){var h=" !!! duplicated key "+e;c===!0&&console.log(h);b.push(h)}},e=null,k=this;this.walkNodes(function(h){c===!0&&(console.log("--- Node at "+h.level+" level"),console.log(" - leaf? "+h.isLeaf),console.log(" - num actives? "+h.numberActives),console.log(" - keys: "));for(var o=h.numberActives;o<h.keys.length;o++)h.keys[o]!=null&&c===!0&&(console.log(" * warning : redundant key data"),
b.push(" * warning : redundant key data"));for(o=h.numberActives+1;o<h.children.length;o++)h.children[o]!=null&&c===!0&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(h.isLeaf===!1)for(o=0;o<h.numberActives;o++){var r=this._diskRead(h.children[o]).keys[this._diskRead(h.children[o]).numberActives-1].key,v=this._diskRead(h.children[o+1]).keys[0].key;c===!0&&console.log("   "+h.keys[o].key+"("+r+","+v+")");if(k.comparator(h.keys[o].key,r)===-1){var u=
" !!! value max left "+r+" > key "+h.keys[o].key;c===!0&&console.log(u);b.push(u)}k.comparator(h.keys[o].key,v)===1&&(u=" !!! value min right "+v+" < key "+h.keys[o].key,c===!0&&console.log(u),b.push(u));j(h.keys[o].key);d.push(h.keys[o].key)}else{e===null?e=h.level:e!=h.level&&(u=" !!! Leaf node with wrong level value",c===!0&&console.log(u),b.push(u));for(o=0;o<h.numberActives;o++)c===!0&&console.log(" "+h.keys[o].key),j(h.keys[o].key),d.push(h.keys[o].key)}h!=k.root&&(h.numberActives>2*k.order-
1&&(c===!0&&(u=" !!!! MAX num keys restriction violated "),console.log(u),b.push(u)),h.numberActives<k.order-1&&(c===!0&&(u=" !!!! MIN num keys restriction violated "),console.log(u),b.push(u)))});return b};I.Tree.prototype._getMaxKeyPos=function(c){for(var b={};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=c.numberActives-1;break}else b.node=c,b.index=c.numberActives-1,c=this._diskRead(c.children[c.numberActives])}return b};I.Tree.prototype._getMinKeyPos=function(c){for(var b={};;){if(c===
null)break;if(c.isLeaf===!0){b.node=c;b.index=0;break}else b.node=c,b.index=0,c=this._diskRead(c.children[0])}return b};I.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};var X={NodeKey:function(c,b){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.order=b}};X.NodeKey.prototype.comparator=function(c){for(var b=0;b<this.order.length;b++){var d=this.order[b];if(c[d]==null)break;else if(this[d]<c[d])return-1;
else if(this[d]>c[d])return 1}return 0};X.Pattern=function(c){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.indexKey=[];this.keyComponents={};for(var b=[],d=[],c=["subject","predicate","object","graph"],k=0;k<c.length;k++)typeof this[c[k]]==="string"?(d.push(c[k]),this.keyComponents[c[k]]=null):(b.push(c[k]),this.keyComponents[c[k]]=this[c[k]],this.indexKey.push(c[k]));this.order=b.concat(d);this.key=new X.NodeKey(this.keyComponents,this.order)};var fa=
{Tree:function(c,b){if(arguments!=0)this.componentOrder=c.componentOrder,I.Tree.call(this,c.order),this.comparator=function(b,c){for(var j=0;j<this.componentOrder.length;j++){var e=this.componentOrder[j],h=b[e],e=c[e];if(h<e)return-1;else if(h>e)return 1}return 0},this.rangeComparator=function(b,c){for(var j=0;j<this.componentOrder.length;j++){var e=this.componentOrder[j];if(c[e]==null||b[e]==null)break;else if(b[e]<c[e])return-1;else if(b[e]>c[e])return 1}return 0},b!=null&&b(this)}};D["extends"](I.Tree,
fa.Tree);fa.Tree.prototype.insert=function(c,b){I.Tree.prototype.insert.call(this,c,null);b&&b(!0);return!0};fa.Tree.prototype.search=function(c,b){var d=I.Tree.prototype.search.call(this,c,!0);b&&b(d);return d};fa.Tree.prototype.range=function(c,b){var d=this._rangeTraverse(this,this.root,c);b&&b(d);return d};fa.Tree.prototype._rangeTraverse=function(c,b,d){for(var d=d.key,k=[],j=[b],e;j.length>0;){b=j.shift();for(e=0;e<b.numberActives&&c.rangeComparator(b.keys[e].key,d)===-1;)e++;if(b.isLeaf===
!0)for(;e<b.numberActives&&c.rangeComparator(b.keys[e].key,d)===0;)k.push(b.keys[e].key),e++;else{var h=c._diskRead(b.children[e]);for(j.push(h);;)if(e<b.numberActives&&c.rangeComparator(b.keys[e].key,d)===0)k.push(b.keys[e].key),e++,h=c._diskRead(b.children[e]),j.push(h);else break}}return k};var ca={QuadBackend:function(c,b){if(arguments!=0){this.indexMap={};this.treeOrder=c.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],
GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};for(var d=0;d<this.indices.length;d++){var k=this.indices[d],j=new fa.Tree({order:this.treeOrder,componentOrder:this.componentOrders[k]});this.indexMap[k]=j}b&&b(this)}}};ca.QuadBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,d=0;d<b.length;d++)for(var k=
b[d],j=this.componentOrders[k],e=0;e<j.length;e++){if(D.include(c,j[e])===!1)break;if(e==c.length-1)return k}return"SPOG"};ca.QuadBackend.prototype.index=function(c,b){for(var d=0;d<this.indices.length;d++)this.indexMap[this.indices[d]].insert(c);b&&b(!0);return!0};ca.QuadBackend.prototype.range=function(c,b){var d=this.indexMap[this._indexForPattern(c)].range(c);b&&b(d);return d};ca.QuadBackend.prototype.search=function(c,b){var d=this.indexMap[this.indices[0]].search(c);b&&b(d!=null);return d!=
null};ca.QuadBackend.prototype["delete"]=function(c,b){for(var d,k=0;k<this.indices.length;k++)d=this.indices[k],d=this.indexMap[d],d["delete"](c);b&&b(!0);return!0};var O={Lexicon:function(c){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,
oid:this.defaultGraphOid};this.oidCounter=1;this.knownGraphs={};c!=null&&c(this)}};O.Lexicon.prototype.registerGraph=function(c){c!=this.defaultGraphOid&&(this.knownGraphs[c]=!0);return!0};O.Lexicon.prototype.registeredGraphs=function(c){var b=[],d;for(d in this.knownGraphs)c===!0?b.push(this.OIDToUri["u"+d]):b.push(d);return b};O.Lexicon.prototype.registerUri=function(c){if(c===this.defaultGraphUri)return this.defaultGraphOid;else{if(this.uriToOID[c]==null){var b=this.oidCounter;this.oidCounter++;
this.uriToOID[c]=[b,0];this.OIDToUri["u"+b]=c}else{var d=this.uriToOID[c],b=d[0];this.uriToOID[c]=[b,d[1]+1]}return b}};O.Lexicon.prototype.resolveUri=function(c){return c===this.defaultGraphUri?this.defaultGraphOid:(c=this.uriToOID[c],c!=null?c[0]:-1)};O.Lexicon.prototype.registerBlank=function(){var c=this.oidCounter;this.oidCounter++;c=""+c;this.OIDToBlank[c]=!0;return c};O.Lexicon.prototype.resolveBlank=function(){var c=this.oidCounter;this.oidCounter++;return""+c};O.Lexicon.prototype.registerLiteral=
function(c){if(this.literalToOID[c]==null){var b=this.oidCounter;this.oidCounter++;this.literalToOID[c]=[b,0];this.OIDToLiteral["l"+b]=c}else{var d=this.literalToOID[c],b=d[0];this.literalToOID[c]=[b,d[1]+1]}return b};O.Lexicon.prototype.resolveLiteral=function(c){c=this.literalToOID[c];return c!=null?c[0]:-1};O.Lexicon.prototype.parseLiteral=function(c){var b=c.lastIndexOf("@");if(b!=-1&&c[b-1]==='"'){var d=c.substring(1,b-1),c=c.substring(b+1,c.length);return{token:"literal",value:d,lang:c}}b=c.lastIndexOf("^^");
if(b!=-1&&c[b-1]==='"'&&c[b+2]==="<"&&c[c.length-1]===">")return d=c.substring(1,b-1),c=c.substring(b+3,c.length-1),{token:"literal",value:d,type:c};d=c.substring(1,c.length-1);return{token:"literal",value:d}};O.Lexicon.prototype.parseUri=function(c){return{token:"uri",value:c}};O.Lexicon.prototype.retrieve=function(c){try{if(c===this.defaultGraphOid)return{token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var b=this.OIDToUri["u"+c];if(b)return this.parseUri(b);
else{var d=this.OIDToLiteral["l"+c];if(d)return this.parseLiteral(d);else if(this.OIDToBlank[""+c])return{token:"blank",value:"_:"+c};else throw"Null value for OID";}}}catch(k){throw console.log("error in lexicon retrieving OID:"),console.log(c),k.message&&console.log(k.message),k.stack&&console.log(k.stack),Error("Unknown retrieving OID in lexicon:"+c);}};O.Lexicon.prototype.unregister=function(c,b){try{return this.unregisterTerm(c.subject.token,b.subject),this.unregisterTerm(c.predicate.token,b.predicate),
this.unregisterTerm(c.object.token,b.object),c.graph!=null&&this.unregisterTerm(c.graph.token,b.graph),!0}catch(d){return console.log("Error unregistering quad"),console.log(d.message),!1}};O.Lexicon.prototype.unregisterTerm=function(c,b){if(c==="uri"){if(b!=this.defaultGraphOid){var d="u"+b,k=this.OIDToUri[d],j=this.uriToOID[k],e=j[1];if(""+j[0]===""+b)e===0?(delete this.OIDToUri[d],delete this.uriToOID[k],delete this.knownGraphs[b]):this.uriToOID[k]=[b,e-1];else throw"Not matching OID : "+b+" vs "+
j[0];}}else if(c==="literal")if(this.oidCounter++,d="l"+b,k=this.OIDToLiteral[d],j=this.literalToOID[k],e=j[1],""+j[0]===""+b)e===0?(delete this.OIDToLiteral[d],delete this.literalToOID[k]):this.literalToOID[k]=[b,e-1];else throw"Not matching OID : "+b+" vs "+j[0];else c==="blank"&&delete this.OIDToBlank[""+b]};var ia={};ia.load=function(c,b,d){jQuery.ajax({url:c,headers:{Accepts:b},success:function(b,c,e){if((""+e.status)[0]=="2"){for(var c=e.getAllResponseHeaders().split("\n"),e={},h=0;h<c.length;h++){var o=
c[h].split(":");e[o[0]]=o[1]}d(!0,{headers:e,data:b})}},error:function(c){(""+c.status)[0]=="3"?redirection==0?d(!1,500):(c=c.getAllResponseHeaders().Location||c.getAllResponseHeaders().location,c!=null?ia.load(c,b,d,redirection-1):d(!1,500)):d(!1,c.statusCode())}})};var ga={};(new Date).getTime();ga.parser=function(){var c={innerParse:function(b,c){function k(b){var e=b.charCodeAt(0);if(e<=255)var b="x",c=2;else b="u",c=4;var b="\\"+b,d=e.toString(16).toUpperCase(),e=d;c-=d.length;for(d=0;d<c;d++)e=
"0"+e;return b+e}function j(b){return'"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,k)+'"'}function e(b){g<ja||(g>ja&&(ja=g,Fa=[]),Fa.push(b))}function h(){var c="statement@"+g,d=z[c];if(d)return g=d.nextPos,d.result;for(var d=g,A=[],k=B();k!==null;)A.push(k),k=B();if(A!==null)if(k=o(),k!==null){for(var j=[],V=B();V!==null;)j.push(V),V=B();if(j!==null)if(b.substr(g,1)==="."?(V=".",g+=1):(V=null,q&&e('"."')),V!==null){for(var n=[],
r=B();r!==null;)n.push(r),r=B();n!==null?A=[A,k,j,V,n]:(A=null,g=d)}else A=null,g=d;else A=null,g=d}else A=null,g=d;else A=null,g=d;d=A!==null?A[1]:null;if(d===null){d=g;A=[];for(k=B();k!==null;)A.push(k),k=B();if(A!==null)if(k=u(),k!==null){j=[];for(V=B();V!==null;)j.push(V),V=B();j!==null?A=[A,k,j]:(A=null,g=d)}else A=null,g=d;else A=null,g=d;d=A!==null?A[1]:null;if(d===null){d=B();if(d!==null)for(A=[];d!==null;)A.push(d),d=B();else A=null;d=A!==null?A:null}}z[c]={nextPos:g,result:d};return d}function o(){var b=
"directive@"+g,e=z[b];if(e)return g=e.nextPos,e.result;e=v();e===null&&(e=r(),e=e!==null?e:null);z[b]={nextPos:g,result:e};return e}function r(){var c="base@"+g,d=z[c];if(d)return g=d.nextPos,d.result;for(var d=g,A=[],k=B();k!==null;)A.push(k),k=B();if(A!==null)if(b.substr(g,5)==="@base"?(k="@base",g+=5):(k=null,q&&e('"@base"')),k!==null){var j=B();if(j!==null)for(var h=[];j!==null;)h.push(j),j=B();else h=null;h!==null?(j=va(),j!==null?A=[A,k,h,j]:(A=null,g=d)):(A=null,g=d)}else A=null,g=d;else A=
null,g=d;d=A!==null?function(b){base={token:"base"};base.value=b;return base}(A[3]):null;z[c]={nextPos:g,result:d};return d}function v(){var c="prefixID@"+g,d=z[c];if(d)return g=d.nextPos,d.result;for(var d=g,A=[],k=B();k!==null;)A.push(k),k=B();if(A!==null)if(b.substr(g,7)==="@prefix"?(k="@prefix",g+=7):(k=null,q&&e('"@prefix"')),k!==null){var j=B();if(j!==null)for(var h=[];j!==null;)h.push(j),j=B();else h=null;if(h!==null)if(j=Ga(),j=j!==null?j:"",j!==null){if(b.substr(g,1)===":"){var n=":";g+=
1}else n=null,q&&e('":"');if(n!==null){for(var o=[],r=B();r!==null;)o.push(r),r=B();o!==null?(r=va(),r!==null?A=[A,k,h,j,n,o,r]:(A=null,g=d)):(A=null,g=d)}else A=null,g=d}else A=null,g=d;else A=null,g=d}else A=null,g=d;else A=null,g=d;d=A!==null?function(b,e){prefix={token:"prefix"};prefix.prefix=b;prefix.local=e;return prefix}(A[3],A[6]):null;z[c]={nextPos:g,result:d};return d}function u(){var c="TriplesBlock@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var A=g,k=w();if(k!==null){for(var j=
g,h=[],n=B();n!==null;)h.push(n),n=B();if(h!==null)if(b.substr(g,1)==="."?(n=".",g+=1):(n=null,q&&e('"."')),n!==null){var o=u(),o=o!==null?o:"";o!==null?h=[h,n,o]:(h=null,g=j)}else h=null,g=j;else h=null,g=j;j=h!==null?h:"";j!==null?k=[k,j]:(k=null,g=A)}else k=null,g=A;A=k!==null?function(b,e){var c=b.triplesContext;typeof e==="object"&&e.length!=null&&e[2].triplesContext!=null&&(c=c.concat(e[2].triplesContext));return{token:"triples",triplesContext:c}}(k[0],k[1]):null;(q=d)&&A===null&&e("[54] TriplesBlock");
z[c]={nextPos:g,result:A};return A}function w(){var b="TriplesSameSubject@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;for(var d=g,k=[],j=B();j!==null;)k.push(j),j=B();if(k!==null)if(j=Ma(),j!==null){for(var h=[],n=B();n!==null;)h.push(n),n=B();h!==null?(n=D(),n!==null?k=[k,j,h,n]:(k=null,g=d)):(k=null,g=d)}else k=null,g=d;else k=null,g=d;d=k!==null?function(b,e){var c=e.triplesContext;if(e.pairs)for(var d=0;d<e.pairs.length;d++){var g=e.pairs[d],A=null;b.token&&b.token==="triplesnodecollection"?
(A={subject:b.chainSubject[0],predicate:g[0],object:g[1]},c.push(A),c=c.concat(b.triplesContext)):(A={subject:b,predicate:g[0],object:g[1]},c.push(A))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=b;return d}(k[1],k[3]):null;if(d===null){d=g;k=[];for(j=B();j!==null;)k.push(j),j=B();if(k!==null)if(j=Gb(),j!==null){h=[];for(n=B();n!==null;)h.push(n),n=B();h!==null?(n=F(),n!==null?k=[k,j,h,n]:(k=null,g=d)):(k=null,g=d)}else k=null,g=d;else k=null,g=d;d=k!==null?function(b,e){var c=
b.triplesContext,d=b.chainSubject;if(e.pairs)for(var g=0;g<e.pairs.length;g++){var A=e.pairs[g];if(b.token==="triplesnodecollection")for(var k=0;k<d.length;k++){var j=d[k];if(j.triplesContext!=null){var h={subject:j.chainSubject,predicate:A[0],object:A[1]};c.concat(j.triplesContext)}else h={subject:d[k],predicate:A[0],object:A[1]},c.push(h)}else h={subject:d,predicate:A[0],object:A[1]},c.push(h)}g={token:"triplessamesubject"};g.triplesContext=c;g.chainSubject=d;return g}(k[1],k[3]):null;d=d!==null?
d:null}(q=c)&&d===null&&e("[66] TriplesSameSubject");z[b]={nextPos:g,result:d};return d}function D(){var c="PropertyListNotEmpty@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var A=g,k=H();if(k!==null){for(var j=[],h=B();h!==null;)j.push(h),h=B();if(j!==null)if(h=G(),h!==null){for(var n=[],o=g,r=[],u=B();u!==null;)r.push(u),u=B();if(r!==null)if(b.substr(g,1)===";"?(u=";",g+=1):(u=null,q&&e('";"')),u!==null){for(var v=[],w=B();w!==null;)v.push(w),w=B();if(v!==null){var w=g,F=H();if(F!==null){for(var Q=
[],P=B();P!==null;)Q.push(P),P=B();Q!==null?(P=G(),P!==null?F=[F,Q,P]:(F=null,g=w)):(F=null,g=w)}else F=null,g=w;w=F!==null?F:"";w!==null?r=[r,u,v,w]:(r=null,g=o)}else r=null,g=o}else r=null,g=o;else r=null,g=o;for(;r!==null;){n.push(r);o=g;r=[];for(u=B();u!==null;)r.push(u),u=B();if(r!==null)if(b.substr(g,1)===";"?(u=";",g+=1):(u=null,q&&e('";"')),u!==null){v=[];for(w=B();w!==null;)v.push(w),w=B();if(v!==null){w=g;F=H();if(F!==null){Q=[];for(P=B();P!==null;)Q.push(P),P=B();Q!==null?(P=G(),P!==null?
F=[F,Q,P]:(F=null,g=w)):(F=null,g=w)}else F=null,g=w;w=F!==null?F:"";w!==null?r=[r,u,v,w]:(r=null,g=o)}else r=null,g=o}else r=null,g=o;else r=null,g=o}n!==null?k=[k,j,h,n]:(k=null,g=A)}else k=null,g=A;else k=null,g=A}else k=null,g=A;A=k!==null?function(b,e,c){token={token:"propertylist"};for(var d=[],g=[],A=0;A<e.length;A++)e[A].triplesContext!=null?(d=d.concat(e[A].triplesContext),e[A].token==="triplesnodecollection"&&e[A].chainSubject.length!=null?g.push([b,e[A].chainSubject[0]]):g.push([b,e[A].chainSubject])):
g.push([b,e[A]]);for(A=0;A<c.length;A++)for(var e=c[A][3],b=e[0],e=e[2]||[],k=0;k<e.length;k++)e[k].triplesContext!=null?(d=d.concat(e[k].triplesContext),g.push([b,e[k].chainSubject])):g.push([b,e[k]]);token.pairs=g;token.triplesContext=d;return token}(k[0],k[2],k[3]):null;(q=d)&&A===null&&e("[67] PropertyListNotEmpty");z[c]={nextPos:g,result:A};return A}function F(){var b="PropertyList@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=D(),d=d!==null?d:"";(q=c)&&d===null&&e("[68] PropertyList");
z[b]={nextPos:g,result:d};return d}function G(){var c="ObjectList@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var A=g,k=na();if(k!==null){for(var j=[],h=B();h!==null;)j.push(h),h=B();if(j!==null){var h=[],n=g;if(b.substr(g,1)===","){var o=",";g+=1}else o=null,q&&e('","');if(o!==null){for(var r=[],u=B();u!==null;)r.push(u),u=B();r!==null?(u=na(),u!==null?o=[o,r,u]:(o=null,g=n)):(o=null,g=n)}else o=null,g=n;for(;o!==null;)if(h.push(o),n=g,b.substr(g,1)===","?(o=",",g+=1):(o=null,q&&e('","')),
o!==null){r=[];for(u=B();u!==null;)r.push(u),u=B();r!==null?(u=na(),u!==null?o=[o,r,u]:(o=null,g=n)):(o=null,g=n)}else o=null,g=n;h!==null?k=[k,j,h]:(k=null,g=A)}else k=null,g=A}else k=null,g=A;A=k!==null?function(b,e){var c=[];c.push(b);for(var d=0;d<e.length;d++)for(var g=0;g<e[d].length;g++)typeof e[d][g]=="object"&&e[d][g].token!=null&&c.push(e[d][g]);return c}(k[0],k[2]):null;(q=d)&&A===null&&e("[69] ObjectList");z[c]={nextPos:g,result:A};return A}function H(){var c="Verb@"+g,d=z[c];if(d)return g=
d.nextPos,d.result;d=q;q=!1;var A=wa();A===null&&(b.substr(g,1)==="a"?(A="a",g+=1):(A=null,q&&e('"a"')),A=A!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null,A=A!==null?A:null);(q=d)&&A===null&&e("[71] Verb");z[c]={nextPos:g,result:A};return A}function Z(){var b="VerbPath@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=L(),d=d!==null?d:null;(q=c)&&d===null&&e("[75]");z[b]={nextPos:g,result:d};return d}function L(){var c="PathAlternative@"+
g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var A=g,k=K();if(k!==null){var j=[],h=g;if(b.substr(g,1)==="|"){var n="|";g+=1}else n=null,q&&e('"|"');if(n!==null){var o=K();o!==null?n=[n,o]:(n=null,g=h)}else n=null,g=h;for(;n!==null;)j.push(n),h=g,b.substr(g,1)==="|"?(n="|",g+=1):(n=null,q&&e('"|"')),n!==null?(o=K(),o!==null?n=[n,o]:(n=null,g=h)):(n=null,g=h);j!==null?k=[k,j]:(k=null,g=A)}else k=null,g=A;(q=d)&&k===null&&e("[78] PathAlternative");z[c]={nextPos:g,result:k};return k}function K(){var c=
"PathSequence@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var A=g,k=O();if(k!==null){var j=[],h=g;if(b.substr(g,1)==="/"){var n="/";g+=1}else n=null,q&&e('"/"');if(n!==null){var o=O();o!==null?n=[n,o]:(n=null,g=h)}else n=null,g=h;for(;n!==null;)j.push(n),h=g,b.substr(g,1)==="/"?(n="/",g+=1):(n=null,q&&e('"/"')),n!==null?(o=O(),o!==null?n=[n,o]:(n=null,g=h)):(n=null,g=h);j!==null?k=[k,j]:(k=null,g=A)}else k=null,g=A;(q=d)&&k===null&&e("[79] PathSequence");z[c]={nextPos:g,result:k};return k}
function I(){var b="PathElt@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=g,k=S();if(k!==null){var j=X(),j=j!==null?j:"";j!==null?k=[k,j]:(k=null,g=d)}else k=null,g=d;(q=c)&&k===null&&e("[88] PathElt");z[b]={nextPos:g,result:k};return k}function O(){var c="PathEltOrInverse@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var A=I();if(A===null){A=g;if(b.substr(g,1)==="^"){var k="^";g+=1}else k=null,q&&e('"^"');if(k!==null){var j=I();j!==null?k=[k,j]:(k=null,g=A)}else k=null,g=A;A=
k!==null?k:null}(q=d)&&A===null&&e("[81] PathEltOrInverse");z[c]={nextPos:g,result:A};return A}function X(){var c="PathMod@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;if(b.substr(g,1)==="*"){var k="*";g+=1}else k=null,q&&e('"*"');if(k===null&&(b.substr(g,1)==="?"?(k="?",g+=1):(k=null,q&&e('"?"')),k===null&&(b.substr(g,1)==="+"?(k="+",g+=1):(k=null,q&&e('"+"')),k===null))){k=g;if(b.substr(g,1)==="{"){var j="{";g+=1}else j=null,q&&e('"{"');if(j!==null){var h=g,n=$();if(n!==null){var o=g;if(b.substr(g,
1)===","){var r=",";g+=1}else r=null,q&&e('","');if(r!==null){if(b.substr(g,1)==="}"){var u="}";g+=1}else u=null,q&&e('"}"');if(u===null){var u=g,v=$();if(v!==null){if(b.substr(g,1)==="}"){var w="}";g+=1}else w=null,q&&e('"}"');w!==null?v=[v,w]:(v=null,g=u)}else v=null,g=u;u=v!==null?v:null}u!==null?r=[r,u]:(r=null,g=o)}else r=null,g=o;r!==null?o=r:(b.substr(g,1)==="}"?(o="}",g+=1):(o=null,q&&e('"}"')),o=o!==null?o:null);o!==null?n=[n,o]:(n=null,g=h)}else n=null,g=h;n!==null?h=n:(h=g,b.substr(g,1)===
","?(n=",",g+=1):(n=null,q&&e('","')),n!==null?(o=$(),o!==null?(b.substr(g,1)==="}"?(r="}",g+=1):(r=null,q&&e('"}"')),r!==null?n=[n,o,r]:(n=null,g=h)):(n=null,g=h)):(n=null,g=h),h=n!==null?n:null);h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j:null}(q=d)&&k===null&&e("[82] PathMod");z[c]={nextPos:g,result:k};return k}function S(){var c="PathPrimary@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=oa();if(k===null&&(b.substr(g,1)==="a"?(k="a",g+=1):(k=null,q&&e('"a"')),k===null)){k=
g;if(b.substr(g,1)==="!"){var j="!";g+=1}else j=null,q&&e('"!"');if(j!==null){var h=ea();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;if(j!==null)k=j;else{k=g;b.substr(g,1)==="("?(j="(",g+=1):(j=null,q&&e('"("'));if(j!==null)if(h=L(),h!==null){if(b.substr(g,1)===")"){var n=")";g+=1}else n=null,q&&e('")"');n!==null?j=[j,h,n]:(j=null,g=k)}else j=null,g=k;else j=null,g=k;k=j!==null?j:null}}(q=d)&&k===null&&e("[83] PathPrimary");z[c]={nextPos:g,result:k};return k}function ea(){var c="PathNegatedPropertySet@"+
g,d=z[c];if(d)return g=d.nextPos,d.result;d=ab();if(d===null){d=g;if(b.substr(g,1)==="("){var k="(";g+=1}else k=null,q&&e('"("');if(k!==null){var j=g,h=ab();if(h!==null){var n=[],o=g;if(b.substr(g,1)==="|"){var r="|";g+=1}else r=null,q&&e('"|"');if(r!==null){var u=ab();u!==null?r=[r,u]:(r=null,g=o)}else r=null,g=o;for(;r!==null;)n.push(r),o=g,b.substr(g,1)==="|"?(r="|",g+=1):(r=null,q&&e('"|"')),r!==null?(u=ab(),u!==null?r=[r,u]:(r=null,g=o)):(r=null,g=o);n!==null?h=[h,n]:(h=null,g=j)}else h=null,
g=j;j=h!==null?h:"";j!==null?(b.substr(g,1)===")"?(h=")",g+=1):(h=null,q&&e('")"')),h!==null?k=[k,j,h]:(k=null,g=d)):(k=null,g=d)}else k=null,g=d;d=k!==null?k:null}z[c]={nextPos:g,result:d};return d}function ab(){var c="PathOneInPropertySet@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=oa();if(k===null&&(b.substr(g,1)==="a"?(k="a",g+=1):(k=null,q&&e('"a"')),k===null)){k=g;if(b.substr(g,1)==="^"){var j="^";g+=1}else j=null,q&&e('"^"');if(j!==null){var h=oa();h===null&&(b.substr(g,1)===
"a"?(h="a",g+=1):(h=null,q&&e('"a"')),h=h!==null?h:null);h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j:null}(q=d)&&k===null&&e("[85] PathOneInPropertySet");z[c]={nextPos:g,result:k};return k}function Gb(){var b="TriplesNode@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=ca(),d=d!==null?function(b){triplesContext=[];chainSubject=[];for(var e=null,c=0;c<b.length;c++)W++,e=null,b[c].chainSubject==null&&b[c].triplesContext==null?e=b[c]:(e=b[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),
e={subject:{token:"blank",label:"_:"+W},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:e},c==0&&chainSubject.push(e.subject),triplesContext.push(e),e=c===b.length-1?{subject:{token:"blank",label:"_:"+W},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+
W},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(W+1)}},triplesContext.push(e);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(d):null;d===null&&(d=fa(),d=d!==null?d:null);(q=c)&&d===null&&e("[87] TriplesNode");z[b]={nextPos:g,result:d};return d}function fa(){var c="BlankNodePropertyList@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;for(var k=g,j=[],h=B();h!==
null;)j.push(h),h=B();if(j!==null)if(b.substr(g,1)==="["?(h="[",g+=1):(h=null,q&&e('"["')),h!==null){for(var n=[],o=B();o!==null;)n.push(o),o=B();if(n!==null)if(o=D(),o!==null){for(var r=[],u=B();u!==null;)r.push(u),u=B();if(r!==null)if(b.substr(g,1)==="]"?(u="]",g+=1):(u=null,q&&e('"]"')),u!==null){for(var v=[],w=B();w!==null;)v.push(w),w=B();v!==null?j=[j,h,n,o,r,u,v]:(j=null,g=k)}else j=null,g=k;else j=null,g=k}else j=null,g=k;else j=null,g=k}else j=null,g=k;else j=null,g=k;k=j!==null?function(b){W++;
for(var e={token:"blank",label:""+W},c=[],d=0;d<b.pairs.length;d++){var g=b.pairs[d],k={};k.subject=e;k.predicate=g[0];k.object=g[1];c.push(k)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:b.triplesContext.concat(c),chainSubject:e}}(j[3]):null;(q=d)&&k===null&&e("[88] BlankNodePropertyList");z[c]={nextPos:g,result:k};return k}function ca(){var c="Collection@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;for(var k=g,j=[],h=B();h!==null;)j.push(h),h=B();if(j!==null)if(b.substr(g,
1)==="("?(h="(",g+=1):(h=null,q&&e('"("')),h!==null){for(var n=[],o=B();o!==null;)n.push(o),o=B();if(n!==null){var r=na();if(r!==null)for(o=[];r!==null;)o.push(r),r=na();else o=null;if(o!==null){for(var r=[],u=B();u!==null;)r.push(u),u=B();if(r!==null)if(b.substr(g,1)===")"?(u=")",g+=1):(u=null,q&&e('")"')),u!==null){for(var v=[],w=B();w!==null;)v.push(w),w=B();v!==null?j=[j,h,n,o,r,u,v]:(j=null,g=k)}else j=null,g=k;else j=null,g=k}else j=null,g=k}else j=null,g=k}else j=null,g=k;else j=null,g=k;k=
j!==null?j[3]:null;(q=d)&&k===null&&e("[89] Collection");z[c]={nextPos:g,result:k};return k}function na(){var b="GraphNode@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;for(var d=g,k=[],j=B();j!==null;)k.push(j),j=B();if(k!==null)if(j=Ma(),j!==null){for(var h=[],n=B();n!==null;)h.push(n),n=B();h!==null?k=[k,j,h]:(k=null,g=d)}else k=null,g=d;else k=null,g=d;if(k!==null)d=k;else{d=g;k=[];for(j=B();j!==null;)k.push(j),j=B();if(k!==null)if(j=Gb(),j!==null){h=[];for(n=B();n!==null;)h.push(n),n=
B();h!==null?k=[k,j,h]:(k=null,g=d)}else k=null,g=d;else k=null,g=d;d=k!==null?k:null}d=d!==null?d[1]:null;(q=c)&&d===null&&e("[90] GraphNode");z[b]={nextPos:g,result:d};return d}function Ma(){var b="VarOrTerm@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=pa();d===null&&(d=ia(),d=d!==null?d:null);(q=c)&&d===null&&e("[91] VarOrTerm");z[b]={nextPos:g,result:d};return d}function wa(){var b="VarOrIRIref@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=pa();d===null&&(d=oa(),d=d!==
null?d:null);(q=c)&&d===null&&e("[92] VarOrIRIref");z[b]={nextPos:g,result:d};return d}function pa(){var b="Var@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=Oa();d===null&&(d=Pa(),d=d!==null?d:null);d=d!==null?function(b){var e={token:"var"};e.value=b;return e}(d):null;(q=c)&&d===null&&e("[93] Var");z[b]={nextPos:g,result:d};return d}function ia(){var b="GraphTerm@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=oa();d===null&&(d=ga(),d===null&&(d=bb(),d===null&&(d=cb(),d===
null&&(d=Qa(),d===null&&(d=eb(),d=d!==null?d:null)))));(q=c)&&d===null&&e("[94] GraphTerm");z[b]={nextPos:g,result:d};return d}function ga(){var c="RDFLiteral@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g,j=fb();if(j!==null){var h=Ra();if(h===null){h=g;if(b.substr(g,2)==="^^"){var n="^^";g+=2}else n=null,q&&e('"^^"');if(n!==null){var o=oa();o!==null?n=[n,o]:(n=null,g=h)}else n=null,g=h;h=n!==null?n:null}h=h!==null?h:"";h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b,
e){return typeof e==="string"&&e.length>0?{token:"literal",value:b.value,lang:e.slice(1),type:null}:typeof e==="object"?(e.shift(),{token:"literal",value:b.value,lang:null,type:e[0]}):{token:"literal",value:b.value,lang:null,type:null}}(j[0],j[1]):null;(q=d)&&k===null&&e("[112] RDFLiteral");z[c]={nextPos:g,result:k};return k}function bb(){var b="NumericLiteral@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=gb();d===null&&(d=hb(),d===null&&(d=ib(),d=d!==null?d:null));(q=c)&&d===null&&e("[113] NumericLiteral");
z[b]={nextPos:g,result:d};return d}function gb(){var b="NumericLiteralUnsigned@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=Ha();d===null&&(d=T(),d===null&&(d=$(),d=d!==null?d:null));(q=c)&&d===null&&e("[114] NumericLiteralUnsigned");z[b]={nextPos:g,result:d};return d}function hb(){var b="NumericLiteralPositive@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=jb();d===null&&(d=Sa(),d===null&&(d=xa(),d=d!==null?d:null));(q=c)&&d===null&&e("[115] NumericLiteralPositive");z[b]=
{nextPos:g,result:d};return d}function ib(){var b="NumericLiteralNegative@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=kb();d===null&&(d=lb(),d===null&&(d=mb(),d=d!==null?d:null));(q=c)&&d===null&&e("[116] NumericLiteralNegative");z[b]={nextPos:g,result:d};return d}function cb(){var c="BooleanLiteral@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;if(b.substr(g,4)==="true"){var k="true";g+=4}else k=null,q&&e('"true"');k=k!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",
value:!0}:null;k===null&&(b.substr(g,5)==="false"?(k="false",g+=5):(k=null,q&&e('"false"')),k=k!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null,k=k!==null?k:null);(q=d)&&k===null&&e("[117] BooleanLiteral");z[c]={nextPos:g,result:k};return k}function fb(){var b="String@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=Ta(),d=d!==null?{token:"string",value:d}:null;d===null&&(d=Ua(),d=d!==null?{token:"string",value:d}:null,d===null&&(d=nb(),
d=d!==null?{token:"string",value:d}:null,d===null&&(d=ya(),d=d!==null?{token:"string",value:d}:null,d=d!==null?d:null)));(q=c)&&d===null&&e("[118] String");z[b]={nextPos:g,result:d};return d}function oa(){var b="IRIref@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=va(),d=d!==null?{token:"uri",prefix:null,suffix:null,value:d}:null;d===null&&(d=ob(),d=d!==null?d:null,d=d!==null?d:null);(q=c)&&d===null&&e("[119] IRIref");z[b]={nextPos:g,result:d};return d}function ob(){var b="PrefixedName@"+
g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=Va(),d=d!==null?{token:"uri",prefix:d[0],suffix:d[1],value:null}:null;d===null&&(d=za(),d=d!==null?{token:"uri",prefix:d,suffix:"",value:null}:null,d=d!==null?d:null);(q=c)&&d===null&&e("[120] PrefixedName");z[b]={nextPos:g,result:d};return d}function Qa(){var b="BlankNode@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=Wa(),d=d!==null?{token:"blank",label:d}:null;d===null&&(Aa()!==null?(W++,d={token:"blank",label:""+W}):d=null,d=
d!==null?d:null);(q=c)&&d===null&&e("[121] BlankNode");z[b]={nextPos:g,result:d};return d}function va(){var c="IRI_REF@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="<"){var j="<";g+=1}else j=null,q&&e('"<"');if(j!==null){var h=[];if(b.substr(g).match(/^[^<>"{} | ^\\]/)!==null){var n=b.charAt(g);g++}else n=null,q&&e('[^<>"{} | ^\\\\]');for(;n!==null;)h.push(n),b.substr(g).match(/^[^<>"{} | ^\\]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e('[^<>"{} | ^\\\\]'));h!==null?
(b.substr(g,1)===">"?(n=">",g+=1):(n=null,q&&e('">"')),n!==null?j=[j,h,n]:(j=null,g=k)):(j=null,g=k)}else j=null,g=k;k=j!==null?j[1].join(""):null;(q=d)&&k===null&&e("[122] IRI_REF");z[c]={nextPos:g,result:k};return k}function za(){var c="PNAME_NS@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g,j=Ga(),j=j!==null?j:"";if(j!==null){if(b.substr(g,1)===":"){var h=":";g+=1}else h=null,q&&e('":"');h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j[0]:null;(q=d)&&k===null&&e("[123] PNAME_NS");
z[c]={nextPos:g,result:k};return k}function Va(){var b="PNAME_LN@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=g,k=za();if(k!==null){var j=Ba();j!==null?k=[k,j]:(k=null,g=d)}else k=null,g=d;d=k!==null?[k[0],k[1]]:null;(q=c)&&d===null&&e("[124] PNAME_LN");z[b]={nextPos:g,result:d};return d}function Wa(){var c="BLANK_NODE_LABEL@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,2)==="_:"){var j="_:";g+=2}else j=null,q&&e('"_:"');if(j!==null){var h=Ba();h!==null?
j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j[1]:null;(q=d)&&k===null&&e("[125] BLANK_NODE_LABEL");z[c]={nextPos:g,result:k};return k}function Oa(){var c="VAR1@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="?"){var j="?";g+=1}else j=null,q&&e('"?"');if(j!==null){var h=Ca();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j[1]:null;(q=d)&&k===null&&e("[126] VAR1");z[c]={nextPos:g,result:k};return k}function Pa(){var c="VAR2@"+g,d=z[c];if(d)return g=d.nextPos,
d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="$"){var j="$";g+=1}else j=null,q&&e('"$"');if(j!==null){var h=Ca();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j[1]:null;(q=d)&&k===null&&e("[127] VAR2");z[c]={nextPos:g,result:k};return k}function Ra(){var c="LANGTAG@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="@"){var j="@";g+=1}else j=null,q&&e('"@"');if(j!==null){if(b.substr(g).match(/^[a-zA-Z]/)!==null){var h=b.charAt(g);g++}else h=null,q&&e("[a-zA-Z]");
if(h!==null)for(var n=[];h!==null;)n.push(h),b.substr(g).match(/^[a-zA-Z]/)!==null?(h=b.charAt(g),g++):(h=null,q&&e("[a-zA-Z]"));else n=null;if(n!==null){var h=[],o=g;if(b.substr(g,1)==="-"){var r="-";g+=1}else r=null,q&&e('"-"');if(r!==null){if(b.substr(g).match(/^[a-zA-Z0-9]/)!==null){var u=b.charAt(g);g++}else u=null,q&&e("[a-zA-Z0-9]");if(u!==null)for(var v=[];u!==null;)v.push(u),b.substr(g).match(/^[a-zA-Z0-9]/)!==null?(u=b.charAt(g),g++):(u=null,q&&e("[a-zA-Z0-9]"));else v=null;v!==null?r=[r,
v]:(r=null,g=o)}else r=null,g=o;for(;r!==null;)if(h.push(r),o=g,b.substr(g,1)==="-"?(r="-",g+=1):(r=null,q&&e('"-"')),r!==null){b.substr(g).match(/^[a-zA-Z0-9]/)!==null?(u=b.charAt(g),g++):(u=null,q&&e("[a-zA-Z0-9]"));if(u!==null)for(v=[];u!==null;)v.push(u),b.substr(g).match(/^[a-zA-Z0-9]/)!==null?(u=b.charAt(g),g++):(u=null,q&&e("[a-zA-Z0-9]"));else v=null;v!==null?r=[r,v]:(r=null,g=o)}else r=null,g=o;h!==null?j=[j,n,h]:(j=null,g=k)}else j=null,g=k}else j=null,g=k;k=j!==null?j[2].length===0?("@"+
j[1].join("")).toLowerCase():("@"+j[1].join("")+"-"+j[2][0][1].join("")).toLowerCase():null;(q=d)&&k===null&&e("[128] LANGTAG");z[c]={nextPos:g,result:k};return k}function $(){var c="INTEGER@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;if(b.substr(g).match(/^[0-9]/)!==null){var k=b.charAt(g);g++}else k=null,q&&e("[0-9]");if(k!==null)for(var j=[];k!==null;)j.push(k),b.substr(g).match(/^[0-9]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[0-9]"));else j=null;k=j!==null?function(b){lit={token:"literal",
lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=aa(b);return lit}(j):null;(q=d)&&k===null&&e("[129] INTEGER");z[c]={nextPos:g,result:k};return k}function T(){var c="DECIMAL@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g).match(/^[0-9]/)!==null){var j=b.charAt(g);g++}else j=null,q&&e("[0-9]");if(j!==null)for(var h=[];j!==null;)h.push(j),b.substr(g).match(/^[0-9]/)!==null?(j=b.charAt(g),g++):(j=null,q&&e("[0-9]"));else h=null;if(h!==null)if(b.substr(g,
1)==="."?(j=".",g+=1):(j=null,q&&e('"."')),j!==null){var n=[];if(b.substr(g).match(/^[0-9]/)!==null){var o=b.charAt(g);g++}else o=null,q&&e("[0-9]");for(;o!==null;)n.push(o),b.substr(g).match(/^[0-9]/)!==null?(o=b.charAt(g),g++):(o=null,q&&e("[0-9]"));n!==null?h=[h,j,n]:(h=null,g=k)}else h=null,g=k;else h=null,g=k;k=h!==null?function(b,c,e){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=aa([b,c,e]);return lit}(h[0],h[1],h[2]):null;if(k===null){k=g;b.substr(g,
1)==="."?(h=".",g+=1):(h=null,q&&e('"."'));if(h!==null){b.substr(g).match(/^[0-9]/)!==null?(j=b.charAt(g),g++):(j=null,q&&e("[0-9]"));if(j!==null)for(n=[];j!==null;)n.push(j),b.substr(g).match(/^[0-9]/)!==null?(j=b.charAt(g),g++):(j=null,q&&e("[0-9]"));else n=null;n!==null?h=[h,n]:(h=null,g=k)}else h=null,g=k;k=h!==null?function(b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=aa([b,c]);return lit}(h[0],h[1]):null;k=k!==null?k:null}(q=d)&&k===null&&e("[130] DECIMAL");
z[c]={nextPos:g,result:k};return k}function Ha(){var c="DOUBLE@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g).match(/^[0-9]/)!==null){var j=b.charAt(g);g++}else j=null,q&&e("[0-9]");if(j!==null)for(var h=[];j!==null;)h.push(j),b.substr(g).match(/^[0-9]/)!==null?(j=b.charAt(g),g++):(j=null,q&&e("[0-9]"));else h=null;if(h!==null)if(b.substr(g,1)==="."?(j=".",g+=1):(j=null,q&&e('"."')),j!==null){var n=[];if(b.substr(g).match(/^[0-9]/)!==null){var o=b.charAt(g);g++}else o=
null,q&&e("[0-9]");for(;o!==null;)n.push(o),b.substr(g).match(/^[0-9]/)!==null?(o=b.charAt(g),g++):(o=null,q&&e("[0-9]"));n!==null?(o=Ia(),o!==null?h=[h,j,n,o]:(h=null,g=k)):(h=null,g=k)}else h=null,g=k;else h=null,g=k;k=h!==null?function(b,c,e,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=aa([b,c,e,d]);return lit}(h[0],h[1],h[2],h[3]):null;if(k===null){k=g;b.substr(g,1)==="."?(h=".",g+=1):(h=null,q&&e('"."'));if(h!==null){b.substr(g).match(/^[0-9]/)!==
null?(n=b.charAt(g),g++):(n=null,q&&e("[0-9]"));if(n!==null)for(j=[];n!==null;)j.push(n),b.substr(g).match(/^[0-9]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[0-9]"));else j=null;j!==null?(n=Ia(),n!==null?h=[h,j,n]:(h=null,g=k)):(h=null,g=k)}else h=null,g=k;k=h!==null?function(b,c,e){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=aa([b,c,e]);return lit}(h[0],h[1],h[2]):null;if(k===null){k=g;b.substr(g).match(/^[0-9]/)!==null?(j=b.charAt(g),g++):(j=null,q&&
e("[0-9]"));if(j!==null)for(h=[];j!==null;)h.push(j),b.substr(g).match(/^[0-9]/)!==null?(j=b.charAt(g),g++):(j=null,q&&e("[0-9]"));else h=null;h!==null?(j=Ia(),j!==null?h=[h,j]:(h=null,g=k)):(h=null,g=k);k=h!==null?function(b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=aa([b,c]);return lit}(h[0],h[1]):null;k=k!==null?k:null}}(q=d)&&k===null&&e("[131] DOUBLE");z[c]={nextPos:g,result:k};return k}function xa(){var c="INTEGER_POSITIVE@"+g,d=z[c];if(d)return g=
d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="+"){var j="+";g+=1}else j=null,q&&e('"+"');if(j!==null){var h=$();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b){b.value="+"+b.value;return b}(j[1]):null;(q=d)&&k===null&&e("[132] INTEGER_POSITIVE");z[c]={nextPos:g,result:k};return k}function Sa(){var c="DECIMAL_POSITIVE@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="+"){var j="+";g+=1}else j=null,q&&e('"+"');if(j!==null){var h=T();h!==
null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b){b.value="+"+b.value;return b}(j[1]):null;(q=d)&&k===null&&e("[133] DECIMAL_POSITIVE");z[c]={nextPos:g,result:k};return k}function jb(){var c="DOUBLE_POSITIVE@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="+"){var j="+";g+=1}else j=null,q&&e('"+"');if(j!==null){var h=Ha();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b){b.value="+"+b.value;return b}(j[1]):null;(q=d)&&k===null&&e("[134] DOUBLE_POSITIVE");
z[c]={nextPos:g,result:k};return k}function mb(){var c="INTEGER_NEGATIVE@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="-"){var j="-";g+=1}else j=null,q&&e('"-"');if(j!==null){var h=$();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b){b.value="-"+b.value;return b}(j[1]):null;(q=d)&&k===null&&e("[135] INTEGER_NEGATIVE");z[c]={nextPos:g,result:k};return k}function lb(){var c="DECIMAL_NEGATIVE@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;
var k=g;if(b.substr(g,1)==="-"){var j="-";g+=1}else j=null,q&&e('"-"');if(j!==null){var h=T();h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b){b.value="-"+b.value;return b}(j[1]):null;(q=d)&&k===null&&e("[136] DECIMAL_NEGATIVE");z[c]={nextPos:g,result:k};return k}function kb(){var c="DOUBLE_NEGATIVE@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="-"){var j="-";g+=1}else j=null,q&&e('"-"');if(j!==null){var h=Ha();h!==null?j=[j,h]:(j=null,g=k)}else j=
null,g=k;k=j!==null?function(b){b.value="-"+b.value;return b}(j[1]):null;(q=d)&&k===null&&e("[137] DOUBLE_NEGATIVE");z[c]={nextPos:g,result:k};return k}function Ia(){var c="EXPONENT@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g).match(/^[eE]/)!==null){var j=b.charAt(g);g++}else j=null,q&&e("[eE]");if(j!==null){if(b.substr(g).match(/^[+\-]/)!==null){var h=b.charAt(g);g++}else h=null,q&&e("[+\\-]");h=h!==null?h:"";if(h!==null){if(b.substr(g).match(/^[0-9]/)!==null){var n=
b.charAt(g);g++}else n=null,q&&e("[0-9]");if(n!==null)for(var o=[];n!==null;)o.push(n),b.substr(g).match(/^[0-9]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[0-9]"));else o=null;o!==null?j=[j,h,o]:(j=null,g=k)}else j=null,g=k}else j=null,g=k;k=j!==null?aa([j[0],j[1],j[2]]):null;(q=d)&&k===null&&e("[138] EXPONENT");z[c]={nextPos:g,result:k};return k}function nb(){var c="STRING_LITERAL1@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="'"){var j="'";g+=1}else j=null,q&&
e('"\'"');if(j!==null){var h=[];if(b.substr(g).match(/^[^'\\\n\r]/)!==null){var n=b.charAt(g);g++}else n=null,q&&e("[^'\\\\\\n\\r]");n===null&&(n=ha(),n=n!==null?n:null);for(;n!==null;)h.push(n),b.substr(g).match(/^[^'\\\n\r]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[^'\\\\\\n\\r]")),n===null&&(n=ha(),n=n!==null?n:null);h!==null?(b.substr(g,1)==="'"?(n="'",g+=1):(n=null,q&&e('"\'"')),n!==null?j=[j,h,n]:(j=null,g=k)):(j=null,g=k)}else j=null,g=k;k=j!==null?aa(j[1]):null;(q=d)&&k===null&&e("[139] STRING_LITERAL1");
z[c]={nextPos:g,result:k};return k}function ya(){var c="STRING_LITERAL2@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==='"'){var j='"';g+=1}else j=null,q&&e('"\\""');if(j!==null){var h=[];if(b.substr(g).match(/^[^"\\\n\r]/)!==null){var n=b.charAt(g);g++}else n=null,q&&e('[^"\\\\\\n\\r]');n===null&&(n=ha(),n=n!==null?n:null);for(;n!==null;)h.push(n),b.substr(g).match(/^[^"\\\n\r]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e('[^"\\\\\\n\\r]')),n===null&&(n=ha(),n=n!==null?
n:null);h!==null?(b.substr(g,1)==='"'?(n='"',g+=1):(n=null,q&&e('"\\""')),n!==null?j=[j,h,n]:(j=null,g=k)):(j=null,g=k)}else j=null,g=k;k=j!==null?aa(j[1]):null;(q=d)&&k===null&&e("[140] STRING_LITERAL2");z[c]={nextPos:g,result:k};return k}function Ta(){var c="STRING_LITERAL_LONG1@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,3)==="'''"){var j="'''";g+=3}else j=null,q&&e("\"'''\"");if(j!==null){var h=[];if(b.substr(g).match(/^[^'\\]/)!==null){var n=b.charAt(g);g++}else n=
null,q&&e("[^'\\\\]");n===null&&(n=ha(),n=n!==null?n:null);for(;n!==null;)h.push(n),b.substr(g).match(/^[^'\\]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[^'\\\\]")),n===null&&(n=ha(),n=n!==null?n:null);h!==null?(b.substr(g,3)==="'''"?(n="'''",g+=3):(n=null,q&&e("\"'''\"")),n!==null?j=[j,h,n]:(j=null,g=k)):(j=null,g=k)}else j=null,g=k;k=j!==null?aa(j[1]):null;(q=d)&&k===null&&e("[141] STRING_LITERAL_LONG1");z[c]={nextPos:g,result:k};return k}function Ua(){var c="STRING_LITERAL_LONG2@"+g,d=z[c];if(d)return g=
d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,3)==='"""'){var j='"""';g+=3}else j=null,q&&e('"\\"\\"\\""');if(j!==null){var h=[];if(b.substr(g).match(/^[^"\\]/)!==null){var n=b.charAt(g);g++}else n=null,q&&e('[^"\\\\]');n===null&&(n=ha(),n=n!==null?n:null);for(;n!==null;)h.push(n),b.substr(g).match(/^[^"\\]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e('[^"\\\\]')),n===null&&(n=ha(),n=n!==null?n:null);h!==null?(b.substr(g,3)==='"""'?(n='"""',g+=3):(n=null,q&&e('"\\"\\"\\""')),n!==null?j=[j,h,n]:(j=
null,g=k)):(j=null,g=k)}else j=null,g=k;k=j!==null?aa(j[1]):null;(q=d)&&k===null&&e("[142] STRING_LITERAL_LONG2");z[c]={nextPos:g,result:k};return k}function ha(){var c="ECHAR@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="\\"){var j="\\";g+=1}else j=null,q&&e('"\\\\"');if(j!==null){if(b.substr(g).match(/^[tbnrf"']/)!==null){var h=b.charAt(g);g++}else h=null,q&&e("[tbnrf\"']");h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;(q=d)&&j===null&&e("[143] ECHAR");z[c]={nextPos:g,
result:j};return j}function eb(){var c="NIL@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="("){var j="(";g+=1}else j=null,q&&e('"("');if(j!==null){for(var h=[],n=B();n!==null;)h.push(n),n=B();h!==null?(b.substr(g,1)===")"?(n=")",g+=1):(n=null,q&&e('")"')),n!==null?j=[j,h,n]:(j=null,g=k)):(j=null,g=k)}else j=null,g=k;k=j!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;
(q=d)&&k===null&&e("[144] NIL");z[c]={nextPos:g,result:k};return k}function B(){var c="WS@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;if(b.substr(g).match(/^[ ]/)!==null){var k=b.charAt(g);g++}else k=null,q&&e("[ ]");k===null&&(b.substr(g).match(/^[\t]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\t]")),k===null&&(b.substr(g).match(/^[\r]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\r]")),k===null&&(b.substr(g).match(/^[\n]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\n]")),k===null&&(k=
Ja(),k=k!==null?k:null))));(q=d)&&k===null&&e("[145] WS");z[c]={nextPos:g,result:k};return k}function Ja(){var c="COMMENT@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="#"){var j="#";g+=1}else j=null,q&&e('"#"');if(j!==null){var h=[];if(b.substr(g).match(/^[^\n\r]/)!==null){var n=b.charAt(g);g++}else n=null,q&&e("[^\\n\\r]");for(;n!==null;)h.push(n),b.substr(g).match(/^[^\n\r]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[^\\n\\r]"));h!==null?j=[j,h]:(j=null,g=k)}else j=
null,g=k;(q=d)&&j===null&&e(" COMMENT");z[c]={nextPos:g,result:j};return j}function Aa(){var c="ANON@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g;if(b.substr(g,1)==="["){var j="[";g+=1}else j=null,q&&e('"["');if(j!==null){for(var h=[],n=B();n!==null;)h.push(n),n=B();h!==null?(b.substr(g,1)==="]"?(n="]",g+=1):(n=null,q&&e('"]"')),n!==null?j=[j,h,n]:(j=null,g=k)):(j=null,g=k)}else j=null,g=k;(q=d)&&j===null&&e("[146] ANON");z[c]={nextPos:g,result:j};return j}function Xa(){var c="PN_CHARS_BASE@"+
g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;if(b.substr(g).match(/^[A-Z]/)!==null){var k=b.charAt(g);g++}else k=null,q&&e("[A-Z]");k===null&&(b.substr(g).match(/^[a-z]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[a-z]")),k===null&&(b.substr(g).match(/^[\xC0-\xD6]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\xC0-\\xD6]")),k===null&&(b.substr(g).match(/^[\xD8-\xF6]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\xD8-\\xF6]")),k===null&&(b.substr(g).match(/^[\xF8-\u02FF]/)!==null?(k=b.charAt(g),
g++):(k=null,q&&e("[\\xF8-\\u02FF]")),k===null&&(b.substr(g).match(/^[\u0370-\u037D]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u0370-\\u037D]")),k===null&&(b.substr(g).match(/^[\u037F-\u1FFF]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u037F-\\u1FFF]")),k===null&&(b.substr(g).match(/^[\u200C-\u200D]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u200C-\\u200D]")),k===null&&(b.substr(g).match(/^[\u2070-\u218F]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u2070-\\u218F]")),k===null&&(b.substr(g).match(/^[\u2C00-\u2FEF]/)!==
null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u2C00-\\u2FEF]")),k===null&&(b.substr(g).match(/^[\u3001-\uD7FF]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u3001-\\uD7FF]")),k===null&&(b.substr(g).match(/^[\uF900-\uFDCF]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\uF900-\\uFDCF]")),k===null&&(b.substr(g).match(/^[\uFDF0-\uFFFD]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\uFDF0-\\uFFFD]")),k===null&&(b.substr(g).match(/^[\u1000-\uEFFF]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u1000-\\uEFFF]")),
k=k!==null?k:null)))))))))))));(q=d)&&k===null&&e("[147] PN_CHARS_BASE");z[c]={nextPos:g,result:k};return k}function ba(){var c="PN_CHARS_U@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=Xa();k===null&&(b.substr(g,1)==="_"?(k="_",g+=1):(k=null,q&&e('"_"')),k=k!==null?k:null);(q=d)&&k===null&&e("[148] PN_CHARS_U");z[c]={nextPos:g,result:k};return k}function Ca(){var c="VARNAME@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g,j=ba();j===null&&(b.substr(g).match(/^[0-9]/)!==null?
(j=b.charAt(g),g++):(j=null,q&&e("[0-9]")),j=j!==null?j:null);if(j!==null){var h=[],n=ba();n===null&&(b.substr(g).match(/^[0-9]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[0-9]")),n===null&&(b.substr(g).match(/^[\xB7]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[\\xB7]")),n===null&&(b.substr(g).match(/^[\u0300-\u036F]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[\\u0300-\\u036F]")),n===null&&(b.substr(g).match(/^[\u203F-\u2040]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[\\u203F-\\u2040]")),n=n!==null?
n:null))));for(;n!==null;)h.push(n),n=ba(),n===null&&(b.substr(g).match(/^[0-9]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[0-9]")),n===null&&(b.substr(g).match(/^[\xB7]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[\\xB7]")),n===null&&(b.substr(g).match(/^[\u0300-\u036F]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[\\u0300-\\u036F]")),n===null&&(b.substr(g).match(/^[\u203F-\u2040]/)!==null?(n=b.charAt(g),g++):(n=null,q&&e("[\\u203F-\\u2040]")),n=n!==null?n:null))));h!==null?j=[j,h]:(j=null,g=k)}else j=
null,g=k;k=j!==null?j[0]+j[1].join(""):null;(q=d)&&k===null&&e("[149] VARNAME");z[c]={nextPos:g,result:k};return k}function qa(){var c="PN_CHARS@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=ba();k===null&&(b.substr(g,1)==="-"?(k="-",g+=1):(k=null,q&&e('"-"')),k===null&&(b.substr(g).match(/^[0-9]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[0-9]")),k===null&&(b.substr(g).match(/^[\xB7]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\xB7]")),k===null&&(b.substr(g).match(/^[\u0300-\u036F]/)!==
null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u0300-\\u036F]")),k===null&&(b.substr(g).match(/^[\u203F-\u2040]/)!==null?(k=b.charAt(g),g++):(k=null,q&&e("[\\u203F-\\u2040]")),k=k!==null?k:null)))));(q=d)&&k===null&&e("[150] PN_CHARS");z[c]={nextPos:g,result:k};return k}function Ga(){var c="PN_PREFIX@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g,j=Xa();if(j!==null){var h=[],n=qa();n===null&&(b.substr(g,1)==="."?(n=".",g+=1):(n=null,q&&e('"."')),n=n!==null?n:null);for(;n!==null;)h.push(n),
n=qa(),n===null&&(b.substr(g,1)==="."?(n=".",g+=1):(n=null,q&&e('"."')),n=n!==null?n:null);h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?function(b,c){if(c[c.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return b+c.join("")}(j[0],j[1]):null;(q=d)&&k===null&&e("[151] PN_PREFIX");z[c]={nextPos:g,result:k};return k}function Ba(){var c="PN_LOCAL@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g,j=ba();j===null&&(b.substr(g).match(/^[0-9]/)!==null?(j=
b.charAt(g),g++):(j=null,q&&e("[0-9]")),j=j!==null?j:null);if(j!==null){var h=[],n=qa();n===null&&(b.substr(g,1)==="."?(n=".",g+=1):(n=null,q&&e('"."')),n=n!==null?n:null);for(;n!==null;)h.push(n),n=qa(),n===null&&(b.substr(g,1)==="."?(n=".",g+=1):(n=null,q&&e('"."')),n=n!==null?n:null);h!==null?j=[j,h]:(j=null,g=k)}else j=null,g=k;k=j!==null?j[0]+j[1].join(""):null;(q=d)&&k===null&&e("[152] PN_LOCAL");z[c]={nextPos:g,result:k};return k}function pb(){var c=function(b){b.sort();for(var c=null,e=[],
d=0;d<b.length;d++)b[d]!==c&&(e.push(b[d]),c=b[d]);switch(e.length){case 0:return"end of input";case 1:return e[0];default:return e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}}(Fa),e=Math.max(g,ja),e=e<b.length?j(b.charAt(e)):"end of input";return"Expected "+c+" but "+e+" found."}function Ya(){for(var c=1,e=1,d=!1,k=0;k<ja;k++){var j=b.charAt(k);j==="\n"?(d||c++,e=1,d=!1):j==="\r"|j==="\u2028"||j==="\u2029"?(c++,e=1,d=!0):(e++,d=!1)}return{line:c,column:e}}var ka={ANON:Aa,BLANK_NODE_LABEL:Wa,
BlankNode:Qa,BlankNodePropertyList:fa,BooleanLiteral:cb,COMMENT:Ja,Collection:ca,DECIMAL:T,DECIMAL_NEGATIVE:lb,DECIMAL_POSITIVE:Sa,DOUBLE:Ha,DOUBLE_NEGATIVE:kb,DOUBLE_POSITIVE:jb,ECHAR:ha,EXPONENT:Ia,GraphNode:na,GraphTerm:ia,INTEGER:$,INTEGER_NEGATIVE:mb,INTEGER_POSITIVE:xa,IRI_REF:va,IRIref:oa,LANGTAG:Ra,NIL:eb,NumericLiteral:bb,NumericLiteralNegative:ib,NumericLiteralPositive:hb,NumericLiteralUnsigned:gb,ObjectList:G,PNAME_LN:Va,PNAME_NS:za,PN_CHARS:qa,PN_CHARS_BASE:Xa,PN_CHARS_U:ba,PN_LOCAL:Ba,
PN_PREFIX:Ga,PathAlternative:L,PathElt:I,PathEltOrInverse:O,PathMod:X,PathNegatedPropertySet:ea,PathOneInPropertySet:ab,PathPrimary:S,PathSequence:K,PrefixedName:ob,PropertyList:F,PropertyListNotEmpty:D,PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+g,d=z[c];if(d)return g=d.nextPos,d.result;d=q;q=!1;var k=g,j=Z();j===null&&(j=pa(),j=j!==null?j:null);if(j!==null){var h=G();if(h!==null){var n=[],o=g;if(b.substr(g,1)===";"){var r=";";g+=1}else r=null,q&&e('";"');if(r!==null){var u=
g,v=Z();v===null&&(v=pa(),v=v!==null?v:null);if(v!==null){var w=G();w!==null?v=[v,w]:(v=null,g=u)}else v=null,g=u;u=v!==null?v:"";u!==null?r=[r,u]:(r=null,g=o)}else r=null,g=o;for(;r!==null;)n.push(r),o=g,b.substr(g,1)===";"?(r=";",g+=1):(r=null,q&&e('";"')),r!==null?(u=g,v=Z(),v===null&&(v=pa(),v=v!==null?v:null),v!==null?(w=G(),w!==null?v=[v,w]:(v=null,g=u)):(v=null,g=u),u=v!==null?v:"",u!==null?r=[r,u]:(r=null,g=o)):(r=null,g=o);n!==null?j=[j,h,n]:(j=null,g=k)}else j=null,g=k}else j=null,g=k;(q=
d)&&j===null&&e("[73] PropertyListNotEmptyPath");z[c]={nextPos:g,result:j};return j},PropertyListPath:function(){var b="PropertyListPath@"+g,c=z[b];if(c)return g=c.nextPos,c.result;c=q;q=!1;var d=D(),d=d!==null?d:"";(q=c)&&d===null&&e("[74] PropertyListPath");z[b]={nextPos:g,result:d};return d},RDFLiteral:ga,STRING_LITERAL1:nb,STRING_LITERAL2:ya,STRING_LITERAL_LONG1:Ta,STRING_LITERAL_LONG2:Ua,String:fb,TriplesBlock:u,TriplesNode:Gb,TriplesSameSubject:w,VAR1:Oa,VAR2:Pa,VARNAME:Ca,Var:pa,VarOrIRIref:wa,
VarOrTerm:Ma,Verb:H,VerbPath:Z,WS:B,base:r,directive:o,prefixID:v,statement:h,turtleDoc:function(){var b="turtleDoc@"+g,c=z[b];if(c)return g=c.nextPos,c.result;for(var c=[],e=h();e!==null;)c.push(e),e=h();c=c!==null?c:null;z[b]={nextPos:g,result:c};return c}};if(c!==void 0){if(ka[c]===void 0)throw Error("Invalid rule name: "+j(c)+".");}else c="turtleDoc";var g=0,q=!0,ja=0,Fa=[],z={},aa=function(b){for(var c="",e=0;e<b.length;e++)c+=typeof b[e]==="string"?b[e]:b[e].join("");return c},W=0,ka=ka[c]();
if(ka===null||g!==b.length)throw ka=Ya(),new this.SyntaxError(pb(),ka.line,ka.column);return ka},toSource:function(){return this._source},SyntaxError:function(b,c,k){this.name="SyntaxError";this.message=b;this.line=c;this.column=k}};c.SyntaxError.prototype=Error.prototype;return c}();ga.parser.parse=function(c,b){for(var d=[],k=ga.parser.innerParse(c),j={},e={namespaces:j,base:"",blankCounter:0},h=0;h<k.length;h++){var o=k[h];if(o.token==="base")e.base=o.value;else if(o.token==="prefix")j[o.prefix]=
o.local;else if(o.token==="triples")for(var r=0;r<o.triplesContext.length;r++){var v=o.triplesContext[r],v={subject:D.lexicalFormTerm(v.subject,e),predicate:D.lexicalFormTerm(v.predicate,e),object:D.lexicalFormTerm(v.object,e),graph:b};d.push(v)}}return d};var L={parser:{}};L.parser.parse=function(c,b){var d={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",
foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#","@coerce":{"http://www.w3.org/2001/XMLSchema#anyURI":["http://xmlns.com/foaf/0.1/homepage",
"http://xmlns.com/foaf/0.1/member"],"http://www.w3.org/2001/XMLSchema#integer":"http://xmlns.com/foaf/0.1/age"}},defaultGraph:null,activeSubject:null,inheritedSubject:null,activePredicate:null,inheritedPredicate:null,activeObject:null,activeContext:[],localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},k=[];d.activeContext=d.defaultContext;L.parser.isArray(c)?L.parser.parseListOfNodes(c,d,null,null,k,0):L.parser.parseListOfNodes([c],d,null,null,k,0);for(var d=[],j=0;j<k.length;j++){var e=
k[j];e.graph=b;d.push(e)}return d};L.parser.parseListOfNodes=function(c,b,d,k,j,e){for(var h,o,r=0;r<c.length;r++)if(h=c[r],processorState={activeSubject:null,inheritedSubject:d,activePredicate:null,inheritedPredicate:k,activeObject:null,localContext:{},listOfIncompleteTriples:[],listOfUnprocessedItems:[]},processorState.activeContext=L.parser.copyContext(b.activeContext),L.parser.isAssociatveArray(h)){h["@context"]!=null&&(processorState.activeContext=L.parser.mergeContexts(processorState.activeContext,
h["@context"]));h["@"]!=null?(o=h["@"],processorState.activeSubject=L.parser.parseIri(o,processorState.activeContext)):(o="_:"+e,processorState.activeSubject={token:"blank",value:o},e++);processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&j.push({subject:processorState.inheritedSubject,predicate:processorState.inheritedPredicate,object:processorState.activeSubject});for(var v in h)if(o=h[v],v!=="@context"&&v!=="@")processorState.activePredicate=v==="a"?{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:
L.parser.parseIri(v,processorState.activeContext),typeof o!="object"?(processorState.activeObject=L.parser.coerceLiteral(o,processorState.activePredicate,processorState.activeContext),j.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:processorState.activeObject})):o.length!=null?L.parser.parseListOfNodes(o,processorState,processorState.activeSubject,processorState.activePredicate,j,e):o["@iri"]!=null?j.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,
object:L.parser.parseIri(o)}):o["@literal"]!=null?(o["@language"]?obj={token:"literal",value:o["@literal"],lang:o["@language"]}:(obj=L.parser.coerceLiteral(o["@literal"]),obj.type=null.type||o["@datatype"]),j.push({subject:processorState.activeSubject,predicate:processorState.activePredicate,object:obj})):L.parser.parseListOfNodes([o],processorState,null,null,j)}else typeof h==="string"&&processorState.inheritedPredicate!=null&&processorState.inheritedSubject!=null&&j.push({subject:processorState.inheritedSubject,
predicate:processorState.inheritedPredicate,object:L.parser.coerceLiteral(h,processorState.inheritedPredicate,processorState.activeContext)})};L.parser.coerceLiteral=function(c,b,d){for(var k in d||{}){var j=d[k];if(c.indexOf(k)===0)return{token:"uri",value:j+(c.split(k+":")[1]||"")};else if(j===c)return{token:"uri",value:j}}for(var e in d["@coerce"]||{})for(k in j=d["@coerce"][e],typeof j==="string"&&(j=[j]),d)for(var h=0;h<j.length;h++){var o=j[h];o.indexOf(k)===0&&(o=o.split(k+":")[1]||"",o=d[k]+
o);if(o===b.value)return e==="http://www.w3.org/2001/XMLSchema#anyURI"||e==="xsd:anyURI"?{token:"uri",value:c}:{token:"literal",value:c,type:e}}return{token:"literal",value:c}};L.parser.isAssociatveArray=function(c){return typeof c==="object"&&c.length==null};L.parser.isArray=function(c){return typeof c==="object"&&c.length!=null};L.parser.copyContext=function(c){var b={},d;for(d in c)if(d==="@coerce"){var k=c[d],j={},e;for(e in k)j[e]=k[e];b[d]=j}else b[d]=c[d];return b};L.parser.mergeContexts=function(c,
b){for(var d in b)d!=="@coerce"&&(c[d]=b[d]);if(b["@coerce"]!=null){d=b["@coerce"];var k=c["@coerce"]||{},j;for(j in d)if(typeof d[j]==="string")k[L.parser.parseIri(j,c).value]=L.parser.parseIri(d[j],c).value;else for(var e=[],h=0;h<d[j].length;h++)e.push(L.parser.parseIri(d[j][h],c).value);c["@coerce"]=k}return c};L.parser.copyContextStack=function(c){for(var b=[],d=0;d<c.length;d++){var k=c[d],j={},e;for(e in k)if(e==="@coerce"){var h=k[e],o={},r;for(r in h)if(typeof h[r]==="object"){for(var v=
[],u=0;u<h[r].length;u++)v.push(h[r][u]);o[r]=v}else o[r]=h[r];j[e]=o}else j[e]=k[e];b.push(j)}return b};L.parser.parseIri=function(c,b){if(typeof c==="object")if(c["@iri"]!=null)c=c["@iri"];else throw"Error processing iri";for(var d in b)if(d=="@base"&&c.indexOf(":")===0)return{token:"uri",value:b[d]+(c.split(":")[1]||"")};else if(c.indexOf(d)===0)return{token:"uri",value:b[d]+(c.split(d+":")[1]||"")};if(c.indexOf(":")===-1&&b["@vocab"]!=null)return{token:"uri",value:b["@vocab"]+c};else if(c.indexOf(":")!=
-1)return{token:"uri",value:c};else throw"Cannot resolve URI: "+c;};L.parser.parseObject=function(c,b){if(typeof c==="object")if(c["@iri"]!=null)return{token:"uri",value:c["@iri"]};else throw"Error processing iri";else{for(var d in b)if(c.indexOf(d)===0)return{token:"uri",value:b[d]+(c.split(d+":")[1]||"")};return{token:"uri",value:c}}};var ea={RDFLoader:function(c){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":ga.parser,"text/n3":ga.parser,"application/json":L.parser};
if(c!=null)for(var b in c.parsers)this.parsers[b]=c.parsers[b];if(c&&c.precedences!=null)for(b in this.precedences=c.precedences,c.parsers)D.include(this.precedences,b)||this.precedences.push(b);this.acceptHeaderValue="";for(c=0;c<this.precedences.length;c++)c!=0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[c]:this.acceptHeaderValue+=this.precedences[c]}};ea.RDFLoader.prototype.registerParser=function(c,b){this.parsers[c]=b;this.precedences.push(c)};ea.RDFLoader.prototype.unregisterParser=
function(c){delete this.parsers[c];for(var b=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=c&&b.push(this.precedences[d]);this.precedences=b};ea.RDFLoader.prototype.setAcceptHeaderPrecedence=function(c){this.precedences=c};ea.RDFLoader.prototype.load=function(c,b,d){var k=this;ia.load(c,this.acceptHeaderValue,function(j,e){if(j==!0){var h=e.headers["Content-Type"]||e.headers["content-type"],o=e.data;if(h!=null){var h=h.split(";")[0],r;for(r in k.parsers)if(r.indexOf("/")!=-1){var v=r.split("/");
if(v[1]==="*"){if(h.indexOf(v[0])!=-1)return k.tryToParse(k.parsers[r],b,o,d)}else if(h.indexOf(r)!=-1)return k.tryToParse(k.parsers[r],b,o,d);else if(h.indexOf(v[1])!=-1)return k.tryToParse(k.parsers[r],b,o,d)}else if(h.indexOf(r)!=-1)return k.tryToParse(k.parsers[r],c,b,d);d(!1,"Unknown media type : "+h)}else console.log("Unknown media type"),console.log(e.headers),d(!1,"Uknown media type")}else d(!1,"Network error: "+e)})};ea.RDFLoader.prototype.loadFromFile=function(c,b,d,k){try{var j=this;fs=
require("fs");fs.readFile(d.split("file:/")[1],function(e,d){if(e)throw e;d=d.toString("utf8");j.tryToParse(c,b,d,k)})}catch(e){k(!1,e)}};ea.RDFLoader.prototype.tryToParse=function(c,b,d,k){try{typeof d==="string"&&(d=D.normalizeUnicodeLiterals(d));var j=c.parse(d,b);j!=null?k(!0,j):k(!1,"parsing error")}catch(e){k(!1,"parsing error with mime type : "+e)}};var S={AbstractQueryTree:function(){}};S.AbstractQueryTree.prototype.parseQueryString=function(c){return qb.parser.parse(c)};S.AbstractQueryTree.prototype.parseExecutableUnit=
function(c){if(c.kind==="select")return this.parseSelect(c);else if(c.kind==="ask")return this.parseSelect(c);else if(c.kind==="modify")return this.parseSelect(c);else if(c.kind==="construct")return this.parseSelect(c);else if(c.kind==="insertdata")return this.parseInsertData(c);else if(c.kind==="deletedata")return this.parseInsertData(c);else if(c.kind==="load")return c;else if(c.kind==="clear")return c;else if(c.kind==="drop")return c;else if(c.kind==="create")return c;else throw Error("unknown executable unit: "+
c.kind);};S.AbstractQueryTree.prototype.parseSelect=function(c){return c==null?(console.log("error parsing query"),null):(c.pattern=this.build(c.pattern,{}),c)};S.AbstractQueryTree.prototype.parseInsertData=function(c){return c==null?(console.log("error parsing query"),null):c};S.AbstractQueryTree.prototype.build=function(c,b){if(c.token==="groupgraphpattern")return this._buildGroupGraphPattern(c,b);else if(c.token==="basicgraphpattern")return{kind:"BGP",value:c.triplesContext};else if(c.token===
"graphunionpattern"){var d=this.build(c.value[0],b),k=this.build(c.value[1],b);return{kind:"UNION",value:[d,k]}}else if(c.token==="graphgraphpattern")return{kind:"GRAPH",value:this.build(c.value,b),graph:c.graph};else throw Error("not supported token in query:"+c.token);};S.AbstractQueryTree.prototype._buildGroupGraphPattern=function(c,b){for(var d=c.filters||[],k={kind:"EMPTY_PATTERN"},j=0;j<c.patterns.length;j++){var e=c.patterns[j];e.token==="optionalgraphpattern"?(e=this.build(e.value,b),k=e.kind===
"FILTER"?{kind:"LEFT_JOIN",lvalue:k,rvalue:e.value,filter:e.filter}:{kind:"LEFT_JOIN",lvalue:k,rvalue:e,filter:!0}):(e=this.build(e,b),k=k.kind=="EMPTY_PATTERN"?e:{kind:"JOIN",lvalue:k,rvalue:e})}if(d.length!=0)if(k.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:d,value:k};else if(k.kind==="LEFT_JOIN"&&k.filter===!0)return{kind:"FILTER",filter:d,value:k};else if(k.kind==="LEFT_JOIN")return{kind:"FILTER",filter:d,value:k};else if(k.kind==="JOIN")return{kind:"FILTER",filter:d,value:k};else if(k.kind===
"UNION")return{kind:"FILTER",filter:d,value:k};else if(k.kind==="GRAPH")return{kind:"FILTER",filter:d,value:k};else if(k.kind==="BGP")return{kind:"FILTER",filter:d,value:k};else throw Error("Unknow kind of algebra expression: "+k.kind);else return k};S.AbstractQueryTree.prototype.collectBasicTriples=function(c,b){b==null&&(b=[]);if(c.kind==="select")b=this.collectBasicTriples(c.pattern,b);else if(c.kind==="BGP")b=b.concat(c.value);else if(c.kind==="UNION")b=this.collectBasicTriples(c.value[0],b),
b=this.collectBasicTriples(c.value[1],b);else if(c.kind==="GRAPH")b=this.collectBasicTriples(c.value,b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")b=this.collectBasicTriples(c.lvalue,b),b=this.collectBasicTriples(c.rvalue,b);else if(c.kind==="FILTER")b=this.collectBasicTriples(c.value,b);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return b};var qb={};qb.parser=function(){var c={parse:function(b,c){function k(a){var b=a.charCodeAt(0);if(b<=255)var a="x",c=2;else a="u",c=4;var a=
"\\"+a,e=b.toString(16).toUpperCase(),b=e;c-=e.length;for(e=0;e<c;e++)b="0"+b;return a+b}function j(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,k)+'"'}function e(b){a<rb||(a>rb&&(rb=a,Hb=[]),Hb.push(b))}function h(){var b="Query@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=o();if(f!==null){var k=u();k===null&&(k=F(),k===null&&(k=G(),k===null&&(k=H(),k=k!==null?k:null)));k!==null?f=[f,k]:(f=null,a=
i)}else f=null,a=i;i=f!==null?{token:"query",kind:"query",prologue:f[0],units:[f[1]]}:null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[2] Query");y[b]={nextPos:a,result:i};return i}function o(){var b="Prologue@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=r(),f=f!==null?f:"";if(f!==null){for(var k=[],x=t();x!==null;)k.push(x),x=t();if(k!==null){for(var x=[],j=v();j!==null;)x.push(j),j=v();x!==null?f=[f,k,x]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?{token:"prologue",
base:f[0],prefixes:f[2]}:null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[3] Prologue");y[b]={nextPos:a,result:i};return i}function r(){var c="BaseDecl@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="B"?(j="B",a+=1):(j=null,m&&e('"B"')),j===null&&(b.substr(a,1)==="b"?(j="b",a+=1):(j=null,m&&e('"b"')),j=j!==null?j:null),j!==null){if(b.substr(a,1)==="A"){var x="A";a+=1}else x=null,m&&e('"A"');x===null&&(b.substr(a,
1)==="a"?(x="a",a+=1):(x=null,m&&e('"a"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="S"){var C="S";a+=1}else C=null,m&&e('"S"');C===null&&(b.substr(a,1)==="s"?(C="s",a+=1):(C=null,m&&e('"s"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="E"){var J="E";a+=1}else J=null,m&&e('"E"');J===null&&(b.substr(a,1)==="e"?(J="e",a+=1):(J=null,m&&e('"e"')),J=J!==null?J:null);if(J!==null){for(var g=[],h=t();h!==null;)g.push(h),h=t();g!==null?(h=Ab(),h!==null?f=[f,j,x,C,J,g,h]:(f=null,a=i)):(f=
null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a){base={token:"base"};base.value=a;return base}(f[6]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[4] BaseDecl");y[c]={nextPos:a,result:i};return i}function v(){var c="PrefixDecl@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="P"?(j="P",a+=1):(j=null,m&&e('"P"')),j===null&&(b.substr(a,1)==="p"?(j=
"p",a+=1):(j=null,m&&e('"p"')),j=j!==null?j:null),j!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,m&&e('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,m&&e('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&e('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&e('"e"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="F"){var J="F";a+=1}else J=null,m&&e('"F"');J===null&&(b.substr(a,1)==="f"?(J="f",a+=1):(J=null,m&&e('"f"')),
J=J!==null?J:null);if(J!==null){if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,m&&e('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,m&&e('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="X"){var h="X";a+=1}else h=null,m&&e('"X"');h===null&&(b.substr(a,1)==="x"?(h="x",a+=1):(h=null,m&&e('"x"')),h=h!==null?h:null);if(h!==null){for(var n=[],E=t();E!==null;)n.push(E),E=t();if(n!==null)if(E=Bb(),E!==null){for(var o=[],M=t();M!==null;)o.push(M),M=t();o!==null?(M=Ab(),M!==null?f=
[f,j,x,C,J,g,h,n,E,o,M]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=a;prefix.local=b;return prefix}(f[8],f[10]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[5] PrefixDecl");y[c]={nextPos:a,result:i};return i}function u(){var b="SelectQuery@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=
D();if(f!==null){for(var k=[],x=t();x!==null;)k.push(x),x=t();if(k!==null){for(var x=[],j=Z();j!==null;)x.push(j),j=Z();if(x!==null){for(var j=[],J=t();J!==null;)j.push(J),J=t();if(j!==null)if(J=I(),J!==null){for(var g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(h=O(),h!==null){for(var n=[],E=t();E!==null;)n.push(E),E=t();n!==null?(E=Ma(),E!==null?f=[f,k,x,j,J,g,h,n,E]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=
null,a=i;i=f!==null?function(a,b,c,e){for(var f={named:[],"default":[]},i=0;i<b.length;i++){var d=b[i];d.kind==="default"?f["default"].push(d.graph):f.named.push(d.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=f;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;if(e!=null&&e.limit!=null)b.limit=e.limit;if(e!=null&&
e.offset!=null)b.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")b.order=e.order;if(e!=null&&e.group!=null)b.group=e.group;return b}(f[0],f[2],f[4],f[6]):null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[6] SelectQuery");y[b]={nextPos:a,result:i};return i}function w(){var b="SubSelect@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=D();if(i!==null){var f=I();if(f!==null){var k=O();k!==null?i=[i,f,k]:(i=null,a=d)}else i=null,a=d}else i=null,a=d;(m=c)&&i===null&&e("[7] SubSelect");
y[b]={nextPos:a,result:i};return i}function D(){var c="SelectClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="S"?(j="S",a+=1):(j=null,m&&e('"S"')),j===null&&(b.substr(a,1)==="s"?(j="s",a+=1):(j=null,m&&e('"s"')),j=j!==null?j:null),j!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,m&&e('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,m&&e('"e"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,
1)==="L"){var C="L";a+=1}else C=null,m&&e('"L"');C===null&&(b.substr(a,1)==="l"?(C="l",a+=1):(C=null,m&&e('"l"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="E"){var J="E";a+=1}else J=null,m&&e('"E"');J===null&&(b.substr(a,1)==="e"?(J="e",a+=1):(J=null,m&&e('"e"')),J=J!==null?J:null);if(J!==null){if(b.substr(a,1)==="C"){var g="C";a+=1}else g=null,m&&e('"C"');g===null&&(b.substr(a,1)==="c"?(g="c",a+=1):(g=null,m&&e('"c"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var h="T";a+=
1}else h=null,m&&e('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&e('"t"')),h=h!==null?h:null);if(h!==null){for(var n=[],E=t();E!==null;)n.push(E),E=t();if(n!==null){E=a;if(b.substr(a,1)==="D"){var o="D";a+=1}else o=null,m&&e('"D"');o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,m&&e('"d"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var M="I";a+=1}else M=null,m&&e('"I"');M===null&&(b.substr(a,1)==="i"?(M="i",a+=1):(M=null,m&&e('"i"')),M=M!==null?M:null);if(M!==null){if(b.substr(a,
1)==="S"){var q="S";a+=1}else q=null,m&&e('"S"');q===null&&(b.substr(a,1)==="s"?(q="s",a+=1):(q=null,m&&e('"s"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,m&&e('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,m&&e('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="I"){var u="I";a+=1}else u=null,m&&e('"I"');u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,m&&e('"i"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="N"){var v="N";a+=
1}else v=null,m&&e('"N"');v===null&&(b.substr(a,1)==="n"?(v="n",a+=1):(v=null,m&&e('"n"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="C"){var w="C";a+=1}else w=null,m&&e('"C"');w===null&&(b.substr(a,1)==="c"?(w="c",a+=1):(w=null,m&&e('"c"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var z="T";a+=1}else z=null,m&&e('"T"');z===null&&(b.substr(a,1)==="t"?(z="t",a+=1):(z=null,m&&e('"t"')),z=z!==null?z:null);z!==null?o=[o,M,q,r,u,v,w,z]:(o=null,a=E)}else o=null,a=E}else o=null,a=
E}else o=null,a=E}else o=null,a=E}else o=null,a=E}else o=null,a=E}else o=null,a=E;o!==null?E=o:(E=a,b.substr(a,1)==="R"?(o="R",a+=1):(o=null,m&&e('"R"')),o===null&&(b.substr(a,1)==="r"?(o="r",a+=1):(o=null,m&&e('"r"')),o=o!==null?o:null),o!==null?(b.substr(a,1)==="E"?(M="E",a+=1):(M=null,m&&e('"E"')),M===null&&(b.substr(a,1)==="e"?(M="e",a+=1):(M=null,m&&e('"e"')),M=M!==null?M:null),M!==null?(b.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&e('"D"')),q===null&&(b.substr(a,1)==="d"?(q="d",a+=1):(q=null,
m&&e('"d"')),q=q!==null?q:null),q!==null?(b.substr(a,1)==="U"?(r="U",a+=1):(r=null,m&&e('"U"')),r===null&&(b.substr(a,1)==="u"?(r="u",a+=1):(r=null,m&&e('"u"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="C"?(u="C",a+=1):(u=null,m&&e('"C"')),u===null&&(b.substr(a,1)==="c"?(u="c",a+=1):(u=null,m&&e('"c"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="E"?(v="E",a+=1):(v=null,m&&e('"E"')),v===null&&(b.substr(a,1)==="e"?(v="e",a+=1):(v=null,m&&e('"e"')),v=v!==null?v:null),v!==null?(b.substr(a,1)===
"D"?(w="D",a+=1):(w=null,m&&e('"D"')),w===null&&(b.substr(a,1)==="d"?(w="d",a+=1):(w=null,m&&e('"d"')),w=w!==null?w:null),w!==null?o=[o,M,q,r,u,v,w]:(o=null,a=E)):(o=null,a=E)):(o=null,a=E)):(o=null,a=E)):(o=null,a=E)):(o=null,a=E)):(o=null,a=E),E=o!==null?o:null);E=E!==null?E:"";if(E!==null){o=[];for(M=t();M!==null;)o.push(M),M=t();if(o!==null){q=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(u=A(),u!==null){v=[];for(w=t();w!==null;)v.push(w),w=t();v!==null?r=[r,u,v]:(r=null,a=q)}else r=
null,a=q;else r=null,a=q;if(r!==null)q=r;else{q=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(b.substr(a,1)==="("?(u="(",a+=1):(u=null,m&&e('"("')),u!==null){v=[];for(w=t();w!==null;)v.push(w),w=t();if(v!==null)if(w=N(),w!==null){for(var z=[],R=t();R!==null;)z.push(R),R=t();if(z!==null)if(b.substr(a,1)==="A"?(R="A",a+=1):(R=null,m&&e('"A"')),R===null&&(b.substr(a,1)==="a"?(R="a",a+=1):(R=null,m&&e('"a"')),R=R!==null?R:null),R!==null){if(b.substr(a,1)==="S"){var B="S";a+=1}else B=null,
m&&e('"S"');B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,m&&e('"s"')),B=B!==null?B:null);if(B!==null){for(var F=[],Q=t();Q!==null;)F.push(Q),Q=t();if(F!==null)if(Q=A(),Q!==null){for(var G=[],P=t();P!==null;)G.push(P),P=t();if(G!==null)if(b.substr(a,1)===")"?(P=")",a+=1):(P=null,m&&e('")"')),P!==null){for(var H=[],I=t();I!==null;)H.push(I),I=t();H!==null?r=[r,u,v,w,z,R,B,F,Q,G,P,H]:(r=null,a=q)}else r=null,a=q;else r=null,a=q}else r=null,a=q;else r=null,a=q}else r=null,a=q}else r=null,a=q;else r=
null,a=q}else r=null,a=q;else r=null,a=q}else r=null,a=q;else r=null,a=q;q=r!==null?r:null}if(q!==null)for(M=[];q!==null;){M.push(q);q=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(u=A(),u!==null){v=[];for(w=t();w!==null;)v.push(w),w=t();v!==null?r=[r,u,v]:(r=null,a=q)}else r=null,a=q;else r=null,a=q;if(r!==null)q=r;else{q=a;r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(b.substr(a,1)==="("?(u="(",a+=1):(u=null,m&&e('"("')),u!==null){v=[];for(w=t();w!==null;)v.push(w),w=t();if(v!==
null)if(w=N(),w!==null){z=[];for(R=t();R!==null;)z.push(R),R=t();if(z!==null)if(b.substr(a,1)==="A"?(R="A",a+=1):(R=null,m&&e('"A"')),R===null&&(b.substr(a,1)==="a"?(R="a",a+=1):(R=null,m&&e('"a"')),R=R!==null?R:null),R!==null)if(b.substr(a,1)==="S"?(B="S",a+=1):(B=null,m&&e('"S"')),B===null&&(b.substr(a,1)==="s"?(B="s",a+=1):(B=null,m&&e('"s"')),B=B!==null?B:null),B!==null){F=[];for(Q=t();Q!==null;)F.push(Q),Q=t();if(F!==null)if(Q=A(),Q!==null){G=[];for(P=t();P!==null;)G.push(P),P=t();if(G!==null)if(b.substr(a,
1)===")"?(P=")",a+=1):(P=null,m&&e('")"')),P!==null){H=[];for(I=t();I!==null;)H.push(I),I=t();H!==null?r=[r,u,v,w,z,R,B,F,Q,G,P,H]:(r=null,a=q)}else r=null,a=q;else r=null,a=q}else r=null,a=q;else r=null,a=q}else r=null,a=q;else r=null,a=q;else r=null,a=q}else r=null,a=q;else r=null,a=q}else r=null,a=q;else r=null,a=q;q=r!==null?r:null}}else M=null;if(M===null){M=a;q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(b.substr(a,1)==="*"?(r="*",a+=1):(r=null,m&&e('"*"')),r!==null){u=[];for(v=t();v!==
null;)u.push(v),v=t();u!==null?q=[q,r,u]:(q=null,a=M)}else q=null,a=M;else q=null,a=M;M=q!==null?q:null}M!==null?f=[f,j,x,C,J,g,h,n,E,o,M]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){var c=[];if(b.length===3&&b[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Sb(a)};for(var e=0;e<b.length;e++){var f=b[e];f.length===3?c.push({token:"variable",
kind:"var",value:f[1]}):c.push({token:"variable",kind:"aliased",expression:f[3],alias:f[8]})}return{vars:c,modifier:Sb(a)}}(f[8],f[10]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[8] SelectClause");y[c]={nextPos:a,result:i};return i}function F(){var c="ConstructQuery@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="C"?(j="C",a+=1):(j=null,m&&e('"C"')),j===null&&(b.substr(a,1)==="c"?(j="c",a+=1):(j=null,m&&
e('"c"')),j=j!==null?j:null),j!==null){if(b.substr(a,1)==="O"){var x="O";a+=1}else x=null,m&&e('"O"');x===null&&(b.substr(a,1)==="o"?(x="o",a+=1):(x=null,m&&e('"o"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="N"){var C="N";a+=1}else C=null,m&&e('"N"');C===null&&(b.substr(a,1)==="n"?(C="n",a+=1):(C=null,m&&e('"n"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="S"){var J="S";a+=1}else J=null,m&&e('"S"');J===null&&(b.substr(a,1)==="s"?(J="s",a+=1):(J=null,m&&e('"s"')),J=J!==null?J:null);
if(J!==null){if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,m&&e('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,m&&e('"t"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&e('"R"');h===null&&(b.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&e('"r"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="U"){var n="U";a+=1}else n=null,m&&e('"U"');n===null&&(b.substr(a,1)==="u"?(n="u",a+=1):(n=null,m&&e('"u"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,
1)==="C"){var E="C";a+=1}else E=null,m&&e('"C"');E===null&&(b.substr(a,1)==="c"?(E="c",a+=1):(E=null,m&&e('"c"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="T"){var o="T";a+=1}else o=null,m&&e('"T"');o===null&&(b.substr(a,1)==="t"?(o="t",a+=1):(o=null,m&&e('"t"')),o=o!==null?o:null);if(o!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=eb(),r!==null){for(var u=[],v=t();v!==null;)u.push(v),v=t();if(u!==null){for(var v=[],w=Z();w!==null;)v.push(w),w=Z();if(v!==null){for(var w=
[],z=t();z!==null;)w.push(z),z=t();if(w!==null)if(z=I(),z!==null){for(var A=[],B=t();B!==null;)A.push(B),B=t();A!==null?(B=O(),B!==null?f=[f,j,x,C,J,g,h,n,E,o,q,r,u,v,w,z,A,B]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b,c,e){for(var f={named:[],
"default":[]},i=0;i<b.length;i++){var d=b[i];d.kind==="default"?f["default"].push(d.graph):f.named.push(d.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=f;b.template=a;b.pattern=c;if(e!=null&&e.limit!=null)b.limit=e.limit;if(e!=null&&e.offset!=null)b.offset=e.offset;if(e!=null&&e.order!=null&&e.order!="")b.order=e.order;
return b}(f[11],f[13],f[15],f[17]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[9] ConstructQuery");y[c]={nextPos:a,result:i};return i}function G(){var c="DescribeQuery@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a;if(b.substr(a,8)==="DESCRIBE"){var i="DESCRIBE";a+=8}else i=null,m&&e('"DESCRIBE"');if(i!==null){var f=Ea();if(f!==null)for(var j=[];f!==null;)j.push(f),f=Ea();else j=null;j!==null?f=j:(b.substr(a,1)==="*"?(f="*",a+=1):(f=null,m&&e('"*"')),f=f!==null?f:null);if(f!==null){for(var j=
[],x=Z();x!==null;)j.push(x),x=Z();if(j!==null)if(x=I(),x=x!==null?x:"",x!==null){var C=O();C!==null?i=[i,f,j,x,C]:(i=null,a=k)}else i=null,a=k;else i=null,a=k}else i=null,a=k}else i=null,a=k;(m=d)&&i===null&&e("[10] DescribeQuery");y[c]={nextPos:a,result:i};return i}function H(){var c="AskQuery@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,m&&e('"A"')),j===null&&(b.substr(a,1)==="a"?
(j="a",a+=1):(j=null,m&&e('"a"')),j=j!==null?j:null),j!==null){if(b.substr(a,1)==="S"){var x="S";a+=1}else x=null,m&&e('"S"');x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,m&&e('"s"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="K"){var C="K";a+=1}else C=null,m&&e('"K"');C===null&&(b.substr(a,1)==="k"?(C="k",a+=1):(C=null,m&&e('"k"')),C=C!==null?C:null);if(C!==null){for(var J=[],g=t();g!==null;)J.push(g),g=t();if(J!==null){for(var g=[],h=Z();h!==null;)g.push(h),h=Z();if(g!==null){for(var h=
[],n=t();n!==null;)h.push(n),n=t();h!==null?(n=I(),n!==null?f=[f,j,x,C,J,g,h,n]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){for(var c={named:[],"default":[]},e=0;e<a.length;e++){var f=a[e];f.kind==="default"?c["default"].push(f.graph):c.named.push(f.graph)}c.named.length===0&&c["default"].length===0&&c["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
e={kind:"ask",token:"executableunit"};e.dataset=c;e.pattern=b;return e}(f[5],f[7]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[11] AskQuery");y[c]={nextPos:a,result:i};return i}function Z(){var c="DatasetClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="F"){var f="F";a+=1}else f=null,m&&e('"F"');f===null&&(b.substr(a,1)==="f"?(f="f",a+=1):(f=null,m&&e('"f"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,m&&e('"R"');
j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,m&&e('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="O"){var x="O";a+=1}else x=null,m&&e('"O"');x===null&&(b.substr(a,1)==="o"?(x="o",a+=1):(x=null,m&&e('"o"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="M"){var C="M";a+=1}else C=null,m&&e('"M"');C===null&&(b.substr(a,1)==="m"?(C="m",a+=1):(C=null,m&&e('"m"')),C=C!==null?C:null);if(C!==null){for(var J=[],g=t();g!==null;)J.push(g),g=t();if(J!==null)if(g=K(),g===null&&(g=L(),g=
g!==null?g:null),g!==null){for(var h=[],n=t();n!==null;)h.push(n),n=t();h!==null?f=[f,j,x,C,J,g,h]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?f[5]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[12] DatasetClause");y[c]={nextPos:a,result:i};return i}function K(){var b="DefaultGraphClause@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;for(var d=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();f!==null?(k=U(),k!==null?f=[f,
k]:(f=null,a=i)):(f=null,a=i);i=f!==null?{graph:f[1],kind:"default",token:"graphClause"}:null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[13] DefaultGraphClause");y[b]={nextPos:a,result:i};return i}function L(){var c="NamedGraphClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="N"){var f="N";a+=1}else f=null,m&&e('"N"');f===null&&(b.substr(a,1)==="n"?(f="n",a+=1):(f=null,m&&e('"n"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="A"){var j="A";a+=1}else j=
null,m&&e('"A"');j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,m&&e('"a"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="M"){var x="M";a+=1}else x=null,m&&e('"M"');x===null&&(b.substr(a,1)==="m"?(x="m",a+=1):(x=null,m&&e('"m"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&e('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&e('"e"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,m&&e('"D"');g===
null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,m&&e('"d"')),g=g!==null?g:null);if(g!==null){for(var h=[],s=t();s!==null;)h.push(s),s=t();h!==null?(s=U(),s!==null?f=[f,j,x,C,g,h,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?{graph:f[6],kind:"named",token:"graphCluase"}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[14] NamedGraphClause");y[c]={nextPos:a,result:i};return i}function I(){var c="WhereClause@"+a,d=y[c];if(d)return a=
d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=a;if(b.substr(a,1)==="W"){var j="W";a+=1}else j=null,m&&e('"W"');j===null&&(b.substr(a,1)==="w"?(j="w",a+=1):(j=null,m&&e('"w"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="H"){var x="H";a+=1}else x=null,m&&e('"H"');x===null&&(b.substr(a,1)==="h"?(x="h",a+=1):(x=null,m&&e('"h"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&e('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&e('"e"')),C=C!==null?
C:null);if(C!==null){if(b.substr(a,1)==="R"){var g="R";a+=1}else g=null,m&&e('"R"');g===null&&(b.substr(a,1)==="r"?(g="r",a+=1):(g=null,m&&e('"r"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,m&&e('"E"');h===null&&(b.substr(a,1)==="e"?(h="e",a+=1):(h=null,m&&e('"e"')),h=h!==null?h:null);h!==null?j=[j,x,C,g,h]:(j=null,a=f)}else j=null,a=f}else j=null,a=f}else j=null,a=f}else j=null,a=f;f=j!==null?j:"";if(f!==null){j=[];for(x=t();x!==null;)j.push(x),x=t();if(j!==
null)if(x=T(),x!==null){C=[];for(g=t();g!==null;)C.push(g),g=t();C!==null?f=[f,j,x,C]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?f[2]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[16] WhereClause");y[c]={nextPos:a,result:i};return i}function O(){var b="SolutionModifier@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=X(),f=f!==null?f:"";if(f!==null){var k=ea(),k=k!==null?k:"";if(k!==null){var j=fa(),j=j!==null?j:"";if(j!==null){var C=ia(),C=C!==null?
C:"";C!==null?f=[f,k,j,C]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b,c){var e={};if(c!=null){if(c.limit!=null)e.limit=c.limit;if(c.offset!=null)e.offset=c.offset}if(a!=null)e.group=a;e.order=b;return e}(f[0],f[2],f[3]):null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[17] SolutionModifier");y[b]={nextPos:a,result:i};return i}function X(){var c="GroupClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="G"){var f="G";a+=
1}else f=null,m&&e('"G"');f===null&&(b.substr(a,1)==="g"?(f="g",a+=1):(f=null,m&&e('"g"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,m&&e('"R"');j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,m&&e('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="O"){var x="O";a+=1}else x=null,m&&e('"O"');x===null&&(b.substr(a,1)==="o"?(x="o",a+=1):(x=null,m&&e('"o"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="U"){var C="U";a+=1}else C=null,m&&e('"U"');
C===null&&(b.substr(a,1)==="u"?(C="u",a+=1):(C=null,m&&e('"u"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="P"){var g="P";a+=1}else g=null,m&&e('"P"');g===null&&(b.substr(a,1)==="p"?(g="p",a+=1):(g=null,m&&e('"p"')),g=g!==null?g:null);if(g!==null){for(var h=[],s=t();s!==null;)h.push(s),s=t();if(h!==null)if(b.substr(a,1)==="B"?(s="B",a+=1):(s=null,m&&e('"B"')),s===null&&(b.substr(a,1)==="b"?(s="b",a+=1):(s=null,m&&e('"b"')),s=s!==null?s:null),s!==null){if(b.substr(a,1)==="Y"){var n="Y";a+=
1}else n=null,m&&e('"Y"');n===null&&(b.substr(a,1)==="y"?(n="y",a+=1):(n=null,m&&e('"y"')),n=n!==null?n:null);if(n!==null){for(var E=[],o=t();o!==null;)E.push(o),o=t();if(E!==null){o=S();if(o!==null)for(var q=[];o!==null;)q.push(o),o=S();else q=null;q!==null?f=[f,j,x,C,g,h,s,n,E,q]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?f[9]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&
e("[18] GroupClause");y[c]={nextPos:a,result:i};return i}function S(){var c="GroupCondition@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=wb(),j!==null){for(var x=[],C=t();C!==null;)x.push(C),C=t();x!==null?f=[f,j,x]:(f=null,a=i)}else f=null,a=i;else f=null,a=i;i=f!==null?f[1]:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;f=[];for(j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=Ta(),j!==null){x=[];for(C=t();C!==
null;)x.push(C),C=t();x!==null?f=[f,j,x]:(f=null,a=i)}else f=null,a=i;else f=null,a=i;i=f!==null?f[1]:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;f=[];for(j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="("?(j="(",a+=1):(j=null,m&&e('"("')),j!==null){x=[];for(C=t();C!==null;)x.push(C),C=t();if(x!==null)if(C=N(),C!==null){for(var g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null){h=a;if(b.substr(a,1)==="A"){var s="A";a+=1}else s=null,m&&e('"A"');s===null&&(b.substr(a,1)===
"a"?(s="a",a+=1):(s=null,m&&e('"a"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="S"){var n="S";a+=1}else n=null,m&&e('"S"');n===null&&(b.substr(a,1)==="s"?(n="s",a+=1):(n=null,m&&e('"s"')),n=n!==null?n:null);if(n!==null){for(var E=[],o=t();o!==null;)E.push(o),o=t();E!==null?(o=A(),o!==null?s=[s,n,E,o]:(s=null,a=h)):(s=null,a=h)}else s=null,a=h}else s=null,a=h;h=s!==null?s:"";if(h!==null){s=[];for(n=t();n!==null;)s.push(n),n=t();if(s!==null)if(b.substr(a,1)===")"?(n=")",a+=1):(n=null,m&&e('")"')),
n!==null){E=[];for(o=t();o!==null;)E.push(o),o=t();E!==null?f=[f,j,x,C,g,h,s,n,E]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?f[5].length!=0?{token:"aliased_expression",expression:f[3],alias:f[5][3]}:f[3]:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;f=[];for(j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=A(),j!==null){x=[];for(C=t();C!==null;)x.push(C),C=t();x!==null?f=[f,j,x]:(f=
null,a=i)}else f=null,a=i;else f=null,a=i;i=f!==null?f[1]:null;i===null&&(i=null,a=k);k=i!==null?i:null}}}(m=d)&&k===null&&e("[19] GroupCondition");y[c]={nextPos:a,result:k};return k}function ea(){var c="HavingClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a;if(b.substr(a,6)==="HAVING"){var i="HAVING";a+=6}else i=null,m&&e('"HAVING"');if(i!==null){var f=ya();if(f!==null)for(var j=[];f!==null;)j.push(f),f=ya();else j=null;j!==null?i=[i,j]:(i=null,a=k)}else i=null,a=k;(m=d)&&i===
null&&e("[20] HavingClause");y[c]={nextPos:a,result:i};return i}function fa(){var c="OrderClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="O"){var f="O";a+=1}else f=null,m&&e('"O"');f===null&&(b.substr(a,1)==="o"?(f="o",a+=1):(f=null,m&&e('"o"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,m&&e('"R"');j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,m&&e('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)===
"D"){var x="D";a+=1}else x=null,m&&e('"D"');x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,m&&e('"d"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var C="E";a+=1}else C=null,m&&e('"E"');C===null&&(b.substr(a,1)==="e"?(C="e",a+=1):(C=null,m&&e('"e"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="R"){var g="R";a+=1}else g=null,m&&e('"R"');g===null&&(b.substr(a,1)==="r"?(g="r",a+=1):(g=null,m&&e('"r"')),g=g!==null?g:null);if(g!==null){for(var h=[],s=t();s!==null;)h.push(s),s=
t();if(h!==null)if(b.substr(a,1)==="B"?(s="B",a+=1):(s=null,m&&e('"B"')),s===null&&(b.substr(a,1)==="b"?(s="b",a+=1):(s=null,m&&e('"b"')),s=s!==null?s:null),s!==null){if(b.substr(a,1)==="Y"){var n="Y";a+=1}else n=null,m&&e('"Y"');n===null&&(b.substr(a,1)==="y"?(n="y",a+=1):(n=null,m&&e('"y"')),n=n!==null?n:null);if(n!==null){for(var E=[],o=t();o!==null;)E.push(o),o=t();if(E!==null){var q=ca();if(q!==null)for(o=[];q!==null;)o.push(q),q=ca();else o=null;if(o!==null){for(var q=[],r=t();r!==null;)q.push(r),
r=t();q!==null?f=[f,j,x,C,g,h,s,n,E,o,q]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?f[9]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[22] OrderClause");y[c]={nextPos:a,result:i};return i}function ca(){var c="OrderCondition@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,3)==="ASC"){var f="ASC";a+=3}else f=null,m&&e('"ASC"');
f===null&&(b.substr(a,4)==="DESC"?(f="DESC",a+=4):(f=null,m&&e('"DESC"')),f=f!==null?f:null);if(f!==null){for(var j=[],x=t();x!==null;)j.push(x),x=t();if(j!==null)if(x=vb(),x!==null){for(var C=[],g=t();g!==null;)C.push(g),g=t();C!==null?f=[f,j,x,C]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?{direction:f[0],expression:f[2]}:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;f=ya();f===null&&(f=A(),f=f!==null?f:null);if(f!==null){j=[];for(x=t();x!==null;)j.push(x),x=
t();j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(f[0]):null;i===null&&(i=null,a=k);k=i!==null?i:null}(m=d)&&k===null&&e("[23] OrderCondition");y[c]={nextPos:a,result:k};return k}function ia(){var b="LimitOffsetClauses@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=ga();if(f!==null){var k=na(),k=k!==null?k:"";k!==null?f=
[f,k]:(f=null,a=i)}else f=null,a=i;f!==null?i=f:(i=a,f=na(),f!==null?(k=ga(),k=k!==null?k:"",k!==null?f=[f,k]:(f=null,a=i)):(f=null,a=i),i=f!==null?f:null);i=i!==null?function(a){for(var b={},c=0;c<a.length;c++){var e=a[c];if(e.limit!=null)b.limit=e.limit;else if(e.offset!=null)b.offset=e.offset}return b}(i):null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[24] LimitOffsetClauses");y[b]={nextPos:a,result:i};return i}function ga(){var c="LimitClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=
!1;var k=a,i=a;if(b.substr(a,1)==="L"){var f="L";a+=1}else f=null,m&&e('"L"');f===null&&(b.substr(a,1)==="l"?(f="l",a+=1):(f=null,m&&e('"l"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="I"){var j="I";a+=1}else j=null,m&&e('"I"');j===null&&(b.substr(a,1)==="i"?(j="i",a+=1):(j=null,m&&e('"i"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="M"){var x="M";a+=1}else x=null,m&&e('"M"');x===null&&(b.substr(a,1)==="m"?(x="m",a+=1):(x=null,m&&e('"m"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,
1)==="I"){var C="I";a+=1}else C=null,m&&e('"I"');C===null&&(b.substr(a,1)==="i"?(C="i",a+=1):(C=null,m&&e('"i"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,m&&e('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,m&&e('"t"')),g=g!==null?g:null);if(g!==null){for(var h=[],s=t();s!==null;)h.push(s),s=t();if(h!==null)if(s=ra(),s!==null){for(var n=[],o=t();o!==null;)n.push(o),o=t();n!==null?f=[f,j,x,C,g,h,s,n]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=
null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?{limit:parseInt(f[6].value)}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[25] LimitClause");y[c]={nextPos:a,result:i};return i}function na(){var c="OffsetClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="O"){var f="O";a+=1}else f=null,m&&e('"O"');f===null&&(b.substr(a,1)==="o"?(f="o",a+=1):(f=null,m&&e('"o"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="F"){var j=
"F";a+=1}else j=null,m&&e('"F"');j===null&&(b.substr(a,1)==="f"?(j="f",a+=1):(j=null,m&&e('"f"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="F"){var x="F";a+=1}else x=null,m&&e('"F"');x===null&&(b.substr(a,1)==="f"?(x="f",a+=1):(x=null,m&&e('"f"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="S"){var C="S";a+=1}else C=null,m&&e('"S"');C===null&&(b.substr(a,1)==="s"?(C="s",a+=1):(C=null,m&&e('"s"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,
m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&e('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&e('"t"')),h=h!==null?h:null);if(h!==null){for(var s=[],n=t();n!==null;)s.push(n),n=t();if(s!==null)if(n=ra(),n!==null){for(var o=[],q=t();q!==null;)o.push(q),q=t();o!==null?f=[f,j,x,C,g,h,s,n,o]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=
null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?{offset:parseInt(f[7].value)}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[26] OffsetClause");y[c]={nextPos:a,result:i};return i}function Ma(){var c="BindingsClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a;if(b.substr(a,8)==="BINDINGS"){var i="BINDINGS";a+=8}else i=null,m&&e('"BINDINGS"');if(i!==null){for(var f=[],j=A();j!==null;)f.push(j),j=A();if(f!==null)if(b.substr(a,1)==="{"?(j="{",a+=1):(j=null,m&&e('"{"')),
j!==null){var x=[],C=a;if(b.substr(a,1)==="("){var g="(";a+=1}else g=null,m&&e('"("');if(g!==null){var h=wa();if(h!==null)for(var s=[];h!==null;)s.push(h),h=wa();else s=null;s!==null?(b.substr(a,1)===")"?(h=")",a+=1):(h=null,m&&e('")"')),h!==null?g=[g,s,h]:(g=null,a=C)):(g=null,a=C)}else g=null,a=C;g!==null?C=g:(C=Ka(),C=C!==null?C:null);for(;C!==null;){x.push(C);C=a;b.substr(a,1)==="("?(g="(",a+=1):(g=null,m&&e('"("'));if(g!==null){h=wa();if(h!==null)for(s=[];h!==null;)s.push(h),h=wa();else s=null;
s!==null?(b.substr(a,1)===")"?(h=")",a+=1):(h=null,m&&e('")"')),h!==null?g=[g,s,h]:(g=null,a=C)):(g=null,a=C)}else g=null,a=C;g!==null?C=g:(C=Ka(),C=C!==null?C:null)}x!==null?(b.substr(a,1)==="}"?(C="}",a+=1):(C=null,m&&e('"}"')),C!==null?i=[i,f,j,x,C]:(i=null,a=k)):(i=null,a=k)}else i=null,a=k;else i=null,a=k}else i=null,a=k;k=i!==null?i:"";(m=d)&&k===null&&e("[27] BindingsClause");y[c]={nextPos:a,result:k};return k}function wa(){var c="BindingValue@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=
m;m=!1;var k=U();k===null&&(k=xb(),k===null&&(k=yb(),k===null&&(k=zb(),k===null&&(b.substr(a,5)==="UNDEF"?(k="UNDEF",a+=5):(k=null,m&&e('"UNDEF"')),k=k!==null?k:null))));(m=d)&&k===null&&e("[28] BindingValue");y[c]={nextPos:a,result:k};return k}function pa(){var c="Update@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=o();if(f!==null){for(var j=[],x=t();x!==null;)j.push(x),x=t();if(j!==null)if(x=qb(),x!==null){for(var g=a,h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,
1)===";"?(n=";",a+=1):(n=null,m&&e('";"')),n!==null){for(var s=[],q=t();q!==null;)s.push(q),q=t();s!==null?(q=pa(),q=q!==null?q:"",q!==null?h=[h,n,s,q]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;g=h!==null?h:"";g!==null?f=[f,j,x,g]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b,c){var e={token:"query",kind:"update"};e.prologue=a;a=[b];c.length!=null&&c[3]!=null&&c[3].units!=null&&(a=a.concat(c[3].units));e.units=a;return e}(f[0],f[2],f[3]):null;
i===null&&(i=null,a=k);(m=d)&&i===null&&e("[30] Update");y[c]={nextPos:a,result:i};return i}function qb(){var b="Update1@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Rb();d===null&&(d=bb(),d===null&&(d=gb(),d===null&&(d=hb(),d===null&&(d=ib(),d===null&&(d=cb(),d===null&&(d=fb(),d===null&&(d=oa(),d=d!==null?d:null)))))));(m=c)&&d===null&&e("[31] Update1");y[b]={nextPos:a,result:d};return d}function Rb(){var c="Load@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,
1)==="L"){var f="L";a+=1}else f=null,m&&e('"L"');f===null&&(b.substr(a,1)==="l"?(f="l",a+=1):(f=null,m&&e('"l"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="O"){var j="O";a+=1}else j=null,m&&e('"O"');j===null&&(b.substr(a,1)==="o"?(j="o",a+=1):(j=null,m&&e('"o"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="A"){var x="A";a+=1}else x=null,m&&e('"A"');x===null&&(b.substr(a,1)==="a"?(x="a",a+=1):(x=null,m&&e('"a"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="D"){var g="D";a+=
1}else g=null,m&&e('"D"');g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,m&&e('"d"')),g=g!==null?g:null);if(g!==null){for(var h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=U(),n!==null){for(var s=[],o=t();o!==null;)s.push(o),o=t();if(s!==null){o=a;if(b.substr(a,1)==="I"){var E="I";a+=1}else E=null,m&&e('"I"');E===null&&(b.substr(a,1)==="i"?(E="i",a+=1):(E=null,m&&e('"i"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="N"){var q="N";a+=1}else q=null,m&&e('"N"');q===null&&(b.substr(a,
1)==="n"?(q="n",a+=1):(q=null,m&&e('"n"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,m&&e('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,m&&e('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="O"){var u="O";a+=1}else u=null,m&&e('"O"');u===null&&(b.substr(a,1)==="o"?(u="o",a+=1):(u=null,m&&e('"o"')),u=u!==null?u:null);if(u!==null){for(var v=[],w=t();w!==null;)v.push(w),w=t();v!==null?(w=za(),w!==null?E=[E,q,r,u,v,w]:(E=null,a=o)):(E=null,
a=o)}else E=null,a=o}else E=null,a=o}else E=null,a=o}else E=null,a=o;o=E!==null?E:"";o!==null?f=[f,j,x,g,h,n,s,o]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;c.destinyGraph=b[5];return c}(f[5],f[7]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[32] Load");y[c]={nextPos:a,result:i};return i}function bb(){var c="Clear@"+a,d=y[c];if(d)return a=
d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="C"){var f="C";a+=1}else f=null,m&&e('"C"');f===null&&(b.substr(a,1)==="c"?(f="c",a+=1):(f=null,m&&e('"c"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="L"){var j="L";a+=1}else j=null,m&&e('"L"');j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,m&&e('"l"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,m&&e('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,m&&e('"e"')),x=x!==null?x:
null);if(x!==null){if(b.substr(a,1)==="A"){var g="A";a+=1}else g=null,m&&e('"A"');g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&e('"a"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&e('"R"');h===null&&(b.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&e('"r"')),h=h!==null?h:null);if(h!==null){for(var n=[],s=t();s!==null;)n.push(s),s=t();if(n!==null){s=a;if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,m&&e('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",
a+=1):(o=null,m&&e('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var E="I";a+=1}else E=null,m&&e('"I"');E===null&&(b.substr(a,1)==="i"?(E="i",a+=1):(E=null,m&&e('"i"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="L"){var q="L";a+=1}else q=null,m&&e('"L"');q===null&&(b.substr(a,1)==="l"?(q="l",a+=1):(q=null,m&&e('"l"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,m&&e('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,m&&e('"e"')),
r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="N"){var u="N";a+=1}else u=null,m&&e('"N"');u===null&&(b.substr(a,1)==="n"?(u="n",a+=1):(u=null,m&&e('"n"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="T"){var v="T";a+=1}else v=null,m&&e('"T"');v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=null,m&&e('"t"')),v=v!==null?v:null);v!==null?o=[o,E,q,r,u,v]:(o=null,a=s)}else o=null,a=s}else o=null,a=s}else o=null,a=s}else o=null,a=s}else o=null,a=s;s=o!==null?o:"";if(s!==null){o=[];for(E=t();E!==
null;)o.push(E),E=t();o!==null?(E=Va(),E!==null?f=[f,j,x,g,h,n,s,o,E]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b}(f[8]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[33] Clear");y[c]={nextPos:a,result:i};return i}function gb(){var c="Drop@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,
1)==="D"){var f="D";a+=1}else f=null,m&&e('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,m&&e('"d"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,m&&e('"R"');j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,m&&e('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="O"){var x="O";a+=1}else x=null,m&&e('"O"');x===null&&(b.substr(a,1)==="o"?(x="o",a+=1):(x=null,m&&e('"o"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="P"){var g="P";a+=
1}else g=null,m&&e('"P"');g===null&&(b.substr(a,1)==="p"?(g="p",a+=1):(g=null,m&&e('"p"')),g=g!==null?g:null);if(g!==null){for(var h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null){n=a;if(b.substr(a,1)==="S"){var s="S";a+=1}else s=null,m&&e('"S"');s===null&&(b.substr(a,1)==="s"?(s="s",a+=1):(s=null,m&&e('"s"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="I"){var o="I";a+=1}else o=null,m&&e('"I"');o===null&&(b.substr(a,1)==="i"?(o="i",a+=1):(o=null,m&&e('"i"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="L"){var E="L";a+=1}else E=null,m&&e('"L"');E===null&&(b.substr(a,1)==="l"?(E="l",a+=1):(E=null,m&&e('"l"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="E"){var q="E";a+=1}else q=null,m&&e('"E"');q===null&&(b.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&e('"e"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="N"){var r="N";a+=1}else r=null,m&&e('"N"');r===null&&(b.substr(a,1)==="n"?(r="n",a+=1):(r=null,m&&e('"n"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var u="T";a+=
1}else u=null,m&&e('"T"');u===null&&(b.substr(a,1)==="t"?(u="t",a+=1):(u=null,m&&e('"t"')),u=u!==null?u:null);u!==null?s=[s,o,E,q,r,u]:(s=null,a=n)}else s=null,a=n}else s=null,a=n}else s=null,a=n}else s=null,a=n}else s=null,a=n;n=s!==null?s:"";if(n!==null){s=[];for(o=t();o!==null;)s.push(o),o=t();s!==null?(o=Va(),o!==null?f=[f,j,x,g,h,n,s,o]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={kind:"drop",
token:"executableunit"};b.destinyGraph=a;return b}(f[7]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[34] Drop");y[c]={nextPos:a,result:i};return i}function hb(){var c="Create@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="C"){var f="C";a+=1}else f=null,m&&e('"C"');f===null&&(b.substr(a,1)==="c"?(f="c",a+=1):(f=null,m&&e('"c"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,m&&e('"R"');j===null&&(b.substr(a,1)==="r"?(j=
"r",a+=1):(j=null,m&&e('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,m&&e('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,m&&e('"e"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="A"){var g="A";a+=1}else g=null,m&&e('"A"');g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&e('"a"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&e('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&
e('"t"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&e('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&e('"e"')),n=n!==null?n:null);if(n!==null){for(var s=[],o=t();o!==null;)s.push(o),o=t();if(s!==null){o=a;if(b.substr(a,1)==="S"){var E="S";a+=1}else E=null,m&&e('"S"');E===null&&(b.substr(a,1)==="s"?(E="s",a+=1):(E=null,m&&e('"s"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="I"){var q="I";a+=1}else q=null,m&&e('"I"');q===null&&(b.substr(a,
1)==="i"?(q="i",a+=1):(q=null,m&&e('"i"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="L"){var r="L";a+=1}else r=null,m&&e('"L"');r===null&&(b.substr(a,1)==="l"?(r="l",a+=1):(r=null,m&&e('"l"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,m&&e('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&e('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="N"){var v="N";a+=1}else v=null,m&&e('"N"');v===null&&(b.substr(a,1)==="n"?(v="n",a+=1):
(v=null,m&&e('"n"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="T"){var w="T";a+=1}else w=null,m&&e('"T"');w===null&&(b.substr(a,1)==="t"?(w="t",a+=1):(w=null,m&&e('"t"')),w=w!==null?w:null);w!==null?E=[E,q,r,u,v,w]:(E=null,a=o)}else E=null,a=o}else E=null,a=o}else E=null,a=o}else E=null,a=o}else E=null,a=o;o=E!==null?E:"";if(o!==null){E=[];for(q=t();q!==null;)E.push(q),q=t();E!==null?(q=za(),q!==null?f=[f,j,x,g,h,n,s,o,E,q]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=
null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b}(f[9]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[35] Create");y[c]={nextPos:a,result:i};return i}function ib(){var c="InsertData@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="I"){var f="I";a+=1}else f=null,m&&e('"I"');f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,m&&
e('"i"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="N"){var j="N";a+=1}else j=null,m&&e('"N"');j===null&&(b.substr(a,1)==="n"?(j="n",a+=1):(j=null,m&&e('"n"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="S"){var x="S";a+=1}else x=null,m&&e('"S"');x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,m&&e('"s"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=g!==null?
g:null);if(g!==null){if(b.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&e('"R"');h===null&&(b.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&e('"r"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&e('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&e('"t"')),n=n!==null?n:null);if(n!==null){for(var s=[],o=t();o!==null;)s.push(o),o=t();if(s!==null)if(b.substr(a,1)==="D"?(o="D",a+=1):(o=null,m&&e('"D"')),o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=
null,m&&e('"d"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="A"){var q="A";a+=1}else q=null,m&&e('"A"');q===null&&(b.substr(a,1)==="a"?(q="a",a+=1):(q=null,m&&e('"a"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,m&&e('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,m&&e('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&e('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,m&&e('"a"')),u=u!==
null?u:null);if(u!==null){for(var v=[],w=t();w!==null;)v.push(w),w=t();v!==null?(w=Oa(),w!==null?f=[f,j,x,g,h,n,s,o,q,r,u,v,w]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b}(f[12]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[36] InsertData");y[c]={nextPos:a,
result:i};return i}function cb(){var c="DeleteData@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="D"){var f="D";a+=1}else f=null,m&&e('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,m&&e('"d"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,m&&e('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,m&&e('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="L"){var x="L";a+=1}else x=null,m&&e('"L"');x===
null&&(b.substr(a,1)==="l"?(x="l",a+=1):(x=null,m&&e('"l"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&e('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&e('"t"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&e('"E"');n===null&&(b.substr(a,1)===
"e"?(n="e",a+=1):(n=null,m&&e('"e"')),n=n!==null?n:null);if(n!==null){for(var s=[],o=t();o!==null;)s.push(o),o=t();if(s!==null)if(b.substr(a,1)==="D"?(o="D",a+=1):(o=null,m&&e('"D"')),o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,m&&e('"d"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="A"){var q="A";a+=1}else q=null,m&&e('"A"');q===null&&(b.substr(a,1)==="a"?(q="a",a+=1):(q=null,m&&e('"a"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,m&&e('"T"');
r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,m&&e('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,m&&e('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,m&&e('"a"')),u=u!==null?u:null);if(u!==null){var v=Oa();v!==null?f=[f,j,x,g,h,n,s,o,q,r,u,v]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?
function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b}(f[11]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[37] DeleteData");y[c]={nextPos:a,result:i};return i}function fb(){var c="DeleteWhere@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="D"){var f="D";a+=1}else f=null,m&&e('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,m&&e('"d"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,m&&
e('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,m&&e('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="L"){var x="L";a+=1}else x=null,m&&e('"L"');x===null&&(b.substr(a,1)==="l"?(x="l",a+=1):(x=null,m&&e('"l"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&e('"T"');h===null&&(b.substr(a,
1)==="t"?(h="t",a+=1):(h=null,m&&e('"t"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&e('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&e('"e"')),n=n!==null?n:null);if(n!==null){for(var s=[],o=t();o!==null;)s.push(o),o=t();if(s!==null)if(b.substr(a,1)==="W"?(o="W",a+=1):(o=null,m&&e('"W"')),o===null&&(b.substr(a,1)==="w"?(o="w",a+=1):(o=null,m&&e('"w"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="H"){var q="H";a+=1}else q=null,m&&e('"H"');
q===null&&(b.substr(a,1)==="h"?(q="h",a+=1):(q=null,m&&e('"h"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,m&&e('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,m&&e('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,m&&e('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,m&&e('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&e('"E"');v===null&&(b.substr(a,
1)==="e"?(v="e",a+=1):(v=null,m&&e('"e"')),v=v!==null?v:null);if(v!==null){for(var w=[],z=t();z!==null;)w.push(z),z=t();w!==null?(z=T(),z!==null?f=[f,j,x,g,h,n,s,o,q,r,u,v,w,z]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;for(var c=[],a=a.patterns[0],
a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,e=0;e<a.length;e++){var f={},i=a[e];f.subject=i.subject;f.predicate=i.predicate;f.object=i.object;f.graph=i.graph;c.push(f)}b["delete"]=c;return b}(f[13]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[38] DeleteWhere");y[c]={nextPos:a,result:i};return i}function oa(){var c="Modify@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=a;if(b.substr(a,1)==="W"){var k="W";a+=1}else k=null,m&&e('"W"');
k===null&&(b.substr(a,1)==="w"?(k="w",a+=1):(k=null,m&&e('"w"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="I"){var x="I";a+=1}else x=null,m&&e('"I"');x===null&&(b.substr(a,1)==="i"?(x="i",a+=1):(x=null,m&&e('"i"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,m&&e('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,m&&e('"t"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="H"){var h="H";a+=1}else h=null,m&&e('"H"');h===null&&(b.substr(a,
1)==="h"?(h="h",a+=1):(h=null,m&&e('"h"')),h=h!==null?h:null);if(h!==null){for(var n=[],s=t();s!==null;)n.push(s),s=t();n!==null?(s=U(),s!==null?k=[k,x,g,h,n,s]:(k=null,a=f)):(k=null,a=f)}else k=null,a=f}else k=null,a=f}else k=null,a=f}else k=null,a=f;f=k!==null?k:"";if(f!==null){k=[];for(x=t();x!==null;)k.push(x),x=t();if(k!==null){x=a;g=ob();if(g!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();h!==null?(n=Qa(),n=n!==null?n:"",n!==null?g=[g,h,n]:(g=null,a=x)):(g=null,a=x)}else g=null,a=x;g!==null?
x=g:(x=Qa(),x=x!==null?x:null);if(x!==null){g=[];for(h=t();h!==null;)g.push(h),h=t();if(g!==null){h=[];for(n=va();n!==null;)h.push(n),n=va();if(h!==null){n=[];for(s=t();s!==null;)n.push(s),s=t();if(n!==null)if(b.substr(a,1)==="W"?(s="W",a+=1):(s=null,m&&e('"W"')),s===null&&(b.substr(a,1)==="w"?(s="w",a+=1):(s=null,m&&e('"w"')),s=s!==null?s:null),s!==null){if(b.substr(a,1)==="H"){var o="H";a+=1}else o=null,m&&e('"H"');o===null&&(b.substr(a,1)==="h"?(o="h",a+=1):(o=null,m&&e('"h"')),o=o!==null?o:null);
if(o!==null){if(b.substr(a,1)==="E"){var q="E";a+=1}else q=null,m&&e('"E"');q===null&&(b.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&e('"e"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="R"){var r="R";a+=1}else r=null,m&&e('"R"');r===null&&(b.substr(a,1)==="r"?(r="r",a+=1):(r=null,m&&e('"r"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,m&&e('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,m&&e('"e"')),u=u!==null?u:null);if(u!==null){for(var v=
[],w=t();w!==null;)v.push(w),w=t();if(v!==null)if(w=T(),w!==null){for(var z=[],A=t();A!==null;)z.push(A),A=t();z!==null?f=[f,k,x,g,h,n,s,o,q,r,u,v,w,z]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b,c,e){var f={kind:"modify"};f["with"]=a!=""?a[5]:null;b.length===3&&b[2]===""?(f["delete"]=b[0],f.insert=
null):b.length===3&&b[0].length!=null&&b[1].length!=null&&b[2].length!=null?(f["delete"]=b[0],f.insert=b[2]):(f.insert=b,f["delete"]=null);c!=""&&(f.using=c);f.pattern=e;return f}(f[0],f[2],f[4],f[12]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[39] Modify");y[c]={nextPos:a,result:i};return i}function ob(){var c="DeleteClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="D"){var f="D";a+=1}else f=null,m&&e('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=
1):(f=null,m&&e('"d"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,m&&e('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,m&&e('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="L"){var x="L";a+=1}else x=null,m&&e('"L"');x===null&&(b.substr(a,1)==="l"?(x="l",a+=1):(x=null,m&&e('"l"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),
g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="T"){var h="T";a+=1}else h=null,m&&e('"T"');h===null&&(b.substr(a,1)==="t"?(h="t",a+=1):(h=null,m&&e('"t"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&e('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&e('"e"')),n=n!==null?n:null);if(n!==null){var s=Wa();s!==null?f=[f,j,x,g,h,n,s]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=
f!==null?f[6]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[40] DeleteClause");y[c]={nextPos:a,result:i};return i}function Qa(){var c="InsertClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="I"){var f="I";a+=1}else f=null,m&&e('"I"');f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,m&&e('"i"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="N"){var j="N";a+=1}else j=null,m&&e('"N"');j===null&&(b.substr(a,1)==="n"?(j="n",a+=1):(j=null,m&&e('"n"')),
j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="S"){var x="S";a+=1}else x=null,m&&e('"S"');x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,m&&e('"s"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var h="R";a+=1}else h=null,m&&e('"R"');h===null&&(b.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&e('"r"')),h=h!==null?h:null);if(h!==
null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&e('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&e('"t"')),n=n!==null?n:null);if(n!==null){var s=Wa();s!==null?f=[f,j,x,g,h,n,s]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?f[6]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[41] InsertClause");y[c]={nextPos:a,result:i};return i}function va(){var c="UsingClause@"+a,d=y[c];if(d)return a=d.nextPos,d.result;
d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="U"?(k="U",a+=1):(k=null,m&&e('"U"')),k===null&&(b.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&e('"u"')),k=k!==null?k:null),k!==null){if(b.substr(a,1)==="S"){var x="S";a+=1}else x=null,m&&e('"S"');x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,m&&e('"s"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,m&&e('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,m&&
e('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="N"){var h="N";a+=1}else h=null,m&&e('"N"');h===null&&(b.substr(a,1)==="n"?(h="n",a+=1):(h=null,m&&e('"n"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="G"){var n="G";a+=1}else n=null,m&&e('"G"');n===null&&(b.substr(a,1)==="g"?(n="g",a+=1):(n=null,m&&e('"g"')),n=n!==null?n:null);if(n!==null){for(var s=[],o=t();o!==null;)s.push(o),o=t();if(s!==null){o=U();if(o===null){o=a;if(b.substr(a,1)==="N"){var q="N";a+=1}else q=null,m&&e('"N"');
q===null&&(b.substr(a,1)==="n"?(q="n",a+=1):(q=null,m&&e('"n"')),q=q!==null?q:null);if(q!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,m&&e('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,m&&e('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="M"){var u="M";a+=1}else u=null,m&&e('"M"');u===null&&(b.substr(a,1)==="m"?(u="m",a+=1):(u=null,m&&e('"m"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var v="E";a+=1}else v=null,m&&e('"E"');v===null&&(b.substr(a,
1)==="e"?(v="e",a+=1):(v=null,m&&e('"e"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="D"){var w="D";a+=1}else w=null,m&&e('"D"');w===null&&(b.substr(a,1)==="d"?(w="d",a+=1):(w=null,m&&e('"d"')),w=w!==null?w:null);if(w!==null){for(var z=[],A=t();A!==null;)z.push(A),A=t();z!==null?(A=U(),A!==null?q=[q,r,u,v,w,z,A]:(q=null,a=o)):(q=null,a=o)}else q=null,a=o}else q=null,a=o}else q=null,a=o}else q=null,a=o}else q=null,a=o;o=q!==null?q:null}o!==null?f=[f,k,x,g,h,n,s,o]:(f=null,a=i)}else f=null,
a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?f[7].length!=null?{kind:"named",uri:f[7][6]}:{kind:"default",uri:f[7]}:null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[42] UsingClause");y[c]={nextPos:a,result:i};return i}function za(){var c="GraphRef@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="G"){var f="G";a+=1}else f=null,m&&e('"G"');f===null&&(b.substr(a,1)==="g"?(f="g",a+=1):(f=null,m&&e('"g"')),
f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var j="R";a+=1}else j=null,m&&e('"R"');j===null&&(b.substr(a,1)==="r"?(j="r",a+=1):(j=null,m&&e('"r"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="A"){var x="A";a+=1}else x=null,m&&e('"A"');x===null&&(b.substr(a,1)==="a"?(x="a",a+=1):(x=null,m&&e('"a"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="P"){var g="P";a+=1}else g=null,m&&e('"P"');g===null&&(b.substr(a,1)==="p"?(g="p",a+=1):(g=null,m&&e('"p"')),g=g!==null?g:null);if(g!==
null){if(b.substr(a,1)==="H"){var h="H";a+=1}else h=null,m&&e('"H"');h===null&&(b.substr(a,1)==="h"?(h="h",a+=1):(h=null,m&&e('"h"')),h=h!==null?h:null);if(h!==null){for(var n=[],s=t();s!==null;)n.push(s),s=t();n!==null?(s=U(),s!==null?f=[f,j,x,g,h,n,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?f[6]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[43] GraphRef");y[c]={nextPos:a,result:i};return i}function Va(){var c="GraphRefAll@"+
a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=za(),i=i!==null?i:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;if(b.substr(a,1)==="D"){var f="D";a+=1}else f=null,m&&e('"D"');f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,m&&e('"d"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var j="E";a+=1}else j=null,m&&e('"E"');j===null&&(b.substr(a,1)==="e"?(j="e",a+=1):(j=null,m&&e('"e"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="F"){var x="F";a+=1}else x=null,
m&&e('"F"');x===null&&(b.substr(a,1)==="f"?(x="f",a+=1):(x=null,m&&e('"f"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="A"){var g="A";a+=1}else g=null,m&&e('"A"');g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&e('"a"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="U"){var h="U";a+=1}else h=null,m&&e('"U"');h===null&&(b.substr(a,1)==="u"?(h="u",a+=1):(h=null,m&&e('"u"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="L"){var n="L";a+=1}else n=null,m&&e('"L"');n===null&&
(b.substr(a,1)==="l"?(n="l",a+=1):(n=null,m&&e('"l"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="T"){var s="T";a+=1}else s=null,m&&e('"T"');s===null&&(b.substr(a,1)==="t"?(s="t",a+=1):(s=null,m&&e('"t"')),s=s!==null?s:null);s!==null?f=[f,j,x,g,h,n,s]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?"default":null;i===null&&(i=null,a=k);i!==null?k=i:(i=k=a,b.substr(a,1)==="N"?(f="N",a+=1):(f=null,m&&e('"N"')),f===null&&
(b.substr(a,1)==="n"?(f="n",a+=1):(f=null,m&&e('"n"')),f=f!==null?f:null),f!==null?(b.substr(a,1)==="A"?(j="A",a+=1):(j=null,m&&e('"A"')),j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,m&&e('"a"')),j=j!==null?j:null),j!==null?(b.substr(a,1)==="M"?(x="M",a+=1):(x=null,m&&e('"M"')),x===null&&(b.substr(a,1)==="m"?(x="m",a+=1):(x=null,m&&e('"m"')),x=x!==null?x:null),x!==null?(b.substr(a,1)==="E"?(g="E",a+=1):(g=null,m&&e('"E"')),g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=
g!==null?g:null),g!==null?(b.substr(a,1)==="D"?(h="D",a+=1):(h=null,m&&e('"D"')),h===null&&(b.substr(a,1)==="d"?(h="d",a+=1):(h=null,m&&e('"d"')),h=h!==null?h:null),h!==null?f=[f,j,x,g,h]:(f=null,a=i)):(f=null,a=i)):(f=null,a=i)):(f=null,a=i)):(f=null,a=i),i=f!==null?"named":null,i===null&&(i=null,a=k),i!==null?k=i:(i=k=a,b.substr(a,1)==="A"?(f="A",a+=1):(f=null,m&&e('"A"')),f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,m&&e('"a"')),f=f!==null?f:null),f!==null?(b.substr(a,1)==="L"?(j="L",a+=
1):(j=null,m&&e('"L"')),j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,m&&e('"l"')),j=j!==null?j:null),j!==null?(b.substr(a,1)==="L"?(x="L",a+=1):(x=null,m&&e('"L"')),x===null&&(b.substr(a,1)==="l"?(x="l",a+=1):(x=null,m&&e('"l"')),x=x!==null?x:null),x!==null?f=[f,j,x]:(f=null,a=i)):(f=null,a=i)):(f=null,a=i),i=f!==null?"all":null,i===null&&(i=null,a=k),k=i!==null?i:null))}(m=d)&&k===null&&e("[44] GraphRefAll");y[c]={nextPos:a,result:k};return k}function Wa(){var c="QuadPattern@"+a,d=y[c];if(d)return a=
d.nextPos,d.result;d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="{"?(k="{",a+=1):(k=null,m&&e('"{"')),k!==null){for(var g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(h=Pa(),h!==null){for(var n=[],o=t();o!==null;)n.push(o),o=t();if(n!==null)if(b.substr(a,1)==="}"?(o="}",a+=1):(o=null,m&&e('"}"')),o!==null){for(var s=[],q=t();q!==null;)s.push(q),q=t();s!==null?f=[f,k,g,h,n,o,s]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=
null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?f[3].quadsContext:null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[45] QuadPattern");y[c]={nextPos:a,result:i};return i}function Oa(){var c="QuadData@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="{"?(k="{",a+=1):(k=null,m&&e('"{"')),k!==null){for(var g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(h=Pa(),h!==null){for(var n=[],o=t();o!==null;)n.push(o),
o=t();if(n!==null)if(b.substr(a,1)==="}"?(o="}",a+=1):(o=null,m&&e('"}"')),o!==null){for(var s=[],q=t();q!==null;)s.push(q),q=t();s!==null?f=[f,k,g,h,n,o,s]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?f[3].quadsContext:null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[46] QuadData");y[c]={nextPos:a,result:i};return i}function Pa(){var c="Quads@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=$(),f=f!==null?
f:"";if(f!==null){var j=[],g=a,h=Ra();if(h!==null){if(b.substr(a,1)==="."){var n=".";a+=1}else n=null,m&&e('"."');n=n!==null?n:"";if(n!==null){var o=$(),o=o!==null?o:"";o!==null?h=[h,n,o]:(h=null,a=g)}else h=null,a=g}else h=null,a=g;for(;h!==null;)j.push(h),g=a,h=Ra(),h!==null?(b.substr(a,1)==="."?(n=".",a+=1):(n=null,m&&e('"."')),n=n!==null?n:"",n!==null?(o=$(),o=o!==null?o:"",o!==null?h=[h,n,o]:(h=null,a=g)):(h=null,a=g)):(h=null,a=g);j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,
b){var c=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var e=0;e<a.triplesContext.length;e++){var f=a.triplesContext[e];f.graph=null;c.push(f)}if(b&&b.length>0&&b[0].length>0&&(c=c.concat(b[0][0].quadsContext),b[0][2]!=null&&b[0][2].triplesContext!=null))for(e=0;e<b[0][2].triplesContext.length;e++)f=b[0][2].triplesContext[e],f.graph=null,c.push(f);return{token:"quads",quadsContext:c}}(f[0],f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[47] Quads");y[c]={nextPos:a,result:i};return i}
function Ra(){var c="QuadsNotTriples@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="G"?(k="G",a+=1):(k=null,m&&e('"G"')),k===null&&(b.substr(a,1)==="g"?(k="g",a+=1):(k=null,m&&e('"g"')),k=k!==null?k:null),k!==null){if(b.substr(a,1)==="R"){var g="R";a+=1}else g=null,m&&e('"R"');g===null&&(b.substr(a,1)==="r"?(g="r",a+=1):(g=null,m&&e('"r"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="A"){var h="A";a+=
1}else h=null,m&&e('"A"');h===null&&(b.substr(a,1)==="a"?(h="a",a+=1):(h=null,m&&e('"a"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="P"){var n="P";a+=1}else n=null,m&&e('"P"');n===null&&(b.substr(a,1)==="p"?(n="p",a+=1):(n=null,m&&e('"p"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="H"){var o="H";a+=1}else o=null,m&&e('"H"');o===null&&(b.substr(a,1)==="h"?(o="h",a+=1):(o=null,m&&e('"h"')),o=o!==null?o:null);if(o!==null){for(var s=[],q=t();q!==null;)s.push(q),q=t();if(s!==null)if(q=
Ea(),q!==null){for(var r=[],u=t();u!==null;)r.push(u),u=t();if(r!==null)if(b.substr(a,1)==="{"?(u="{",a+=1):(u=null,m&&e('"{"')),u!==null){for(var v=[],w=t();w!==null;)v.push(w),w=t();if(v!==null)if(w=$(),w=w!==null?w:"",w!==null){for(var z=[],A=t();A!==null;)z.push(A),A=t();if(z!==null)if(b.substr(a,1)==="}"?(A="}",a+=1):(A=null,m&&e('"}"')),A!==null){for(var B=[],D=t();D!==null;)B.push(D),D=t();B!==null?f=[f,k,g,h,n,o,s,q,r,u,v,w,z,A,B]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=
i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){for(var c=[],e=0;e<b.triplesContext.length;e++){var f=b.triplesContext[e];f.graph=a;c.push(f)}return{token:"quadsnottriples",quadsContext:c}}(f[7],f[11]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[48] QuadsNotTriples");y[c]={nextPos:a,result:i};return i}function $(){var c="TriplesTemplate@"+
a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=Ja();if(f!==null){for(var j=a,g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(b.substr(a,1)==="."?(h=".",a+=1):(h=null,m&&e('"."')),h!==null){for(var n=[],o=t();o!==null;)n.push(o),o=t();n!==null?(o=$(),o=o!==null?o:"",o!==null?g=[g,h,n,o]:(g=null,a=j)):(g=null,a=j)}else g=null,a=j;else g=null,a=j;j=g!==null?g:"";j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=
null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(f[0],f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[49] TriplesTemplate");y[c]={nextPos:a,result:i};return i}function T(){var c="GroupGraphPattern@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="{"){var f="{";a+=1}else f=null,m&&e('"{"');if(f!==null){for(var j=[],g=t();g!==null;)j.push(g),g=t();if(j!==null)if(g=w(),g!==null){for(var h=[],
n=t();n!==null;)h.push(n),n=t();h!==null?(b.substr(a,1)==="}"?(n="}",a+=1):(n=null,m&&e('"}"')),n!==null?f=[f,j,g,h,n]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?f[2]:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,1)==="{"?(f="{",a+=1):(f=null,m&&e('"{"'));if(f!==null){j=[];for(g=t();g!==null;)j.push(g),g=t();if(j!==null)if(g=Ha(),g!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();h!==null?(b.substr(a,1)==="}"?(n="}",a+=1):(n=null,m&&e('"}"')),
n!==null?f=[f,j,g,h,n]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?f[2]:null;i===null&&(i=null,a=k);k=i!==null?i:null}(m=d)&&k===null&&e("[50] GroupGraphPattern");y[c]={nextPos:a,result:k};return k}function Ha(){var c="GroupGraphPatternSub@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=xa(),f=f!==null?f:"";if(f!==null){for(var j=[],g=t();g!==null;)j.push(g),g=t();if(j!==null){var g=[],h=a,n=Sa();if(n!==null){for(var o=[],s=t();s!==null;)o.push(s),
s=t();if(o!==null)if(b.substr(a,1)==="."?(s=".",a+=1):(s=null,m&&e('"."')),s=s!==null?s:"",s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();q!==null?(r=xa(),r=r!==null?r:"",r!==null?n=[n,o,s,q,r]:(n=null,a=h)):(n=null,a=h)}else n=null,a=h;else n=null,a=h}else n=null,a=h;for(;n!==null;)if(g.push(n),h=a,n=Sa(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="."?(s=".",a+=1):(s=null,m&&e('"."')),s=s!==null?s:"",s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();
q!==null?(r=xa(),r=r!==null?r:"",r!==null?n=[n,o,s,q,r]:(n=null,a=h)):(n=null,a=h)}else n=null,a=h;else n=null,a=h}else n=null,a=h;g!==null?f=[f,j,g]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b){var c=[];a!=null&&a!=[]&&c.push(a);for(var e=0;e<b.length;e++)for(var f=0;f<b[e].length;f++)b[e][f].token!=null&&c.push(b[e][f]);for(var i=[],d=[],k=[],e=0;e<c.length;e++)if(c[e].token!="triplespattern"&&c[e].token!="filter"){if(d.length!=0||k.length!=0){for(var j=[],f=0;f<d.length;f++)j=
j.concat(d[f].triplesContext);j.length>0&&i.push({token:"basicgraphpattern",triplesContext:j});d=[]}i.push(c[e])}else c[e].token==="triplespattern"?d.push(c[e]):k.push(c[e]);if(d.length!=0||k.length!=0){j=[];for(f=0;f<d.length;f++)j=j.concat(d[f].triplesContext);j.length>0&&i.push({token:"basicgraphpattern",triplesContext:j})}return{token:"groupgraphpattern",patterns:i,filters:k}}(f[0],f[2]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[51] GroupGraphPatternSub");y[c]={nextPos:a,result:i};return i}
function xa(){var c="TriplesBlock@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=Ja();if(f!==null){for(var k=a,g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(b.substr(a,1)==="."?(h=".",a+=1):(h=null,m&&e('"."')),h!==null){var n=xa(),n=n!==null?n:"";n!==null?g=[g,h,n]:(g=null,a=k)}else g=null,a=k;else g=null,a=k;k=g!==null?g:"";k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[2].triplesContext!=
null&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}}(f[0],f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[54] TriplesBlock");y[c]={nextPos:a,result:i};return i}function Sa(){var b="GraphPatternNotTriples@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Ia();d===null&&(d=jb(),d===null&&(d=kb(),d===null&&(d=mb(),d===null&&(d=lb(),d===null&&(d=nb(),d=d!==null?d:null)))));(m=c)&&d===null&&e("[53] GraphPatternNotTriples");y[b]={nextPos:a,result:d};return d}
function jb(){var c="OptionalGraphPattern@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,8)==="OPTIONAL"?(j="OPTIONAL",a+=8):(j=null,m&&e('"OPTIONAL"')),j!==null){for(var g=[],h=t();h!==null;)g.push(h),h=t();g!==null?(h=T(),h!==null?f=[f,j,g,h]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i;i=f!==null?{token:"optionalgraphpattern",value:f[3]}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[54] OptionalGraphPattern");
y[c]={nextPos:a,result:i};return i}function mb(){var c="GraphGraphPattern@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="G"?(k="G",a+=1):(k=null,m&&e('"G"')),k===null&&(b.substr(a,1)==="g"?(k="g",a+=1):(k=null,m&&e('"g"')),k=k!==null?k:null),k!==null){if(b.substr(a,1)==="R"){var g="R";a+=1}else g=null,m&&e('"R"');g===null&&(b.substr(a,1)==="r"?(g="r",a+=1):(g=null,m&&e('"r"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,
1)==="A"){var h="A";a+=1}else h=null,m&&e('"A"');h===null&&(b.substr(a,1)==="a"?(h="a",a+=1):(h=null,m&&e('"a"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="P"){var n="P";a+=1}else n=null,m&&e('"P"');n===null&&(b.substr(a,1)==="p"?(n="p",a+=1):(n=null,m&&e('"p"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="H"){var o="H";a+=1}else o=null,m&&e('"H"');o===null&&(b.substr(a,1)==="h"?(o="h",a+=1):(o=null,m&&e('"h"')),o=o!==null?o:null);if(o!==null){for(var s=[],q=t();q!==null;)s.push(q),
q=t();if(s!==null)if(q=Ea(),q!==null){for(var r=[],u=t();u!==null;)r.push(u),u=t();r!==null?(u=T(),u!==null?f=[f,k,g,h,n,o,s,q,r,u]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){for(var c=0;c<b.patterns.length;c++)for(var e=b.patterns[c],f=0;f<e.triplesContext.length;f++)e.triplesContext[f].graph=a;b.token="groupgraphpattern";return b}(f[7],f[9]):null;i===null&&(i=
null,a=j);(m=d)&&i===null&&e("[55] GraphGraphPattern");y[c]={nextPos:a,result:i};return i}function lb(){var c="ServiceGraphPattern@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,7)==="SERVICE"){var f="SERVICE";a+=7}else f=null,m&&e('"SERVICE"');if(f!==null){var j=Ea();if(j!==null){var g=T();g!==null?f=[f,j,g]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?{token:"servicegraphpattern",status:"todo",value:[f[1],f[2]]}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&
e("[56] ServiceGraphPattern");y[c]={nextPos:a,result:i};return i}function kb(){var c="MinusGraphPattern@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,5)==="MINUS"){var f="MINUS";a+=5}else f=null,m&&e('"MINUS"');if(f!==null){var j=T();j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?{token:"minusgraphpattern",status:"todo",value:f[1]}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[57] MinusGraphPattern");y[c]={nextPos:a,result:i};return i}function Ia(){var c=
"GroupOrUnionGraphPattern@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=T();if(f!==null){for(var j=[],g=a,h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,5)==="UNION"?(n="UNION",a+=5):(n=null,m&&e('"UNION"')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();o!==null?(s=T(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;for(;h!==null;){j.push(h);g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,5)==="UNION"?
(n="UNION",a+=5):(n=null,m&&e('"UNION"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=T(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g}j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b.length===0)return a;else{for(var c={token:"graphunionpattern",value:[a]},e=0;e<b.length;e++)e==b.length-1?c.value.push(b[e][3]):(c.value.push(b[e][3]),c={token:"graphunionpattern",value:[c]});return c}}(f[0],f[1]):null;i===null&&(i=null,
a=k);(m=d)&&i===null&&e("[58] GroupOrUnionGraphPattern");y[c]={nextPos:a,result:i};return i}function nb(){var c="Filter@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var k=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(b.substr(a,1)==="F"?(j="F",a+=1):(j=null,m&&e('"F"')),j===null&&(b.substr(a,1)==="f"?(j="f",a+=1):(j=null,m&&e('"f"')),j=j!==null?j:null),j!==null){if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,m&&e('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,
m&&e('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="L"){var h="L";a+=1}else h=null,m&&e('"L"');h===null&&(b.substr(a,1)==="l"?(h="l",a+=1):(h=null,m&&e('"l"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="T"){var n="T";a+=1}else n=null,m&&e('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&e('"t"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,m&&e('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,m&&e('"e"')),o=o!==null?
o:null);if(o!==null){if(b.substr(a,1)==="R"){var s="R";a+=1}else s=null,m&&e('"R"');s===null&&(b.substr(a,1)==="r"?(s="r",a+=1):(s=null,m&&e('"r"')),s=s!==null?s:null);if(s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();q!==null?(r=ya(),r!==null?f=[f,j,g,h,n,o,s,q,r]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?{token:"filter",value:f[8]}:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[59] Filter");
y[c]={nextPos:a,result:i};return i}function ya(){var b="Constraint@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=vb();d===null&&(d=wb(),d===null&&(d=Ta(),d=d!==null?d:null));(m=c)&&d===null&&e("[60] Constraint");y[b]={nextPos:a,result:d};return d}function Ta(){var b="FunctionCall@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=U();if(f!==null){var j=Ua();j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};
c.iriref=a;c.args=b.value;return c}(f[0],f[1]):null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[61] FunctionCall");y[b]={nextPos:a,result:i};return i}function Ua(){var c="ArgList@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=Ka()!==null?{token:"args",value:[]}:null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;if(b.substr(a,1)==="("){var f="(";a+=1}else f=null,m&&e('"("');if(f!==null){if(b.substr(a,8)==="DISTINCT"){var k="DISTINCT";a+=8}else k=null,m&&e('"DISTINCT"');k=k!==null?
k:"";if(k!==null){var g=N();if(g!==null){var h=[],n=a;if(b.substr(a,1)===","){var o=",";a+=1}else o=null,m&&e('","');if(o!==null){var s=N();s!==null?o=[o,s]:(o=null,a=n)}else o=null,a=n;for(;o!==null;)h.push(o),n=a,b.substr(a,1)===","?(o=",",a+=1):(o=null,m&&e('","')),o!==null?(s=N(),s!==null?o=[o,s]:(o=null,a=n)):(o=null,a=n);h!==null?(b.substr(a,1)===")"?(n=")",a+=1):(n=null,m&&e('")"')),n!==null?f=[f,k,g,h,n]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?
function(a,b,c){cleanEx=[];for(var e=0;e<c.length;e++)cleanEx.push(c[e][1]);c={token:"args"};c.value=[b].concat(cleanEx);c.distinct=a==="DISTINCT"?!0:!1;return c}(f[1],f[2],f[3]):null;i===null&&(i=null,a=j);j=i!==null?i:null}(m=d)&&j===null&&e("[62] ArgList");y[c]={nextPos:a,result:j};return j}function ha(){var c="ExpressionList@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=Ka()!==null?{token:"args",value:[]}:null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;if(b.substr(a,1)===
"("){var f="(";a+=1}else f=null,m&&e('"("');if(f!==null){var k=N();if(k!==null){var g=[],h=a;if(b.substr(a,1)===","){var n=",";a+=1}else n=null,m&&e('","');if(n!==null){var o=N();o!==null?n=[n,o]:(n=null,a=h)}else n=null,a=h;for(;n!==null;)g.push(n),h=a,b.substr(a,1)===","?(n=",",a+=1):(n=null,m&&e('","')),n!==null?(o=N(),o!==null?n=[n,o]:(n=null,a=h)):(n=null,a=h);g!==null?(b.substr(a,1)===")"?(h=")",a+=1):(h=null,m&&e('")"')),h!==null?f=[f,k,g,h]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=
null,a=i;i=f!==null?function(a,b){cleanEx=[];for(var c=0;c<b.length;c++)cleanEx.push(b[c][1]);c={token:"args"};c.value=[a].concat(cleanEx);return c}(f[1],f[2]):null;i===null&&(i=null,a=j);j=i!==null?i:null}(m=d)&&j===null&&e("[63] ExpressionList");y[c]={nextPos:a,result:j};return j}function eb(){var c="ConstructTemplate@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a;if(b.substr(a,1)==="{"){var f="{";a+=1}else f=null,m&&e('"{"');if(f!==null){for(var k=[],g=t();g!==null;)k.push(g),
g=t();if(k!==null)if(g=B(),g=g!==null?g:"",g!==null){for(var h=[],n=t();n!==null;)h.push(n),n=t();h!==null?(b.substr(a,1)==="}"?(n="}",a+=1):(n=null,m&&e('"}"')),n!==null?f=[f,k,g,h,n]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?f[2]:null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[64] ConstructTemplate");y[c]={nextPos:a,result:i};return i}function B(){var c="ConstructTriples@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=Ja();if(f!==null){for(var k=
a,g=[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(b.substr(a,1)==="."?(h=".",a+=1):(h=null,m&&e('"."')),h!==null){for(var n=[],o=t();o!==null;)n.push(o),o=t();n!==null?(o=B(),o=o!==null?o:"",o!==null?g=[g,h,n,o]:(g=null,a=k)):(g=null,a=k)}else g=null,a=k;else g=null,a=k;k=g!==null?g:"";k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",
triplesContext:c}}(f[0],f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[65] ConstructTriples");y[c]={nextPos:a,result:i};return i}function Ja(){var b="TriplesSameSubject@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;for(var d=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=Fb(),j!==null){for(var k=[],g=t();g!==null;)k.push(g),g=t();k!==null?(g=Aa(),g!==null?f=[f,j,k,g]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){var c=b.triplesContext;
if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e],i=null;a.token&&a.token==="triplesnodecollection"?(i={subject:a.chainSubject[0],predicate:f[0],object:f[1]},c.push(i),c=c.concat(a.triplesContext)):(i={subject:a,predicate:f[0],object:f[1]},c.push(i))}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=a;return e}(f[1],f[3]):null;i===null&&(i=null,a=d);if(i!==null)d=i;else{i=d=a;f=[];for(j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=Fa(),j!==null){k=[];for(g=t();g!==null;)k.push(g),
g=t();k!==null?(g=Xa(),g!==null?f=[f,j,k,g]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){var c=a.triplesContext,e=a.chainSubject;if(b.pairs)for(var f=0;f<b.pairs.length;f++){var i=b.pairs[f];if(a.token==="triplesnodecollection")for(var d=0;d<e.length;d++){var j=e[d];if(j.triplesContext!=null){var k={subject:j.chainSubject,predicate:i[0],object:i[1]};c.concat(j.triplesContext)}else k={subject:e[d],predicate:i[0],object:i[1]},c.push(k)}else k={subject:e,predicate:i[0],
object:i[1]},c.push(k)}f={token:"triplessamesubject"};f.triplesContext=c;f.chainSubject=e;return f}(f[1],f[3]):null;i===null&&(i=null,a=d);d=i!==null?i:null}(m=c)&&d===null&&e("[66] TriplesSameSubject");y[b]={nextPos:a,result:d};return d}function Aa(){var c="PropertyListNotEmpty@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=Ca();if(f!==null){for(var k=[],g=t();g!==null;)k.push(g),g=t();if(k!==null)if(g=ba(),g!==null){for(var h=[],n=a,o=[],s=t();s!==null;)o.push(s),s=t();if(o!==
null)if(b.substr(a,1)===";"?(s=";",a+=1):(s=null,m&&e('";"')),s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();if(q!==null){var r=a,u=Ca();if(u!==null){for(var v=[],w=t();w!==null;)v.push(w),w=t();v!==null?(w=ba(),w!==null?u=[u,v,w]:(u=null,a=r)):(u=null,a=r)}else u=null,a=r;r=u!==null?u:"";r!==null?o=[o,s,q,r]:(o=null,a=n)}else o=null,a=n}else o=null,a=n;else o=null,a=n;for(;o!==null;){h.push(o);n=a;o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)===";"?(s=";",a+=1):(s=
null,m&&e('";"')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null){r=a;u=Ca();if(u!==null){v=[];for(w=t();w!==null;)v.push(w),w=t();v!==null?(w=ba(),w!==null?u=[u,v,w]:(u=null,a=r)):(u=null,a=r)}else u=null,a=r;r=u!==null?u:"";r!==null?o=[o,s,q,r]:(o=null,a=n)}else o=null,a=n}else o=null,a=n;else o=null,a=n}h!==null?f=[f,k,g,h]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b,c){token={token:"propertylist"};for(var e=[],f=[],i=0;i<b.length;i++)b[i].triplesContext!=
null?(e=e.concat(b[i].triplesContext),b[i].token==="triplesnodecollection"&&b[i].chainSubject.length!=null?f.push([a,b[i].chainSubject[0]]):f.push([a,b[i].chainSubject])):f.push([a,b[i]]);for(i=0;i<c.length;i++)for(var b=c[i][3],a=b[0],b=b[2]||[],d=0;d<b.length;d++)b[d].triplesContext!=null?(e=e.concat(b[d].triplesContext),f.push([a,b[d].chainSubject])):f.push([a,b[d]]);token.pairs=f;token.triplesContext=e;return token}(f[0],f[2],f[3]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[67] PropertyListNotEmpty");
y[c]={nextPos:a,result:i};return i}function Xa(){var b="PropertyList@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Aa(),d=d!==null?d:"";(m=c)&&d===null&&e("[68] PropertyList");y[b]={nextPos:a,result:d};return d}function ba(){var c="ObjectList@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=W();if(f!==null){for(var k=[],g=t();g!==null;)k.push(g),g=t();if(k!==null){var g=[],h=a;if(b.substr(a,1)===","){var n=",";a+=1}else n=null,m&&e('","');if(n!==null){for(var o=[],s=
t();s!==null;)o.push(s),s=t();o!==null?(s=W(),s!==null?n=[n,o,s]:(n=null,a=h)):(n=null,a=h)}else n=null,a=h;for(;n!==null;)if(g.push(n),h=a,b.substr(a,1)===","?(n=",",a+=1):(n=null,m&&e('","')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=W(),s!==null?n=[n,o,s]:(n=null,a=h)):(n=null,a=h)}else n=null,a=h;g!==null?f=[f,k,g]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b){var c=[];c.push(a);for(var e=0;e<b.length;e++)for(var f=0;f<b[e].length;f++)typeof b[e][f]==
"object"&&b[e][f].token!=null&&c.push(b[e][f]);return c}(f[0],f[2]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[69] ObjectList");y[c]={nextPos:a,result:i};return i}function Ca(){var c="Verb@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=Ea();if(j===null){j=a;if(b.substr(a,1)==="a"){var i="a";a+=1}else i=null,m&&e('"a"');i=i!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;i===null&&(i=null,a=j);j=i!==null?i:null}(m=d)&&j===
null&&e("[71] Verb");y[c]={nextPos:a,result:j};return j}function qa(){var b="VerbPath@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=Ga(),i=i!==null?i:null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[75]");y[b]={nextPos:a,result:i};return i}function Ga(){var c="PathAlternative@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=Ba();if(i!==null){var f=[],k=a;if(b.substr(a,1)==="|"){var g="|";a+=1}else g=null,m&&e('"|"');if(g!==null){var h=Ba();h!==null?g=[g,h]:(g=null,a=
k)}else g=null,a=k;for(;g!==null;)f.push(g),k=a,b.substr(a,1)==="|"?(g="|",a+=1):(g=null,m&&e('"|"')),g!==null?(h=Ba(),h!==null?g=[g,h]:(g=null,a=k)):(g=null,a=k);f!==null?i=[i,f]:(i=null,a=j)}else i=null,a=j;(m=d)&&i===null&&e("[78] PathAlternative");y[c]={nextPos:a,result:i};return i}function Ba(){var c="PathSequence@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=Ya();if(i!==null){var f=[],k=a;if(b.substr(a,1)==="/"){var g="/";a+=1}else g=null,m&&e('"/"');if(g!==null){var h=Ya();
h!==null?g=[g,h]:(g=null,a=k)}else g=null,a=k;for(;g!==null;)f.push(g),k=a,b.substr(a,1)==="/"?(g="/",a+=1):(g=null,m&&e('"/"')),g!==null?(h=Ya(),h!==null?g=[g,h]:(g=null,a=k)):(g=null,a=k);f!==null?i=[i,f]:(i=null,a=j)}else i=null,a=j;(m=d)&&i===null&&e("[79] PathSequence");y[c]={nextPos:a,result:i};return i}function pb(){var b="PathElt@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=g();if(i!==null){var f=ka(),f=f!==null?f:"";f!==null?i=[i,f]:(i=null,a=d)}else i=null,a=d;(m=c)&&i===
null&&e("[88] PathElt");y[b]={nextPos:a,result:i};return i}function Ya(){var c="PathEltOrInverse@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=pb();if(j===null){j=a;if(b.substr(a,1)==="^"){var i="^";a+=1}else i=null,m&&e('"^"');if(i!==null){var f=pb();f!==null?i=[i,f]:(i=null,a=j)}else i=null,a=j;j=i!==null?i:null}(m=d)&&j===null&&e("[81] PathEltOrInverse");y[c]={nextPos:a,result:j};return j}function ka(){var c="PathMod@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(b.substr(a,
1)==="*"){var j="*";a+=1}else j=null,m&&e('"*"');if(j===null&&(b.substr(a,1)==="?"?(j="?",a+=1):(j=null,m&&e('"?"')),j===null&&(b.substr(a,1)==="+"?(j="+",a+=1):(j=null,m&&e('"+"')),j===null))){j=a;if(b.substr(a,1)==="{"){var i="{";a+=1}else i=null,m&&e('"{"');if(i!==null){var f=a,k=ra();if(k!==null){var g=a;if(b.substr(a,1)===","){var h=",";a+=1}else h=null,m&&e('","');if(h!==null){if(b.substr(a,1)==="}"){var n="}";a+=1}else n=null,m&&e('"}"');if(n===null){var n=a,o=ra();if(o!==null){if(b.substr(a,
1)==="}"){var s="}";a+=1}else s=null,m&&e('"}"');s!==null?o=[o,s]:(o=null,a=n)}else o=null,a=n;n=o!==null?o:null}n!==null?h=[h,n]:(h=null,a=g)}else h=null,a=g;h!==null?g=h:(b.substr(a,1)==="}"?(g="}",a+=1):(g=null,m&&e('"}"')),g=g!==null?g:null);g!==null?k=[k,g]:(k=null,a=f)}else k=null,a=f;k!==null?f=k:(f=a,b.substr(a,1)===","?(k=",",a+=1):(k=null,m&&e('","')),k!==null?(g=ra(),g!==null?(b.substr(a,1)==="}"?(h="}",a+=1):(h=null,m&&e('"}"')),h!==null?k=[k,g,h]:(k=null,a=f)):(k=null,a=f)):(k=null,a=
f),f=k!==null?k:null);f!==null?i=[i,f]:(i=null,a=j)}else i=null,a=j;j=i!==null?i:null}(m=d)&&j===null&&e("[82] PathMod");y[c]={nextPos:a,result:j};return j}function g(){var c="PathPrimary@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();if(j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,m&&e('"a"')),j===null)){j=a;if(b.substr(a,1)==="!"){var i="!";a+=1}else i=null,m&&e('"!"');if(i!==null){var f=q();f!==null?i=[i,f]:(i=null,a=j)}else i=null,a=j;if(i!==null)j=i;else{j=a;b.substr(a,
1)==="("?(i="(",a+=1):(i=null,m&&e('"("'));if(i!==null)if(f=Ga(),f!==null){if(b.substr(a,1)===")"){var k=")";a+=1}else k=null,m&&e('")"');k!==null?i=[i,f,k]:(i=null,a=j)}else i=null,a=j;else i=null,a=j;j=i!==null?i:null}}(m=d)&&j===null&&e("[83] PathPrimary");y[c]={nextPos:a,result:j};return j}function q(){var c="PathNegatedPropertySet@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=ja();if(d===null){d=a;if(b.substr(a,1)==="("){var j="(";a+=1}else j=null,m&&e('"("');if(j!==null){var i=a,f=ja();if(f!==
null){var k=[],g=a;if(b.substr(a,1)==="|"){var h="|";a+=1}else h=null,m&&e('"|"');if(h!==null){var n=ja();n!==null?h=[h,n]:(h=null,a=g)}else h=null,a=g;for(;h!==null;)k.push(h),g=a,b.substr(a,1)==="|"?(h="|",a+=1):(h=null,m&&e('"|"')),h!==null?(n=ja(),n!==null?h=[h,n]:(h=null,a=g)):(h=null,a=g);k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?f:"";i!==null?(b.substr(a,1)===")"?(f=")",a+=1):(f=null,m&&e('")"')),f!==null?j=[j,i,f]:(j=null,a=d)):(j=null,a=d)}else j=null,a=d;d=j!==null?j:null}y[c]=
{nextPos:a,result:d};return d}function ja(){var c="PathOneInPropertySet@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=U();if(j===null&&(b.substr(a,1)==="a"?(j="a",a+=1):(j=null,m&&e('"a"')),j===null)){j=a;if(b.substr(a,1)==="^"){var i="^";a+=1}else i=null,m&&e('"^"');if(i!==null){var f=U();f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,m&&e('"a"')),f=f!==null?f:null);f!==null?i=[i,f]:(i=null,a=j)}else i=null,a=j;j=i!==null?i:null}(m=d)&&j===null&&e("[85] PathOneInPropertySet");y[c]=
{nextPos:a,result:j};return j}function Fa(){var b="TriplesNode@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=aa(),i=i!==null?function(a){triplesContext=[];chainSubject=[];for(var b=null,c=0;c<a.length;c++)sa++,b=null,a[c].chainSubject==null&&a[c].triplesContext==null?b=a[c]:(b=a[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),b={subject:{token:"blank",label:"_:"+sa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
object:b},c==0&&chainSubject.push(b.subject),triplesContext.push(b),b=c===a.length-1?{subject:{token:"blank",label:"_:"+sa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+sa},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+
(sa+1)}},triplesContext.push(b);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(i):null;i===null&&(i=null,a=d);i!==null?d=i:(d=z(),d=d!==null?d:null);(m=c)&&d===null&&e("[87] TriplesNode");y[b]={nextPos:a,result:d};return d}function z(){var c="BlankNodePropertyList@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="["?(k="[",a+=1):(k=null,m&&e('"["')),k!==null){for(var g=
[],h=t();h!==null;)g.push(h),h=t();if(g!==null)if(h=Aa(),h!==null){for(var n=[],o=t();o!==null;)n.push(o),o=t();if(n!==null)if(b.substr(a,1)==="]"?(o="]",a+=1):(o=null,m&&e('"]"')),o!==null){for(var s=[],q=t();q!==null;)s.push(q),q=t();s!==null?f=[f,k,g,h,n,o,s]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?function(a){sa++;for(var b={token:"blank",label:""+sa},c=[],e=0;e<a.pairs.length;e++){var f=a.pairs[e],d={};d.subject=
b;d.predicate=f[0];d.object=f[1];c.push(d)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}}(f[3]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[88] BlankNodePropertyList");y[c]={nextPos:a,result:i};return i}function aa(){var c="Collection@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;for(var j=a,i=a,f=[],k=t();k!==null;)f.push(k),k=t();if(f!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){for(var g=
[],h=t();h!==null;)g.push(h),h=t();if(g!==null){var n=W();if(n!==null)for(h=[];n!==null;)h.push(n),n=W();else h=null;if(h!==null){for(var n=[],o=t();o!==null;)n.push(o),o=t();if(n!==null)if(b.substr(a,1)===")"?(o=")",a+=1):(o=null,m&&e('")"')),o!==null){for(var s=[],q=t();q!==null;)s.push(q),q=t();s!==null?f=[f,k,g,h,n,o,s]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i;i=f!==null?f[3]:null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[89] Collection");
y[c]={nextPos:a,result:i};return i}function W(){var b="GraphNode@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;for(var d=a,i=a,f=[],j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=Fb(),j!==null){for(var k=[],g=t();g!==null;)k.push(g),g=t();k!==null?f=[f,j,k]:(f=null,a=i)}else f=null,a=i;else f=null,a=i;if(f!==null)i=f;else{i=a;f=[];for(j=t();j!==null;)f.push(j),j=t();if(f!==null)if(j=Fa(),j!==null){k=[];for(g=t();g!==null;)k.push(g),g=t();k!==null?f=[f,j,k]:(f=null,a=i)}else f=null,a=i;else f=
null,a=i;i=f!==null?f:null}i=i!==null?i[1]:null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[90] GraphNode");y[b]={nextPos:a,result:i};return i}function Fb(){var b="VarOrTerm@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=A();d===null&&(d=Lb(),d=d!==null?d:null);(m=c)&&d===null&&e("[91] VarOrTerm");y[b]={nextPos:a,result:d};return d}function Ea(){var b="VarOrIRIref@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=A();d===null&&(d=U(),d=d!==null?d:null);(m=c)&&d===null&&e("[92] VarOrIRIref");
y[b]={nextPos:a,result:d};return d}function A(){var b="Var@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=Tb();i===null&&(i=Ub(),i=i!==null?i:null);i=i!==null?function(a){var b={token:"var"};b.value=a;return b}(i):null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[93] Var");y[b]={nextPos:a,result:i};return i}function Lb(){var b="GraphTerm@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=U();d===null&&(d=xb(),d===null&&(d=yb(),d===null&&(d=zb(),d===null&&(d=Vb(),d===null&&(d=
Ka(),d=d!==null?d:null)))));(m=c)&&d===null&&e("[94] GraphTerm");y[b]={nextPos:a,result:d};return d}function N(){var c="ConditionalOrExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=V();if(f!==null){for(var k=[],g=a,h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="||"?(n="||",a+=2):(n=null,m&&e('"||"')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();o!==null?(s=V(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,
a=g;for(;h!==null;){k.push(h);g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="||"?(n="||",a+=2):(n=null,m&&e('"||"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=V(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g}k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionalor"},e=[a],f=0;f<b.length;f++)e.push(b[f][3]);c.operands=
e;return c}(f[0],f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[96] ConditionalOrExpression");y[c]={nextPos:a,result:i};return i}function V(){var c="ConditionalAndExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=ub();if(f!==null){for(var k=[],g=a,h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="&&"?(n="&&",a+=2):(n=null,m&&e('"&&"')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();o!==null?(s=ub(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=
null,a=g)}else h=null,a=g;else h=null,a=g;for(;h!==null;){k.push(h);g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="&&"?(n="&&",a+=2):(n=null,m&&e('"&&"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=ub(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g}k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionaland"},e=[a],f=0;f<
b.length;f++)e.push(b[f][3]);c.operands=e;return c}(f[0],f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[97] ConditionalAndExpression");y[c]={nextPos:a,result:i};return i}function ub(){var c="RelationalExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=Y();if(f!==null){for(var k=[],g=a,h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="="?(n="=",a+=1):(n=null,m&&e('"="')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==
null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="!="?(n="!=",a+=2):(n=null,m&&e('"!="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="<"?(n="<",a+=1):(n=null,m&&e('"<"')),n!==null){o=
[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)===">"?(n=">",a+=1):(n=null,m&&e('">"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,
2)==="<="?(n="<=",a+=2):(n=null,m&&e('"<="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)===">="?(n=">=",a+=2):(n=null,m&&e('">="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;g=h!==null?h:null}}}}}for(;g!==
null;){k.push(g);g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="="?(n="=",a+=1):(n=null,m&&e('"="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="!="?(n="!=",a+=2):(n=null,m&&e('"!="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,
s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="<"?(n="<",a+=1):(n=null,m&&e('"<"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)===">"?(n=">",a+=1):(n=null,m&&e('">"')),n!==null){o=[];for(s=t();s!==
null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)==="<="?(n="<=",a+=2):(n=null,m&&e('"<="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,2)===">="?
(n=">=",a+=2):(n=null,m&&e('">="')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=Y(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;g=h!==null?h:null}}}}}}k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b.length===0)return a;else{var c={expressionType:"relationalexpression"};c.operator=b[0][1];c.op1=a;c.op2=b[0][3];c.token="expression";return c}}(f[0],f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[99] RelationalExpression");
y[c]={nextPos:a,result:i};return i}function Y(){var c="AdditiveExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a,f=La();if(f!==null){for(var k=[],h=a,g=[],n=t();n!==null;)g.push(n),n=t();if(g!==null)if(b.substr(a,1)==="+"?(n="+",a+=1):(n=null,m&&e('"+"')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();o!==null?(s=La(),s!==null?g=[g,n,o,s]:(g=null,a=h)):(g=null,a=h)}else g=null,a=h;else g=null,a=h;if(g!==null)h=g;else{h=a;g=[];for(n=t();n!==null;)g.push(n),n=t();if(g!==
null)if(b.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&e('"-"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=La(),s!==null?g=[g,n,o,s]:(g=null,a=h)):(g=null,a=h)}else g=null,a=h;else g=null,a=h;if(g!==null)h=g;else{h=a;g=Na();g===null&&(g=Na(),g=g!==null?g:null);if(g!==null){n=a;o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="*"?(s="*",a+=1):(s=null,m&&e('"*"')),s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();q!==null?(r=ma(),r!==null?o=[o,s,q,r]:(o=
null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;if(o!==null)n=o;else{n=a;o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="/"?(s="/",a+=1):(s=null,m&&e('"/"')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();q!==null?(r=ma(),r!==null?o=[o,s,q,r]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;n=o!==null?o:null}n=n!==null?n:"";n!==null?g=[g,n]:(g=null,a=h)}else g=null,a=h;h=g!==null?g:null}}for(;h!==null;){k.push(h);h=a;g=[];for(n=t();n!==null;)g.push(n),
n=t();if(g!==null)if(b.substr(a,1)==="+"?(n="+",a+=1):(n=null,m&&e('"+"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=La(),s!==null?g=[g,n,o,s]:(g=null,a=h)):(g=null,a=h)}else g=null,a=h;else g=null,a=h;if(g!==null)h=g;else{h=a;g=[];for(n=t();n!==null;)g.push(n),n=t();if(g!==null)if(b.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&e('"-"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=La(),s!==null?g=[g,n,o,s]:(g=null,a=h)):(g=null,a=h)}else g=null,a=h;else g=null,
a=h;if(g!==null)h=g;else{h=a;g=Na();g===null&&(g=Na(),g=g!==null?g:null);if(g!==null){n=a;o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="*"?(s="*",a+=1):(s=null,m&&e('"*"')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();q!==null?(r=ma(),r!==null?o=[o,s,q,r]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;if(o!==null)n=o;else{n=a;o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="/"?(s="/",a+=1):(s=null,m&&e('"/"')),s!==null){q=[];for(r=
t();r!==null;)q.push(r),r=t();q!==null?(r=ma(),r!==null?o=[o,s,q,r]:(o=null,a=n)):(o=null,a=n)}else o=null,a=n;else o=null,a=n;n=o!==null?o:null}n=n!==null?n:"";n!==null?g=[g,n]:(g=null,a=h)}else g=null,a=h;h=g!==null?g:null}}}k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b.length===0)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var e=0;e<b.length;e++){var f=b[e],d={};if(f.length==4&&typeof f[1]==="string")d.operator=
f[1],d.expression=f[3];else{var f={},i=d[0],j=d[1][1],k=d[1][3],j=null;i.value<0?(d.operator="-",i.value=-i.value):d.operator="+";f.token="expression";f.expressionType="multiplicativeexpression";f.operator=i;f.factors=[{operator:j,expression:k}];d.expression=f}c.summands.push(d)}return c}(f[0],f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[101] AdditiveExpression");y[c]={nextPos:a,result:i};return i}function La(){var c="MultiplicativeExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;
d=m;m=!1;var j=a,i=a,f=ma();if(f!==null){for(var k=[],g=a,h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="*"?(n="*",a+=1):(n=null,m&&e('"*"')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();o!==null?(s=ma(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="/"?(n="/",a+=1):(n=null,m&&e('"/"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();
o!==null?(s=ma(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;g=h!==null?h:null}for(;g!==null;){k.push(g);g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="*"?(n="*",a+=1):(n=null,m&&e('"*"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=ma(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;if(h!==null)g=h;else{g=a;h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="/"?
(n="/",a+=1):(n=null,m&&e('"/"')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(s=ma(),s!==null?h=[h,n,o,s]:(h=null,a=g)):(h=null,a=g)}else h=null,a=g;else h=null,a=g;g=h!==null?h:null}}k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b.length===0)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var e=0;e<b.length;e++){var f=b[e],d={};d.operator=f[1];d.expression=f[3];c.factors.push(d)}return c}(f[0],
f[1]):null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[102] MultiplicativeExpression");y[c]={nextPos:a,result:i};return i}function ma(){var c="UnaryExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a;if(b.substr(a,1)==="!"){var f="!";a+=1}else f=null,m&&e('"!"');if(f!==null){for(var k=[],g=t();g!==null;)k.push(g),g=t();k!==null?(g=$a(),g!==null?f=[f,k,g]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",
unaryexpression:"!"};b.expression=a;return b}(f[2]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,1)==="+"?(f="+",a+=1):(f=null,m&&e('"+"'));if(f!==null){k=[];for(g=t();g!==null;)k.push(g),g=t();k!==null?(g=$a(),g!==null?f=[f,k,g]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b}(f[2]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,1)==="-"?
(f="-",a+=1):(f=null,m&&e('"-"'));if(f!==null){k=[];for(g=t();g!==null;)k.push(g),g=t();k!==null?(g=$a(),g!==null?f=[f,k,g]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b}(f[2]):null;i===null&&(i=null,a=j);i!==null?j=i:(j=$a(),j=j!==null?j:null)}}(m=d)&&j===null&&e("[103] UnaryExpression");y[c]={nextPos:a,result:j};return j}function $a(){var b="PrimaryExpression@"+a,c=y[b];if(c)return a=
c.nextPos,c.result;c=m;m=!1;var d=vb();if(d===null&&(d=wb(),d===null&&(d=Ob(),d===null))){var d=a,i=xb(),i=i!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b}(i):null;i===null&&(i=null,a=d);i!==null?d=i:(d=a,i=yb(),i=i!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b}(i):null,i===null&&(i=null,a=d),i!==null?d=i:(d=a,i=zb(),i=i!==null?function(a){var b={token:"expression",
expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b}(i):null,i===null&&(i=null,a=d),i!==null?d=i:(d=Nb(),d===null&&(d=a,i=A(),i=i!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b}(i):null,i===null&&(i=null,a=d),d=i!==null?i:null))))}(m=c)&&d===null&&e("[104] PrimaryExpression");y[b]={nextPos:a,result:d};return d}function vb(){var c="BrackettedExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=
a,i=a;if(b.substr(a,1)==="("){var f="(";a+=1}else f=null,m&&e('"("');if(f!==null){for(var g=[],k=t();k!==null;)g.push(k),k=t();if(g!==null)if(k=N(),k!==null){for(var h=[],n=t();n!==null;)h.push(n),n=t();h!==null?(b.substr(a,1)===")"?(n=")",a+=1):(n=null,m&&e('")"')),n!==null?f=[f,g,k,h,n]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?f[2]:null;i===null&&(i=null,a=j);(m=d)&&i===null&&e("[105] BrackettedExpression");y[c]={nextPos:a,result:i};return i}function wb(){var c=
"BuiltInCall@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var j=a,i=a;if(b.substr(a,1)==="S"){var f="S";a+=1}else f=null,m&&e('"S"');f===null&&(b.substr(a,1)==="s"?(f="s",a+=1):(f=null,m&&e('"s"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,m&&e('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,m&&e('"t"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var k="R";a+=1}else k=null,m&&e('"R"');k===null&&(b.substr(a,1)==="r"?(k="r",a+=
1):(k=null,m&&e('"r"')),k=k!==null?k:null);if(k!==null){for(var h=[],n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&e('"("')),n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();if(o!==null)if(s=N(),s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();q!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,m&&e('")"')),r!==null?f=[f,g,k,h,n,o,s,q,r]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=
i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b}(f[6]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,1)==="L"?(f="L",a+=1):(f=null,m&&e('"L"'));f===null&&(b.substr(a,1)==="l"?(f="l",a+=1):(f=null,m&&e('"l"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="A"?(g="A",a+=1):(g=null,m&&e('"A"')),g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&e('"a"')),g=g!==null?g:null),
g!==null)if(b.substr(a,1)==="N"?(k="N",a+=1):(k=null,m&&e('"N"')),k===null&&(b.substr(a,1)==="n"?(k="n",a+=1):(k=null,m&&e('"n"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="G"?(h="G",a+=1):(h=null,m&&e('"G"')),h===null&&(b.substr(a,1)==="g"?(h="g",a+=1):(h=null,m&&e('"g"')),h=h!==null?h:null),h!==null){n=[];for(o=t();o!==null;)n.push(o),o=t();if(n!==null)if(b.substr(a,1)==="("?(o="(",a+=1):(o=null,m&&e('"("')),o!==null){s=[];for(q=t();q!==null;)s.push(q),q=t();if(s!==null)if(q=N(),q!==null){for(var r=
[],u=t();u!==null;)r.push(u),u=t();r!==null?(b.substr(a,1)===")"?(u=")",a+=1):(u=null,m&&e('")"')),u!==null?f=[f,g,k,h,n,o,s,q,r,u]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b}(f[7]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,11)==="LANGMATCHES"?(f=
"LANGMATCHES",a+=11):(f=null,m&&e('"LANGMATCHES"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)===","?(s=",",a+=1):(s=null,m&&e('","')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){for(var u=[],v=t();v!==null;)u.push(v),v=t();u!==null?
(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null?f=[f,g,k,h,n,o,s,q,r,u,v]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c}(f[4],f[8]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,1)==="D"?(f="D",a+=1):(f=null,m&&
e('"D"'));f===null&&(b.substr(a,1)==="d"?(f="d",a+=1):(f=null,m&&e('"d"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="A"?(g="A",a+=1):(g=null,m&&e('"A"')),g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&e('"a"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="T"?(k="T",a+=1):(k=null,m&&e('"T"')),k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,m&&e('"t"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="A"?(h="A",a+=1):(h=null,m&&e('"A"')),h===null&&(b.substr(a,1)==="a"?(h="a",
a+=1):(h=null,m&&e('"a"')),h=h!==null?h:null),h!==null)if(b.substr(a,1)==="T"?(n="T",a+=1):(n=null,m&&e('"T"')),n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&e('"t"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="Y"?(o="Y",a+=1):(o=null,m&&e('"Y"')),o===null&&(b.substr(a,1)==="y"?(o="y",a+=1):(o=null,m&&e('"y"')),o=o!==null?o:null),o!==null)if(b.substr(a,1)==="P"?(s="P",a+=1):(s=null,m&&e('"P"')),s===null&&(b.substr(a,1)==="p"?(s="p",a+=1):(s=null,m&&e('"p"')),s=s!==null?s:null),s!==null)if(b.substr(a,
1)==="E"?(q="E",a+=1):(q=null,m&&e('"E"')),q===null&&(b.substr(a,1)==="e"?(q="e",a+=1):(q=null,m&&e('"e"')),q=q!==null?q:null),q!==null){r=[];for(u=t();u!==null;)r.push(u),u=t();if(r!==null)if(b.substr(a,1)==="("?(u="(",a+=1):(u=null,m&&e('"("')),u!==null){for(var v=[],w=t();w!==null;)v.push(w),w=t();if(v!==null)if(w=N(),w!==null){for(var z=[],B=t();B!==null;)z.push(B),B=t();z!==null?(b.substr(a,1)===")"?(B=")",a+=1):(B=null,m&&e('")"')),B!==null?f=[f,g,k,h,n,o,s,q,r,u,v,w,z,B]:(f=null,a=i)):(f=null,
a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b}(f[11]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,5)==="BOUND"?(f="BOUND",a+=5):(f=null,m&&e('"BOUND"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();
if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=A(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&e('")"')),s!==null?f=[f,g,k,h,n,o,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b}(f[4]):
null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,3)==="IRI"?(f="IRI",a+=3):(f=null,m&&e('"IRI"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&e('")"')),s!==null?f=[f,g,k,h,n,o,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=
null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b}(f[4]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,3)==="URI"?(f="URI",a+=3):(f=null,m&&e('"URI"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=
[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&e('")"')),s!==null?f=[f,g,k,h,n,o,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b}(f[4]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,5)==="BNODE"?(f="BNODE",a+=5):(f=null,m&&e('"BNODE"'));if(f!==null){g=[];for(k=
t();k!==null;)g.push(k),k=t();if(g!==null){k=a;b.substr(a,1)==="("?(h="(",a+=1):(h=null,m&&e('"("'));if(h!==null){n=[];for(o=t();o!==null;)n.push(o),o=t();if(n!==null)if(o=N(),o!==null){s=[];for(q=t();q!==null;)s.push(q),q=t();s!==null?(b.substr(a,1)===")"?(q=")",a+=1):(q=null,m&&e('")"')),q!==null?h=[h,n,o,s,q]:(h=null,a=k)):(h=null,a=k)}else h=null,a=k;else h=null,a=k}else h=null,a=k;h!==null?k=h:(k=Ka(),k=k!==null?k:null);k!==null?f=[f,g,k]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?
function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=a.length===5?[a[2]]:null;return b}(f[2]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,8)==="COALESCE"?(f="COALESCE",a+=8):(f=null,m&&e('"COALESCE"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();g!==null?(k=ha(),k!==null?f=[f,g,k]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};
b.args=a;return b}(f[2]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,2)==="IF"?(f="IF",a+=2):(f=null,m&&e('"IF"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)===","?(s=",",a+=1):(s=null,m&&e('","')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();
if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)===","?(v=",",a+=1):(v=null,m&&e('","')),v!==null){w=[];for(z=t();z!==null;)w.push(z),z=t();if(w!==null)if(z=N(),z!==null){for(var B=[],D=t();D!==null;)B.push(D),D=t();B!==null?(b.substr(a,1)===")"?(D=")",a+=1):(D=null,m&&e('")"')),D!==null?f=[f,g,k,h,n,o,s,q,r,u,v,w,z,B,D]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=
null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b,c){var e={token:"expression",expressionType:"builtincall",builtincall:"if"};e.args=[a,b,c];return e}(f[4],f[8],f[12]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,9)==="ISLITERAL"?(f="ISLITERAL",a+=9):(f=null,m&&e('"ISLITERAL"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),
k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&e('")"')),s!==null?f=[f,g,k,h,n,o,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b}(f[4]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=
j=a;b.substr(a,7)==="ISBLANK"?(f="ISBLANK",a+=7):(f=null,m&&e('"ISBLANK"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();o!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,m&&e('")"')),s!==null?f=[f,g,k,h,n,o,s]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=
i}else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b}(f[4]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,8)==="SAMETERM"?(f="SAMETERM",a+=8):(f=null,m&&e('"SAMETERM"'));if(f!==null){g=[];for(k=t();k!==null;)g.push(k),k=t();if(g!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,m&&e('"("')),k!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(n=N(),n!==null){o=[];for(s=t();s!==null;)o.push(s),
s=t();if(o!==null)if(b.substr(a,1)===","?(s=",",a+=1):(s=null,m&&e('","')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();u!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null?f=[f,g,k,h,n,o,s,q,r,u,v]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b){var c={token:"expression",
expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c}(f[4],f[8]):null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,1)==="I"?(f="I",a+=1):(f=null,m&&e('"I"'));f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,m&&e('"i"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="S"?(g="S",a+=1):(g=null,m&&e('"S"')),g===null&&(b.substr(a,1)==="s"?(g="s",a+=1):(g=null,m&&e('"s"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="U"?(k="U",a+=1):(k=null,m&&e('"U"')),k===
null&&(b.substr(a,1)==="u"?(k="u",a+=1):(k=null,m&&e('"u"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="R"?(h="R",a+=1):(h=null,m&&e('"R"')),h===null&&(b.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&e('"r"')),h=h!==null?h:null),h!==null)if(b.substr(a,1)==="I"?(n="I",a+=1):(n=null,m&&e('"I"')),n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&e('"i"')),n=n!==null?n:null),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&e('"("')),s!==
null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();u!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null?f=[f,g,k,h,n,o,s,q,r,u,v]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(f[8]):
null;i===null&&(i=null,a=j);if(i!==null)j=i;else{i=j=a;b.substr(a,1)==="I"?(f="I",a+=1):(f=null,m&&e('"I"'));f===null&&(b.substr(a,1)==="i"?(f="i",a+=1):(f=null,m&&e('"i"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="S"?(g="S",a+=1):(g=null,m&&e('"S"')),g===null&&(b.substr(a,1)==="s"?(g="s",a+=1):(g=null,m&&e('"s"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="I"?(k="I",a+=1):(k=null,m&&e('"I"')),k===null&&(b.substr(a,1)==="i"?(k="i",a+=1):(k=null,m&&e('"i"')),k=k!==null?k:null),k!==null)if(b.substr(a,
1)==="R"?(h="R",a+=1):(h=null,m&&e('"R"')),h===null&&(b.substr(a,1)==="r"?(h="r",a+=1):(h=null,m&&e('"r"')),h=h!==null?h:null),h!==null)if(b.substr(a,1)==="I"?(n="I",a+=1):(n=null,m&&e('"I"')),n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,m&&e('"i"')),n=n!==null?n:null),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&e('"("')),s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),
v=t();u!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null?f=[f,g,k,h,n,o,s,q,r,u,v]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(f[8]):null;i===null&&(i=null,a=j);i!==null?j=i:(j=Mb(),j=j!==null?j:null)}}}}}}}}}}}}}}(m=d)&&j===null&&e("[106] BuiltInCall");
y[c]={nextPos:a,result:j};return j}function Mb(){var c="RegexExpression@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="R"){var f="R";a+=1}else f=null,m&&e('"R"');f===null&&(b.substr(a,1)==="r"?(f="r",a+=1):(f=null,m&&e('"r"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,m&&e('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,m&&e('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="G"){var j="G";a+=1}else j=
null,m&&e('"G"');j===null&&(b.substr(a,1)==="g"?(j="g",a+=1):(j=null,m&&e('"g"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,m&&e('"E"');h===null&&(b.substr(a,1)==="e"?(h="e",a+=1):(h=null,m&&e('"e"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,1)==="X"){var n="X";a+=1}else n=null,m&&e('"X"');n===null&&(b.substr(a,1)==="x"?(n="x",a+=1):(n=null,m&&e('"x"')),n=n!==null?n:null);if(n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,
1)==="("?(s="(",a+=1):(s=null,m&&e('"("')),s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){for(var u=[],v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)===","?(v=",",a+=1):(v=null,m&&e('","')),v!==null){for(var w=[],z=t();z!==null;)w.push(z),z=t();if(w!==null)if(z=N(),z!==null){for(var A=[],B=t();B!==null;)A.push(B),B=t();if(A!==null){B=a;if(b.substr(a,1)===","){var D=",";a+=1}else D=null,m&&e('","');if(D!==null){for(var F=[],Q=t();Q!==null;)F.push(Q),
Q=t();F!==null?(Q=N(),Q!==null?D=[D,F,Q]:(D=null,a=B)):(D=null,a=B)}else D=null,a=B;B=D!==null?D:"";if(B!==null){D=[];for(F=t();F!==null;)D.push(F),F=t();D!==null?(b.substr(a,1)===")"?(F=")",a+=1):(F=null,m&&e('")"')),F!==null?f=[f,g,j,h,n,o,s,q,r,u,v,w,z,A,B,D,F]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=
null,a=i}else f=null,a=i;i=f!==null?function(a,b,c){var e={token:"expression",expressionType:"regex"};e.text=a;e.pattern=b;e.flags=c[2];return e}(f[8],f[12],f[14]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[107] RegexExpression");y[c]={nextPos:a,result:i};return i}function Nb(){var c="Aggregate@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="C"){var f="C";a+=1}else f=null,m&&e('"C"');f===null&&(b.substr(a,1)==="c"?(f="c",a+=1):(f=null,m&&e('"c"')),f=f!==
null?f:null);if(f!==null){if(b.substr(a,1)==="O"){var g="O";a+=1}else g=null,m&&e('"O"');g===null&&(b.substr(a,1)==="o"?(g="o",a+=1):(g=null,m&&e('"o"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="U"){var j="U";a+=1}else j=null,m&&e('"U"');j===null&&(b.substr(a,1)==="u"?(j="u",a+=1):(j=null,m&&e('"u"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="N"){var h="N";a+=1}else h=null,m&&e('"N"');h===null&&(b.substr(a,1)==="n"?(h="n",a+=1):(h=null,m&&e('"n"')),h=h!==null?h:null);if(h!==null){if(b.substr(a,
1)==="T"){var n="T";a+=1}else n=null,m&&e('"T"');n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,m&&e('"t"')),n=n!==null?n:null);if(n!==null){for(var o=[],s=t();s!==null;)o.push(s),s=t();if(o!==null)if(b.substr(a,1)==="("?(s="(",a+=1):(s=null,m&&e('"("')),s!==null){for(var q=[],r=t();r!==null;)q.push(r),r=t();if(q!==null){r=a;if(b.substr(a,1)==="D"){var u="D";a+=1}else u=null,m&&e('"D"');u===null&&(b.substr(a,1)==="d"?(u="d",a+=1):(u=null,m&&e('"d"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,
1)==="I"){var v="I";a+=1}else v=null,m&&e('"I"');v===null&&(b.substr(a,1)==="i"?(v="i",a+=1):(v=null,m&&e('"i"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="S"){var w="S";a+=1}else w=null,m&&e('"S"');w===null&&(b.substr(a,1)==="s"?(w="s",a+=1):(w=null,m&&e('"s"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var z="T";a+=1}else z=null,m&&e('"T"');z===null&&(b.substr(a,1)==="t"?(z="t",a+=1):(z=null,m&&e('"t"')),z=z!==null?z:null);if(z!==null){if(b.substr(a,1)==="I"){var A="I";a+=
1}else A=null,m&&e('"I"');A===null&&(b.substr(a,1)==="i"?(A="i",a+=1):(A=null,m&&e('"i"')),A=A!==null?A:null);if(A!==null){if(b.substr(a,1)==="N"){var B="N";a+=1}else B=null,m&&e('"N"');B===null&&(b.substr(a,1)==="n"?(B="n",a+=1):(B=null,m&&e('"n"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="C"){var D="C";a+=1}else D=null,m&&e('"C"');D===null&&(b.substr(a,1)==="c"?(D="c",a+=1):(D=null,m&&e('"c"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="T"){var F="T";a+=1}else F=null,m&&e('"T"');
F===null&&(b.substr(a,1)==="t"?(F="t",a+=1):(F=null,m&&e('"t"')),F=F!==null?F:null);F!==null?u=[u,v,w,z,A,B,D,F]:(u=null,a=r)}else u=null,a=r}else u=null,a=r}else u=null,a=r}else u=null,a=r}else u=null,a=r}else u=null,a=r}else u=null,a=r;r=u!==null?u:"";if(r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)==="*"?(v="*",a+=1):(v=null,m&&e('"*"')),v===null&&(v=N(),v=v!==null?v:null),v!==null){w=[];for(z=t();z!==null;)w.push(z),z=t();if(w!==null)if(b.substr(a,1)===")"?(z=
")",a+=1):(z=null,m&&e('")"')),z!==null){A=[];for(B=t();B!==null;)A.push(B),B=t();A!==null?f=[f,g,j,h,n,o,s,q,r,u,v,w,z,A]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(f[8],
f[10]):null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,1)==="S"?(f="S",a+=1):(f=null,m&&e('"S"'));f===null&&(b.substr(a,1)==="s"?(f="s",a+=1):(f=null,m&&e('"s"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="U"?(g="U",a+=1):(g=null,m&&e('"U"')),g===null&&(b.substr(a,1)==="u"?(g="u",a+=1):(g=null,m&&e('"u"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="M"?(j="M",a+=1):(j=null,m&&e('"M"')),j===null&&(b.substr(a,1)==="m"?(j="m",a+=1):(j=null,m&&e('"m"')),j=j!==null?j:null),
j!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&e('"("')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(s=a,b.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&e('"D"')),q===null&&(b.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&e('"d"')),q=q!==null?q:null),q!==null?(b.substr(a,1)==="I"?(r="I",a+=1):(r=null,m&&e('"I"')),r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,m&&e('"i"')),r=r!==null?r:null),r!==null?(b.substr(a,1)===
"S"?(u="S",a+=1):(u=null,m&&e('"S"')),u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&e('"s"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="T"?(v="T",a+=1):(v=null,m&&e('"T"')),v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=null,m&&e('"t"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,m&&e('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,m&&e('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="N"?(z="N",a+=1):(z=null,m&&e('"N"')),z===null&&(b.substr(a,
1)==="n"?(z="n",a+=1):(z=null,m&&e('"n"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,m&&e('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,m&&e('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,m&&e('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,m&&e('"t"')),B=B!==null?B:null),B!==null?q=[q,r,u,v,w,z,A,B]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==
null?q:"",s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null){w=[];for(z=t();z!==null;)w.push(z),z=t();w!==null?f=[f,g,j,h,n,o,s,q,r,u,v,w]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a,
b){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(f[6],f[8]):null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,1)==="M"?(f="M",a+=1):(f=null,m&&e('"M"'));f===null&&(b.substr(a,1)==="m"?(f="m",a+=1):(f=null,m&&e('"m"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="I"?(g="I",a+=1):(g=null,m&&e('"I"')),g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,m&&e('"i"')),g=g!==null?g:null),g!==null)if(b.substr(a,
1)==="N"?(j="N",a+=1):(j=null,m&&e('"N"')),j===null&&(b.substr(a,1)==="n"?(j="n",a+=1):(j=null,m&&e('"n"')),j=j!==null?j:null),j!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&e('"("')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(s=a,b.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&e('"D"')),q===null&&(b.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&e('"d"')),q=q!==null?q:null),q!==null?(b.substr(a,1)==="I"?(r="I",a+=1):(r=
null,m&&e('"I"')),r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,m&&e('"i"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="S"?(u="S",a+=1):(u=null,m&&e('"S"')),u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&e('"s"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="T"?(v="T",a+=1):(v=null,m&&e('"T"')),v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=null,m&&e('"t"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,m&&e('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=
1):(w=null,m&&e('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="N"?(z="N",a+=1):(z=null,m&&e('"N"')),z===null&&(b.substr(a,1)==="n"?(z="n",a+=1):(z=null,m&&e('"n"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,m&&e('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,m&&e('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,m&&e('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,m&&e('"t"')),B=B!==null?B:null),B!==null?q=[q,
r,u,v,w,z,A,B]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null){w=[];for(z=t();z!==null;)w.push(z),z=t();w!==null?f=[f,g,j,h,n,o,s,q,r,u,v,w]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=
null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(f[6],f[8]):null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,1)==="M"?(f="M",a+=1):(f=null,m&&e('"M"'));f===null&&(b.substr(a,1)==="m"?(f="m",a+=1):(f=null,m&&e('"m"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="A"?
(g="A",a+=1):(g=null,m&&e('"A"')),g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,m&&e('"a"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="X"?(j="X",a+=1):(j=null,m&&e('"X"')),j===null&&(b.substr(a,1)==="x"?(j="x",a+=1):(j=null,m&&e('"x"')),j=j!==null?j:null),j!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,m&&e('"("')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(s=a,b.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&
e('"D"')),q===null&&(b.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&e('"d"')),q=q!==null?q:null),q!==null?(b.substr(a,1)==="I"?(r="I",a+=1):(r=null,m&&e('"I"')),r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,m&&e('"i"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="S"?(u="S",a+=1):(u=null,m&&e('"S"')),u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&e('"s"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="T"?(v="T",a+=1):(v=null,m&&e('"T"')),v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=
null,m&&e('"t"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,m&&e('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,m&&e('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="N"?(z="N",a+=1):(z=null,m&&e('"N"')),z===null&&(b.substr(a,1)==="n"?(z="n",a+=1):(z=null,m&&e('"n"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="C"?(A="C",a+=1):(A=null,m&&e('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,m&&e('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,
1)==="T"?(B="T",a+=1):(B=null,m&&e('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,m&&e('"t"')),B=B!==null?B:null),B!==null?q=[q,r,u,v,w,z,A,B]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=[];for(v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null){w=[];for(z=t();z!==
null;)w.push(z),z=t();w!==null?f=[f,g,j,h,n,o,s,q,r,u,v,w]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(f[6],f[8]):null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,1)==="A"?(f="A",a+=
1):(f=null,m&&e('"A"'));f===null&&(b.substr(a,1)==="a"?(f="a",a+=1):(f=null,m&&e('"a"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="V"?(g="V",a+=1):(g=null,m&&e('"V"')),g===null&&(b.substr(a,1)==="v"?(g="v",a+=1):(g=null,m&&e('"v"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="G"?(j="G",a+=1):(j=null,m&&e('"G"')),j===null&&(b.substr(a,1)==="g"?(j="g",a+=1):(j=null,m&&e('"g"')),j=j!==null?j:null),j!==null){h=[];for(n=t();n!==null;)h.push(n),n=t();if(h!==null)if(b.substr(a,1)==="("?(n="(",
a+=1):(n=null,m&&e('"("')),n!==null){o=[];for(s=t();s!==null;)o.push(s),s=t();if(o!==null)if(s=a,b.substr(a,1)==="D"?(q="D",a+=1):(q=null,m&&e('"D"')),q===null&&(b.substr(a,1)==="d"?(q="d",a+=1):(q=null,m&&e('"d"')),q=q!==null?q:null),q!==null?(b.substr(a,1)==="I"?(r="I",a+=1):(r=null,m&&e('"I"')),r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,m&&e('"i"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="S"?(u="S",a+=1):(u=null,m&&e('"S"')),u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,m&&
e('"s"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="T"?(v="T",a+=1):(v=null,m&&e('"T"')),v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=null,m&&e('"t"')),v=v!==null?v:null),v!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,m&&e('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,m&&e('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="N"?(z="N",a+=1):(z=null,m&&e('"N"')),z===null&&(b.substr(a,1)==="n"?(z="n",a+=1):(z=null,m&&e('"n"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="C"?
(A="C",a+=1):(A=null,m&&e('"C"')),A===null&&(b.substr(a,1)==="c"?(A="c",a+=1):(A=null,m&&e('"c"')),A=A!==null?A:null),A!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,m&&e('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,m&&e('"t"')),B=B!==null?B:null),B!==null?q=[q,r,u,v,w,z,A,B]:(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s)):(q=null,a=s),s=q!==null?q:"",s!==null){q=[];for(r=t();r!==null;)q.push(r),r=t();if(q!==null)if(r=N(),r!==null){u=
[];for(v=t();v!==null;)u.push(v),v=t();if(u!==null)if(b.substr(a,1)===")"?(v=")",a+=1):(v=null,m&&e('")"')),v!==null){w=[];for(z=t();z!==null;)w.push(z),z=t();w!==null?f=[f,g,j,h,n,o,s,q,r,u,v,w]:(f=null,a=i)}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i}else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?
"DISTINCT":a;exp.expression=b;return exp}(f[6],f[8]):null;i===null&&(i=null,a=k);k=i!==null?i:null}}}}(m=d)&&k===null&&e("[110] Aggregate");y[c]={nextPos:a,result:k};return k}function Ob(){var b="IRIrefOrFunction@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=U();if(f!==null){var k=Ua(),k=k!==null?k:"";k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(f[0],f[1]):
null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[117] IRIrefOrFunction");y[b]={nextPos:a,result:i};return i}function xb(){var c="RDFLiteral@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=Wb();if(f!==null){var g=Xb();if(g===null){g=a;if(b.substr(a,2)==="^^"){var j="^^";a+=2}else j=null,m&&e('"^^"');if(j!==null){var h=U();h!==null?j=[j,h]:(j=null,a=g)}else j=null,a=g;g=j!==null?j:null}g=g!==null?g:"";g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){return typeof b===
"string"&&b.length>0?{token:"literal",value:a.value,lang:b.slice(1),type:null}:typeof b==="object"?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}}(f[0],f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[112] RDFLiteral");y[c]={nextPos:a,result:i};return i}function yb(){var b="NumericLiteral@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Pb();d===null&&(d=Qb(),d===null&&(d=Na(),d=d!==null?d:null));(m=c)&&d===null&&
e("[113] NumericLiteral");y[b]={nextPos:a,result:d};return d}function Pb(){var b="NumericLiteralUnsigned@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Cb();d===null&&(d=Db(),d===null&&(d=ra(),d=d!==null?d:null));(m=c)&&d===null&&e("[114] NumericLiteralUnsigned");y[b]={nextPos:a,result:d};return d}function Qb(){var b="NumericLiteralPositive@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Yb();d===null&&(d=Zb(),d===null&&(d=$b(),d=d!==null?d:null));(m=c)&&d===null&&e("[115] NumericLiteralPositive");
y[b]={nextPos:a,result:d};return d}function Na(){var b="NumericLiteralNegative@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=ac();d===null&&(d=bc(),d===null&&(d=cc(),d=d!==null?d:null));(m=c)&&d===null&&e("[116] NumericLiteralNegative");y[b]={nextPos:a,result:d};return d}function zb(){var c="BooleanLiteral@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="T"){var f="T";a+=1}else f=null,m&&e('"T"');f===null&&(b.substr(a,1)==="t"?(f="t",a+=1):(f=null,
m&&e('"t"')),f=f!==null?f:null);if(f!==null){if(b.substr(a,1)==="R"){var g="R";a+=1}else g=null,m&&e('"R"');g===null&&(b.substr(a,1)==="r"?(g="r",a+=1):(g=null,m&&e('"r"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="U"){var j="U";a+=1}else j=null,m&&e('"U"');j===null&&(b.substr(a,1)==="u"?(j="u",a+=1):(j=null,m&&e('"u"')),j=j!==null?j:null);if(j!==null){if(b.substr(a,1)==="E"){var h="E";a+=1}else h=null,m&&e('"E"');h===null&&(b.substr(a,1)==="e"?(h="e",a+=1):(h=null,m&&e('"e"')),h=h!==null?
h:null);h!==null?f=[f,g,j,h]:(f=null,a=i)}else f=null,a=i}else f=null,a=i}else f=null,a=i;i=f!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,1)==="F"?(f="F",a+=1):(f=null,m&&e('"F"'));f===null&&(b.substr(a,1)==="f"?(f="f",a+=1):(f=null,m&&e('"f"')),f=f!==null?f:null);if(f!==null)if(b.substr(a,1)==="A"?(g="A",a+=1):(g=null,m&&e('"A"')),g===null&&(b.substr(a,1)==="a"?(g="a",a+=1):(g=null,
m&&e('"a"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="L"?(j="L",a+=1):(j=null,m&&e('"L"')),j===null&&(b.substr(a,1)==="l"?(j="l",a+=1):(j=null,m&&e('"l"')),j=j!==null?j:null),j!==null)if(b.substr(a,1)==="S"?(h="S",a+=1):(h=null,m&&e('"S"')),h===null&&(b.substr(a,1)==="s"?(h="s",a+=1):(h=null,m&&e('"s"')),h=h!==null?h:null),h!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,m&&e('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,m&&e('"e"')),n=n!==null?n:null);n!==null?f=[f,
g,j,h,n]:(f=null,a=i)}else f=null,a=i;else f=null,a=i;else f=null,a=i;else f=null,a=i;i=f!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;i===null&&(i=null,a=k);k=i!==null?i:null}(m=d)&&k===null&&e("[117] BooleanLiteral");y[c]={nextPos:a,result:k};return k}function Wb(){var b="String@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=dc(),i=i!==null?{token:"string",value:i}:null;i===null&&(i=null,a=d);i!==null?d=i:(d=a,i=ec(),i=i!==
null?{token:"string",value:i}:null,i===null&&(i=null,a=d),i!==null?d=i:(d=a,i=fc(),i=i!==null?{token:"string",value:i}:null,i===null&&(i=null,a=d),i!==null?d=i:(d=a,i=gc(),i=i!==null?{token:"string",value:i}:null,i===null&&(i=null,a=d),d=i!==null?i:null)));(m=c)&&d===null&&e("[118] String");y[b]={nextPos:a,result:d};return d}function U(){var b="IRIref@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=Ab(),i=i!==null?{token:"uri",prefix:null,suffix:null,value:i}:null;i===null&&(i=null,
a=d);i!==null?d=i:(d=a,i=hc(),i=i!==null?i:null,i===null&&(i=null,a=d),d=i!==null?i:null);(m=c)&&d===null&&e("[119] IRIref");y[b]={nextPos:a,result:d};return d}function hc(){var b="PrefixedName@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=ic(),i=i!==null?{token:"uri",prefix:i[0],suffix:i[1],value:null}:null;i===null&&(i=null,a=d);i!==null?d=i:(d=a,i=Bb(),i=i!==null?{token:"uri",prefix:i,suffix:"",value:null}:null,i===null&&(i=null,a=d),d=i!==null?i:null);(m=c)&&d===null&&e("[120] PrefixedName");
y[b]={nextPos:a,result:d};return d}function Vb(){var b="BlankNode@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=jc(),i=i!==null?{token:"blank",label:i}:null;i===null&&(i=null,a=d);i!==null?d=i:(d=a,kc()!==null?(sa++,i={token:"blank",label:""+sa}):i=null,i===null&&(i=null,a=d),d=i!==null?i:null);(m=c)&&d===null&&e("[121] BlankNode");y[b]={nextPos:a,result:d};return d}function Ab(){var c="IRI_REF@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a,1)==="<"){var f=
"<";a+=1}else f=null,m&&e('"<"');if(f!==null){var j=[];if(b.substr(a).match(/^[^<>"{} | ^\\]/)!==null){var k=b.charAt(a);a++}else k=null,m&&e('[^<>"{} | ^\\\\]');for(;k!==null;)j.push(k),b.substr(a).match(/^[^<>"{} | ^\\]/)!==null?(k=b.charAt(a),a++):(k=null,m&&e('[^<>"{} | ^\\\\]'));j!==null?(b.substr(a,1)===">"?(k=">",a+=1):(k=null,m&&e('">"')),k!==null?f=[f,j,k]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?f[1].join(""):null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[122] IRI_REF");y[c]=
{nextPos:a,result:i};return i}function Bb(){var c="PNAME_NS@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a,f=lc(),f=f!==null?f:"";if(f!==null){if(b.substr(a,1)===":"){var g=":";a+=1}else g=null,m&&e('":"');g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?f[0]:null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[123] PNAME_NS");y[c]={nextPos:a,result:i};return i}function ic(){var b="PNAME_LN@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=a,i=a,f=Bb();if(f!==null){var g=
Ib();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?[f[0],f[1]]:null;i===null&&(i=null,a=d);(m=c)&&i===null&&e("[124] PNAME_LN");y[b]={nextPos:a,result:i};return i}function jc(){var c="BLANK_NODE_LABEL@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a,2)==="_:"){var f="_:";a+=2}else f=null,m&&e('"_:"');if(f!==null){var k=Ib();k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?f[1]:null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[125] BLANK_NODE_LABEL");
y[c]={nextPos:a,result:i};return i}function Tb(){var c="VAR1@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a,1)==="?"){var f="?";a+=1}else f=null,m&&e('"?"');if(f!==null){var k=Jb();k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?f[1]:null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[126] VAR1");y[c]={nextPos:a,result:i};return i}function Ub(){var c="VAR2@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a,1)==="$"){var f="$";a+=1}else f=
null,m&&e('"$"');if(f!==null){var k=Jb();k!==null?f=[f,k]:(f=null,a=i)}else f=null,a=i;i=f!==null?f[1]:null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[127] VAR2");y[c]={nextPos:a,result:i};return i}function Xb(){var c="LANGTAG@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a,1)==="@"){var f="@";a+=1}else f=null,m&&e('"@"');if(f!==null){if(b.substr(a).match(/^[a-zA-Z]/)!==null){var k=b.charAt(a);a++}else k=null,m&&e("[a-zA-Z]");if(k!==null)for(var j=[];k!==null;)j.push(k),
b.substr(a).match(/^[a-zA-Z]/)!==null?(k=b.charAt(a),a++):(k=null,m&&e("[a-zA-Z]"));else j=null;if(j!==null){var k=[],h=a;if(b.substr(a,1)==="-"){var n="-";a+=1}else n=null,m&&e('"-"');if(n!==null){if(b.substr(a).match(/^[a-zA-Z0-9]/)!==null){var o=b.charAt(a);a++}else o=null,m&&e("[a-zA-Z0-9]");if(o!==null)for(var q=[];o!==null;)q.push(o),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=b.charAt(a),a++):(o=null,m&&e("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=h)}else n=null,a=h;for(;n!==null;)if(k.push(n),
h=a,b.substr(a,1)==="-"?(n="-",a+=1):(n=null,m&&e('"-"')),n!==null){b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=b.charAt(a),a++):(o=null,m&&e("[a-zA-Z0-9]"));if(o!==null)for(q=[];o!==null;)q.push(o),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(o=b.charAt(a),a++):(o=null,m&&e("[a-zA-Z0-9]"));else q=null;q!==null?n=[n,q]:(n=null,a=h)}else n=null,a=h;k!==null?f=[f,j,k]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?f[2].length===0?("@"+f[1].join("")).toLowerCase():("@"+f[1].join("")+"-"+f[2][0][1].join("")).toLowerCase():
null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[128] LANGTAG");y[c]={nextPos:a,result:i};return i}function ra(){var c="INTEGER@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a;if(b.substr(a).match(/^[0-9]/)!==null){var i=b.charAt(a);a++}else i=null,m&&e("[0-9]");if(i!==null)for(var f=[];i!==null;)f.push(i),b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,m&&e("[0-9]"));else f=null;i=f!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};
lit.value=la(a);return lit}(f):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[129] INTEGER");y[c]={nextPos:a,result:i};return i}function Db(){var c="DECIMAL@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a).match(/^[0-9]/)!==null){var f=b.charAt(a);a++}else f=null,m&&e("[0-9]");if(f!==null)for(var g=[];f!==null;)g.push(f),b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]"));else g=null;if(g!==null)if(b.substr(a,1)==="."?(f=".",a+=1):(f=null,
m&&e('"."')),f!==null){var j=[];if(b.substr(a).match(/^[0-9]/)!==null){var h=b.charAt(a);a++}else h=null,m&&e("[0-9]");for(;h!==null;)j.push(h),b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,m&&e("[0-9]"));j!==null?g=[g,f,j]:(g=null,a=i)}else g=null,a=i;else g=null,a=i;i=g!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=la([a,b,c]);return lit}(g[0],g[1],g[2]):null;i===null&&(i=null,a=k);if(i!==null)k=i;else{i=k=a;b.substr(a,
1)==="."?(g=".",a+=1):(g=null,m&&e('"."'));if(g!==null){b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]"));if(f!==null)for(j=[];f!==null;)j.push(f),b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]"));else j=null;j!==null?g=[g,j]:(g=null,a=i)}else g=null,a=i;i=g!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=la([a,b]);return lit}(g[0],g[1]):null;i===null&&(i=null,a=k);k=i!==null?i:null}(m=
d)&&k===null&&e("[130] DECIMAL");y[c]={nextPos:a,result:k};return k}function Cb(){var c="DOUBLE@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a).match(/^[0-9]/)!==null){var f=b.charAt(a);a++}else f=null,m&&e("[0-9]");if(f!==null)for(var k=[];f!==null;)k.push(f),b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]"));else k=null;if(k!==null)if(b.substr(a,1)==="."?(f=".",a+=1):(f=null,m&&e('"."')),f!==null){var j=[];if(b.substr(a).match(/^[0-9]/)!==
null){var h=b.charAt(a);a++}else h=null,m&&e("[0-9]");for(;h!==null;)j.push(h),b.substr(a).match(/^[0-9]/)!==null?(h=b.charAt(a),a++):(h=null,m&&e("[0-9]"));j!==null?(h=Eb(),h!==null?k=[k,f,j,h]:(k=null,a=i)):(k=null,a=i)}else k=null,a=i;else k=null,a=i;i=k!==null?function(a,b,c,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=la([a,b,c,d]);return lit}(k[0],k[1],k[2],k[3]):null;i===null&&(i=null,a=g);if(i!==null)g=i;else{i=g=a;b.substr(a,1)==="."?(k=".",
a+=1):(k=null,m&&e('"."'));if(k!==null){b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[0-9]"));if(j!==null)for(f=[];j!==null;)f.push(j),b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[0-9]"));else f=null;f!==null?(j=Eb(),j!==null?k=[k,f,j]:(k=null,a=i)):(k=null,a=i)}else k=null,a=i;i=k!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=la([a,b,c]);return lit}(k[0],k[1],k[2]):null;i===null&&(i=
null,a=g);if(i!==null)g=i;else{i=g=a;b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]"));if(f!==null)for(k=[];f!==null;)k.push(f),b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]"));else k=null;k!==null?(f=Eb(),f!==null?k=[k,f]:(k=null,a=i)):(k=null,a=i);i=k!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=la([a,b]);return lit}(k[0],k[1]):null;i===null&&(i=null,a=g);g=i!==null?i:null}}(m=
d)&&g===null&&e("[131] DOUBLE");y[c]={nextPos:a,result:g};return g}function $b(){var c="INTEGER_POSITIVE@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="+"){var f="+";a+=1}else f=null,m&&e('"+"');if(f!==null){var g=ra();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){a.value="+"+a.value;return a}(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[132] INTEGER_POSITIVE");y[c]={nextPos:a,result:i};return i}function Zb(){var c="DECIMAL_POSITIVE@"+
a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="+"){var f="+";a+=1}else f=null,m&&e('"+"');if(f!==null){var g=Db();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){a.value="+"+a.value;return a}(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[133] DECIMAL_POSITIVE");y[c]={nextPos:a,result:i};return i}function Yb(){var c="DOUBLE_POSITIVE@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="+"){var f="+";a+=
1}else f=null,m&&e('"+"');if(f!==null){var g=Cb();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){a.value="+"+a.value;return a}(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[134] DOUBLE_POSITIVE");y[c]={nextPos:a,result:i};return i}function cc(){var c="INTEGER_NEGATIVE@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="-"){var f="-";a+=1}else f=null,m&&e('"-"');if(f!==null){var g=ra();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==
null?function(a){a.value="-"+a.value;return a}(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[135] INTEGER_NEGATIVE");y[c]={nextPos:a,result:i};return i}function bc(){var c="DECIMAL_NEGATIVE@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="-"){var f="-";a+=1}else f=null,m&&e('"-"');if(f!==null){var g=Db();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){a.value="-"+a.value;return a}(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&
e("[136] DECIMAL_NEGATIVE");y[c]={nextPos:a,result:i};return i}function ac(){var c="DOUBLE_NEGATIVE@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="-"){var f="-";a+=1}else f=null,m&&e('"-"');if(f!==null){var g=Cb();g!==null?f=[f,g]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a){a.value="-"+a.value;return a}(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[137] DOUBLE_NEGATIVE");y[c]={nextPos:a,result:i};return i}function Eb(){var c="EXPONENT@"+a,d=y[c];
if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a).match(/^[eE]/)!==null){var f=b.charAt(a);a++}else f=null,m&&e("[eE]");if(f!==null){if(b.substr(a).match(/^[+\-]/)!==null){var g=b.charAt(a);a++}else g=null,m&&e("[+\\-]");g=g!==null?g:"";if(g!==null){if(b.substr(a).match(/^[0-9]/)!==null){var j=b.charAt(a);a++}else j=null,m&&e("[0-9]");if(j!==null)for(var h=[];j!==null;)h.push(j),b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[0-9]"));else h=null;h!==null?f=
[f,g,h]:(f=null,a=i)}else f=null,a=i}else f=null,a=i;i=f!==null?la([f[0],f[1],f[2]]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[138] EXPONENT");y[c]={nextPos:a,result:i};return i}function fc(){var c="STRING_LITERAL1@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,1)==="'"){var f="'";a+=1}else f=null,m&&e('"\'"');if(f!==null){var g=[];if(b.substr(a).match(/^[^'\\\n\r]/)!==null){var j=b.charAt(a);a++}else j=null,m&&e("[^'\\\\\\n\\r]");j===null&&(j=ua(),j=j!==null?
j:null);for(;j!==null;)g.push(j),b.substr(a).match(/^[^'\\\n\r]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[^'\\\\\\n\\r]")),j===null&&(j=ua(),j=j!==null?j:null);g!==null?(b.substr(a,1)==="'"?(j="'",a+=1):(j=null,m&&e('"\'"')),j!==null?f=[f,g,j]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?la(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[139] STRING_LITERAL1");y[c]={nextPos:a,result:i};return i}function gc(){var c="STRING_LITERAL2@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;
m=!1;var k=a,i=a;if(b.substr(a,1)==='"'){var f='"';a+=1}else f=null,m&&e('"\\""');if(f!==null){var g=[];if(b.substr(a).match(/^[^"\\\n\r]/)!==null){var j=b.charAt(a);a++}else j=null,m&&e('[^"\\\\\\n\\r]');j===null&&(j=ua(),j=j!==null?j:null);for(;j!==null;)g.push(j),b.substr(a).match(/^[^"\\\n\r]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e('[^"\\\\\\n\\r]')),j===null&&(j=ua(),j=j!==null?j:null);g!==null?(b.substr(a,1)==='"'?(j='"',a+=1):(j=null,m&&e('"\\""')),j!==null?f=[f,g,j]:(f=null,a=i)):(f=null,
a=i)}else f=null,a=i;i=f!==null?la(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[140] STRING_LITERAL2");y[c]={nextPos:a,result:i};return i}function dc(){var c="STRING_LITERAL_LONG1@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,3)==="'''"){var f="'''";a+=3}else f=null,m&&e("\"'''\"");if(f!==null){var g=[];if(b.substr(a).match(/^[^'\\]/)!==null){var j=b.charAt(a);a++}else j=null,m&&e("[^'\\\\]");j===null&&(j=ua(),j=j!==null?j:null);for(;j!==null;)g.push(j),
b.substr(a).match(/^[^'\\]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[^'\\\\]")),j===null&&(j=ua(),j=j!==null?j:null);g!==null?(b.substr(a,3)==="'''"?(j="'''",a+=3):(j=null,m&&e("\"'''\"")),j!==null?f=[f,g,j]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?la(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[141] STRING_LITERAL_LONG1");y[c]={nextPos:a,result:i};return i}function ec(){var c="STRING_LITERAL_LONG2@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var k=a,i=a;if(b.substr(a,
3)==='"""'){var f='"""';a+=3}else f=null,m&&e('"\\"\\"\\""');if(f!==null){var j=[];if(b.substr(a).match(/^[^"\\]/)!==null){var g=b.charAt(a);a++}else g=null,m&&e('[^"\\\\]');g===null&&(g=ua(),g=g!==null?g:null);for(;g!==null;)j.push(g),b.substr(a).match(/^[^"\\]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e('[^"\\\\]')),g===null&&(g=ua(),g=g!==null?g:null);j!==null?(b.substr(a,3)==='"""'?(g='"""',a+=3):(g=null,m&&e('"\\"\\"\\""')),g!==null?f=[f,j,g]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?
la(f[1]):null;i===null&&(i=null,a=k);(m=d)&&i===null&&e("[142] STRING_LITERAL_LONG2");y[c]={nextPos:a,result:i};return i}function ua(){var c="ECHAR@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a;if(b.substr(a,1)==="\\"){var i="\\";a+=1}else i=null,m&&e('"\\\\"');if(i!==null){if(b.substr(a).match(/^[tbnrf"']/)!==null){var f=b.charAt(a);a++}else f=null,m&&e("[tbnrf\"']");f!==null?i=[i,f]:(i=null,a=g)}else i=null,a=g;(m=d)&&i===null&&e("[143] ECHAR");y[c]={nextPos:a,result:i};return i}
function Ka(){var c="NIL@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a;if(b.substr(a,1)==="("){var f="(";a+=1}else f=null,m&&e('"("');if(f!==null){for(var j=[],k=t();k!==null;)j.push(k),k=t();j!==null?(b.substr(a,1)===")"?(k=")",a+=1):(k=null,m&&e('")"')),k!==null?f=[f,j,k]:(f=null,a=i)):(f=null,a=i)}else f=null,a=i;i=f!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;i===null&&(i=null,
a=g);(m=d)&&i===null&&e("[144] NIL");y[c]={nextPos:a,result:i};return i}function t(){var c="WS@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(b.substr(a).match(/^[ ]/)!==null){var g=b.charAt(a);a++}else g=null,m&&e("[ ]");g===null&&(b.substr(a).match(/^[\t]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\t]")),g===null&&(b.substr(a).match(/^[\r]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\r]")),g===null&&(b.substr(a).match(/^[\n]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\n]")),g===null&&
(g=mc(),g=g!==null?g:null))));(m=d)&&g===null&&e("[145] WS");y[c]={nextPos:a,result:g};return g}function mc(){var c="COMMENT@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a;if(b.substr(a,1)==="#"){var i="#";a+=1}else i=null,m&&e('"#"');if(i!==null){var f=[];if(b.substr(a).match(/^[^\n\r]/)!==null){var k=b.charAt(a);a++}else k=null,m&&e("[^\\n\\r]");for(;k!==null;)f.push(k),b.substr(a).match(/^[^\n\r]/)!==null?(k=b.charAt(a),a++):(k=null,m&&e("[^\\n\\r]"));f!==null?i=[i,f]:(i=null,a=g)}else i=
null,a=g;(m=d)&&i===null&&e(" COMMENT");y[c]={nextPos:a,result:i};return i}function kc(){var c="ANON@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a;if(b.substr(a,1)==="["){var i="[";a+=1}else i=null,m&&e('"["');if(i!==null){for(var f=[],k=t();k!==null;)f.push(k),k=t();f!==null?(b.substr(a,1)==="]"?(k="]",a+=1):(k=null,m&&e('"]"')),k!==null?i=[i,f,k]:(i=null,a=g)):(i=null,a=g)}else i=null,a=g;(m=d)&&i===null&&e("[146] ANON");y[c]={nextPos:a,result:i};return i}function Kb(){var c="PN_CHARS_BASE@"+
a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;if(b.substr(a).match(/^[A-Z]/)!==null){var g=b.charAt(a);a++}else g=null,m&&e("[A-Z]");g===null&&(b.substr(a).match(/^[a-z]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[a-z]")),g===null&&(b.substr(a).match(/^[\xC0-\xD6]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\xC0-\\xD6]")),g===null&&(b.substr(a).match(/^[\xD8-\xF6]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\xD8-\\xF6]")),g===null&&(b.substr(a).match(/^[\xF8-\u02FF]/)!==null?(g=b.charAt(a),
a++):(g=null,m&&e("[\\xF8-\\u02FF]")),g===null&&(b.substr(a).match(/^[\u0370-\u037D]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u0370-\\u037D]")),g===null&&(b.substr(a).match(/^[\u037F-\u1FFF]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u037F-\\u1FFF]")),g===null&&(b.substr(a).match(/^[\u200C-\u200D]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u200C-\\u200D]")),g===null&&(b.substr(a).match(/^[\u2070-\u218F]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u2070-\\u218F]")),g===null&&(b.substr(a).match(/^[\u2C00-\u2FEF]/)!==
null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u2C00-\\u2FEF]")),g===null&&(b.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u3001-\\uD7FF]")),g===null&&(b.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\uF900-\\uFDCF]")),g===null&&(b.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\uFDF0-\\uFFFD]")),g===null&&(b.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u1000-\\uEFFF]")),
g=g!==null?g:null)))))))))))));(m=d)&&g===null&&e("[147] PN_CHARS_BASE");y[c]={nextPos:a,result:g};return g}function Za(){var c="PN_CHARS_U@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=Kb();g===null&&(b.substr(a,1)==="_"?(g="_",a+=1):(g=null,m&&e('"_"')),g=g!==null?g:null);(m=d)&&g===null&&e("[148] PN_CHARS_U");y[c]={nextPos:a,result:g};return g}function Jb(){var c="VARNAME@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a,f=Za();f===null&&(b.substr(a).match(/^[0-9]/)!==
null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]")),f=f!==null?f:null);if(f!==null){var k=[],j=Za();j===null&&(b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[0-9]")),j===null&&(b.substr(a).match(/^[\xB7]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[\\xB7]")),j===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[\\u0300-\\u036F]")),j===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[\\u203F-\\u2040]")),j=
j!==null?j:null))));for(;j!==null;)k.push(j),j=Za(),j===null&&(b.substr(a).match(/^[0-9]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[0-9]")),j===null&&(b.substr(a).match(/^[\xB7]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[\\xB7]")),j===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[\\u0300-\\u036F]")),j===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(j=b.charAt(a),a++):(j=null,m&&e("[\\u203F-\\u2040]")),j=j!==null?j:null))));k!==null?f=[f,k]:(f=null,
a=i)}else f=null,a=i;i=f!==null?f[0]+f[1].join(""):null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[149] VARNAME");y[c]={nextPos:a,result:i};return i}function sb(){var c="PN_CHARS@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=Za();g===null&&(b.substr(a,1)==="-"?(g="-",a+=1):(g=null,m&&e('"-"')),g===null&&(b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[0-9]")),g===null&&(b.substr(a).match(/^[\xB7]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\xB7]")),g===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==
null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u0300-\\u036F]")),g===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(g=b.charAt(a),a++):(g=null,m&&e("[\\u203F-\\u2040]")),g=g!==null?g:null)))));(m=d)&&g===null&&e("[150] PN_CHARS");y[c]={nextPos:a,result:g};return g}function lc(){var c="PN_PREFIX@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a,f=Kb();if(f!==null){var j=[],k=sb();k===null&&(b.substr(a,1)==="."?(k=".",a+=1):(k=null,m&&e('"."')),k=k!==null?k:null);for(;k!==null;)j.push(k),
k=sb(),k===null&&(b.substr(a,1)==="."?(k=".",a+=1):(k=null,m&&e('"."')),k=k!==null?k:null);j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(f[0],f[1]):null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[151] PN_PREFIX");y[c]={nextPos:a,result:i};return i}function Ib(){var c="PN_LOCAL@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=a,f=Za();f===null&&(b.substr(a).match(/^[0-9]/)!==
null?(f=b.charAt(a),a++):(f=null,m&&e("[0-9]")),f=f!==null?f:null);if(f!==null){for(var j=[],k=sb();k!==null;)j.push(k),k=sb();j!==null?f=[f,j]:(f=null,a=i)}else f=null,a=i;i=f!==null?f[0]+f[1].join(""):null;i===null&&(i=null,a=g);(m=d)&&i===null&&e("[152] PN_LOCAL");y[c]={nextPos:a,result:i};return i}function nc(){var c=function(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,
c.length-1).join(", ")+" or "+c[c.length-1]}}(Hb),d=Math.max(a,rb),d=d<b.length?j(b.charAt(d)):"end of input";return"Expected "+c+" but "+d+" found."}function oc(){for(var a=1,c=1,d=!1,e=0;e<rb;e++){var f=b.charAt(e);f==="\n"?(d||a++,c=1,d=!1):f==="\r"|f==="\u2028"||f==="\u2029"?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var Da={ANON:kc,AdditiveExpression:Y,Aggregate:Nb,ArgList:Ua,AskQuery:H,BLANK_NODE_LABEL:jc,BaseDecl:r,BindingValue:wa,BindingsClause:Ma,BlankNode:Vb,BlankNodePropertyList:z,
BooleanLiteral:zb,BrackettedExpression:vb,BuiltInCall:wb,COMMENT:mc,Clear:bb,Collection:aa,ConditionalAndExpression:V,ConditionalOrExpression:N,Constraint:ya,ConstructQuery:F,ConstructTemplate:eb,ConstructTriples:B,Create:hb,DECIMAL:Db,DECIMAL_NEGATIVE:bc,DECIMAL_POSITIVE:Zb,DOUBLE:Cb,DOUBLE_NEGATIVE:ac,DOUBLE_POSITIVE:Yb,DatasetClause:Z,DefaultGraphClause:K,DeleteClause:ob,DeleteData:cb,DeleteWhere:fb,DescribeQuery:G,Drop:gb,ECHAR:ua,EXPONENT:Eb,ExistsFunc:function(){var c="ExistsFunc@"+a,d=y[c];
if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a;if(b.substr(a,6)==="EXISTS"){var i="EXISTS";a+=6}else i=null,m&&e('"EXISTS"');if(i!==null){var f=T();f!==null?i=[i,f]:(i=null,a=g)}else i=null,a=g;(m=d)&&i===null&&e("[108] ExistsFunc");y[c]={nextPos:a,result:i};return i},ExpressionList:ha,Filter:nb,FunctionCall:Ta,GraphGraphPattern:mb,GraphNode:W,GraphPatternNotTriples:Sa,GraphRef:za,GraphRefAll:Va,GraphTerm:Lb,GroupClause:X,GroupCondition:S,GroupGraphPattern:T,GroupGraphPatternSub:Ha,GroupOrUnionGraphPattern:Ia,
HavingClause:ea,INTEGER:ra,INTEGER_NEGATIVE:cc,INTEGER_POSITIVE:$b,IRI_REF:Ab,IRIref:U,IRIrefOrFunction:Ob,InsertClause:Qa,InsertData:ib,LANGTAG:Xb,LimitClause:ga,LimitOffsetClauses:ia,Load:Rb,MinusGraphPattern:kb,Modify:oa,MultiplicativeExpression:La,NIL:Ka,NamedGraphClause:L,NotExistsFunc:function(){var c="NotExistsFunc@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a;if(b.substr(a,10)==="NOT EXISTS"){var i="NOT EXISTS";a+=10}else i=null,m&&e('"NOT EXISTS"');if(i!==null){var f=T();f!==
null?i=[i,f]:(i=null,a=g)}else i=null,a=g;(m=d)&&i===null&&e("[109] NotExistsFunc");y[c]={nextPos:a,result:i};return i},NumericLiteral:yb,NumericLiteralNegative:Na,NumericLiteralPositive:Qb,NumericLiteralUnsigned:Pb,ObjectList:ba,OffsetClause:na,OptionalGraphPattern:jb,OrderClause:fa,OrderCondition:ca,PNAME_LN:ic,PNAME_NS:Bb,PN_CHARS:sb,PN_CHARS_BASE:Kb,PN_CHARS_U:Za,PN_LOCAL:Ib,PN_PREFIX:lc,PathAlternative:Ga,PathElt:pb,PathEltOrInverse:Ya,PathMod:ka,PathNegatedPropertySet:q,PathOneInPropertySet:ja,
PathPrimary:g,PathSequence:Ba,PrefixDecl:v,PrefixedName:hc,PrimaryExpression:$a,Prologue:o,PropertyList:Xa,PropertyListNotEmpty:Aa,PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+a,d=y[c];if(d)return a=d.nextPos,d.result;d=m;m=!1;var g=a,i=qa();i===null&&(i=A(),i=i!==null?i:null);if(i!==null){var f=ba();if(f!==null){var j=[],k=a;if(b.substr(a,1)===";"){var h=";";a+=1}else h=null,m&&e('";"');if(h!==null){var n=a,o=qa();o===null&&(o=A(),o=o!==null?o:null);if(o!==null){var q=ba();
q!==null?o=[o,q]:(o=null,a=n)}else o=null,a=n;n=o!==null?o:"";n!==null?h=[h,n]:(h=null,a=k)}else h=null,a=k;for(;h!==null;)j.push(h),k=a,b.substr(a,1)===";"?(h=";",a+=1):(h=null,m&&e('";"')),h!==null?(n=a,o=qa(),o===null&&(o=A(),o=o!==null?o:null),o!==null?(q=ba(),q!==null?o=[o,q]:(o=null,a=n)):(o=null,a=n),n=o!==null?o:"",n!==null?h=[h,n]:(h=null,a=k)):(h=null,a=k);j!==null?i=[i,f,j]:(i=null,a=g)}else i=null,a=g}else i=null,a=g;(m=d)&&i===null&&e("[73] PropertyListNotEmptyPath");y[c]={nextPos:a,
result:i};return i},PropertyListPath:function(){var b="PropertyListPath@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=m;m=!1;var d=Aa(),d=d!==null?d:"";(m=c)&&d===null&&e("[74] PropertyListPath");y[b]={nextPos:a,result:d};return d},QuadData:Oa,QuadPattern:Wa,Quads:Pa,QuadsNotTriples:Ra,Query:h,RDFLiteral:xb,RegexExpression:Mb,RelationalExpression:ub,SPARQL:function(){var b="SPARQL@"+a,c=y[b];if(c)return a=c.nextPos,c.result;c=h();c===null&&(c=pa(),c=c!==null?c:null);y[b]={nextPos:a,result:c};return c},
STRING_LITERAL1:fc,STRING_LITERAL2:gc,STRING_LITERAL_LONG1:dc,STRING_LITERAL_LONG2:ec,SelectClause:D,SelectQuery:u,ServiceGraphPattern:lb,SolutionModifier:O,String:Wb,SubSelect:w,TriplesBlock:xa,TriplesNode:Fa,TriplesSameSubject:Ja,TriplesTemplate:$,UnaryExpression:ma,Update:pa,Update1:qb,UsingClause:va,VAR1:Tb,VAR2:Ub,VARNAME:Jb,Var:A,VarOrIRIref:Ea,VarOrTerm:Fb,Verb:Ca,VerbPath:qa,WS:t,WhereClause:I};if(c!==void 0){if(Da[c]===void 0)throw Error("Invalid rule name: "+j(c)+".");}else c="SPARQL";var a=
0,m=!0,rb=0,Hb=[],y={},la=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},sa=0,Sb=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},Da=Da[c]();if(Da===null||a!==b.length)throw Da=oc(),new this.SyntaxError(nc(),Da.line,Da.column);return Da},toSource:function(){return this._source},SyntaxError:function(b,c,k){this.name="SyntaxError";this.message=b;this.line=c;this.column=k}};c.SyntaxError.prototype=Error.prototype;return c}();
var w={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",
com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};w.UrisMap.prototype.values=function(){var c={},b;for(b in this)D.include(this.interfaceProperties,b)||(c[b]=this[b]);return c};w.UrisMap.prototype.get=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";
return this[c]};w.UrisMap.prototype.remove=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";delete this[c];return null};w.UrisMap.prototype.set=function(c,b){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[c]=b};w.UrisMap.prototype.setDefault=function(c){this.defaultNs=c};w.UrisMap.prototype.addAll=function(c,b){for(var d in c)D.include(this.interfaceProperties,d)||(this[d]!=null?b===!0&&(this[d]=c[d]):this[d]=c[d]);return this};w.UrisMap.prototype.resolve=
function(c){var b=c.split(":"),c=b[0],b=b[1];return c===""?this.defaultNs+b:this[c]!=null?this[c]+b:null};w.UrisMap.prototype.shrink=function(c){for(var b in this){var d=this[b];if(c.indexOf(d)===0&&d!=="")return c=c.split(d)[1],b+":"+c}return c};w.Profile=function(){this.prefixes=new w.UrisMap;this.terms=new w.UrisMap};w.Profile.prototype.importProfile=function(c,b){this.prefixes.addAll(c.prefixes,b);this.terms.addAll(c.terms,b)};w.Profile.prototype.resolve=function(c){return c.indexOf(":")!=-1?
this.prefixes.resolve(c):this.terms[c]!=null?this.terms.resolve(c):null};w.Profile.prototype.setDefaultPrefix=function(c){this.prefixes.setDefault(c)};w.Profile.prototype.setDefaultVocabulary=function(c){this.terms.setDefault(c)};w.Profile.prototype.setPrefix=function(c,b){this.prefixes.set(c,b)};w.Profile.prototype.setTerm=function(c,b){this.terms.set(c,b)};w.RDFEnvironment=function(){this.blankNodeCounter=0;var c=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},
o:function(b){return function(c){return c.object.equals(b)}},sp:function(b,c){return function(j){return j.subject.equals(b)&&j.predicate.equals(c)}},so:function(b,c){return function(j){return j.subject.equals(b)&&j.object.equals(c)}},po:function(b,c){return function(j){return j.predicate.equals(b)&&j.object.equals(c)}},spo:function(b,c,j){return function(e){return e.subject.equals(b)&&e.predicate.equals(c)&&e.object.equals(j)}},describes:function(b){return function(c){return c.subject.equals(b)||
c.object.equals(b)}},type:function(b){var k=c.resolve("rdf:type");return function(c){return c.predicate.equals(k)&&c.object.equals(b)}}};for(var b in w.defaultContext)this.prefixes.set(b,w.defaultContext[b])};D["extends"](w.Profile,w.RDFEnvironment);w.RDFEnvironment.prototype.createBlankNode=function(){var c=w.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return c};w.RDFEnvironment.prototype.createNamedNode=function(c){var b=this.resolve(c);return b!=null?new w.NamedNode(b):new w.NamedNode(c)};
w.RDFEnvironment.prototype.createLiteral=function(c,b,d){return d!=null?new w.Literal(c,b,d.toString()):new w.Literal(c,b,d)};w.RDFEnvironment.prototype.createTriple=function(c,b,d){return new w.Triple(c,b,d)};w.RDFEnvironment.prototype.createGraph=function(c){var b=new w.Graph;if(c!=null)for(var d=0;d<c.length;d++)b.add(c[d]);return b};w.RDFEnvironment.prototype.createAction=function(c,b){return function(d){return c(d)?b(d):d}};w.RDFEnvironment.prototype.createProfile=function(c){return c===!0?new w.RDFEnvironment.Profile:
(c=new w.RDFEnvironment.Profile,c.importProfile(this),c)};w.RDFEnvironment.prototype.createTermMap=function(c){if(c===!0)return new w.UrisMap;else{var c=this.terms.values(),b=new w.UrisMap,d;for(d in c)b[d]=c[d];return b}};w.RDFEnvironment.prototype.createPrefixMap=function(c){if(c===!0)return new w.UrisMap;else{var c=this.prefixes.values(),b=new w.UrisMap,d;for(d in c)b[d]=c[d];return b}};w.RDFNode=function(c){this.interfaceName=c;this.attributes=["interfaceName","nominalValue"]};w.RDFNode.prototype.equals=
function(c){if(c.interfaceName==null)return this.valueOf()==c;else{for(var b in this.attributes){var d=this.attributes[b];if(this[d]!=c[d])return!1}return!0}};w.BlankNode=function(c){w.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+c;this.bnodeId=c};D["extends"](w.RDFNode,w.BlankNode);w.BlankNode.prototype.toString=function(){return this.nominalValue};w.BlankNode.prototype.toNT=function(){return this.nominalValue};w.BlankNode.prototype.valueOf=function(){return this.nominalValue};w.Literal=
function(c,b,d){w.RDFNode.call(this,"Literal");this.nominalValue=c;if(b!=null)this.language=b;else if(d!=null)this.datatype=d};D["extends"](w.RDFNode,w.Literal);w.Literal.prototype.toString=function(){var c='"'+this.nominalValue+'"';this.language!=null?c=c+"@"+this.language:this.type!=null&&(c=c+"^^"+this.datatype);return c};w.Literal.prototype.toNT=function(){return this.toString()};w.Literal.prototype.valueOf=function(){return h.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,
language:this.language})};w.NamedNode=function(c){w.RDFNode.call(this,"NamedNode");this.nominalValue=c.value!=null?c.value:c};D["extends"](w.RDFNode,w.NamedNode);w.NamedNode.prototype.toString=function(){return this.nominalValue};w.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};w.NamedNode.prototype.valueOf=function(){return this.nominalValue};w.Triple=function(c,b,d){this.subject=c;this.predicate=b;this.object=d};w.Triple.prototype.equals=function(c){return this.subject.equals(c.subject)&&
this.predicate.equals(c.predicate)&&this.object.equals(c.object)};w.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};w.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};w.Graph.prototype.add=function(c){for(var b=0;b<this.actions.length;b++)c=this.actions[b](c);b=c.subject.toString()+c.predicate.toString()+c.object.toString();this.duplicates[b]||(this.duplicates[b]=!0,this.triples.push(c));return this};w.Graph.prototype.addAction=
function(c,b){this.actions.push(c);if(b==!0)for(var d=0;d<this.triples.length;d++)this.triples[d]=c(this.triples[d]);return this};w.Graph.prototype.addAll=function(c){for(var c=c.toArray(),b=0;b<c.length;b++)this.add(c[b]);return this};w.Graph.prototype.remove=function(c){for(var b=null,d=0;d<this.triples.length;d++)if(this.triples[d].equals(c)){delete this.duplicates[c.subject.toString()+c.predicate.toString()+c.object.toString()];b=d;break}b!=null&&this.triples.splice(b,1);return this};w.Graph.prototype.toArray=
function(){return this.triples};w.Graph.prototype.some=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!0)return!0;return!1};w.Graph.prototype.every=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!1)return!1;return!0};w.Graph.prototype.filter=function(c){for(var b=new w.Graph,d=0;d<this.triples.length;d++)c(this.triples[d],this)===!0&&b.add(this.triples[d]);return b};w.Graph.prototype.forEach=function(c){for(var b=0;b<this.triples.length;b++)c(this.triples[b],
this)};w.Graph.prototype.merge=function(){for(var c=new w.Graph,b=0;b<this.triples;b++){var d=this.triples[b];c.add(d)}for(b=0;b<triples.length;b++)d=triples[b],this.add(d);return c};w.Graph.prototype.match=function(c,b,d,k){for(var j=new w.Graph,e=0,h=0;h<this.triples.length;h++){var o=this.triples[h];if(c==null||o.subject.equals(c))if(b==null||o.predicate.equals(b))if(d==null||o.object.equals(d))if(k==null||e<k)e++,j.add(o);else break}return j};w.Graph.prototype.removeMatches=function(c,b,d){for(var k=
[],j=0;j<this.triples.length;j++){var e=this.triples[j];if(c==null||e.subject.equals(c))if(b==null||e.predicate.equals(b))(d==null||e.object.equals(d))&&k.push(e)}for(j=0;j<k.length;j++)this.remove(k[j]);return this};w.Graph.prototype.toNT=function(){var c="";this.forEach(function(b){c+=b.toString()});return c};w.buildRDFResource=function(c,b,d,k){return c.token==="blank"?w.buildBlankNode(c,b,d,k):c.token==="literal"?w.buildLiteral(c,b,d,k):c.token==="uri"?w.buildNamedNode(c,b,d,k):c.token==="var"?
(c=b[c.value],c!=null?w.buildRDFResource(c,b,d,k):null):null};w.buildBlankNode=function(c){if(c.value==null&&c.label)c.value=c.label;if(c.value.indexOf("_:")===0)c.value=c.value.split("_:")[1];return new w.BlankNode(c.value)};w.buildLiteral=function(c){return new w.Literal(c.value,c.lang,c.type)};w.buildNamedNode=function(c,b,d,k){if(c.value==null&&c.prefix!=null)b=d.resolveNsInEnvironment(c.prefix,k),c.value=b+c.suffix;return new w.NamedNode(c)};w.rdf=new w.RDFEnvironment;var h={checkFilters:function(c,
b,d,k,j){var e=c.filter,n=[];if(e==null||c.length!=null)return b;for(c=0;c<e.length;c++){for(var b=h.run(e[c].value,b,d,k,j),o=[],r=0;r<b.length;r++)b[r].__nullify__!=null?n.push(b[r]):o.push(b[r]);b=o}return b.concat(n)}};h.boundVars=function(c){if(c.expressionType!=null){var b=c.expressionType;if(b=="relationalexpression")return b=c.op2,h.boundVars(c.op1)+h.boundVars(b);else if(b=="conditionalor"||b=="conditionaland"){for(var d=[],b=0;b<c.operands;b++)d=d.concat(h.boundVars(c.operands[b]));return d}else if(b==
"builtincall")if(c.args==null)return[];else{d=[];for(b=0;b<c.args.length;b++)d=d.concat(h.boundVars(c.args[b]));return d}else if(b=="multiplicativeexpression"){d=h.boundVars(c.factor);for(b=0;b<c.factors.length;b++)d=d.concat(h.boundVars(c.factors[b].expression));return d}else if(b=="additiveexpression"){d=h.boundVars(c.summand);for(b=0;b<c.summands.length;b++)d=d.concat(h.boundVars(c.summands[b].expression));return d}else if(b=="regex")return d=h.boundVars(c.expression1),d.concat(h.boundVars(c.expression2));
else if(b=="unaryexpression")return h.boundVars(c.expression);else if(b=="atomic")return c.primaryexpression=="var"?[c.value]:[]}else throw console.log("ERROR"),console.log(c),"Cannot find bound expressions in a no expression token";};h.run=function(c,b,d,k,j){for(var e=j.copyDenormalizedBindings(b,k.outCache),n=[],o=0;o<b.length;o++){var r=h.runFilter(c,e[o],j,k),r=h.ebv(r);h.isEbvError(r)?d&&(r={__nullify__:!0,bindings:b[o]},n.push(r)):r===!0?n.push(b[o]):d&&(r={__nullify__:!0,bindings:b[o]},n.push(r))}return n};
h.collect=function(c,b,d,k){for(var j=k.copyDenormalizedBindings(b,d.outCache),e=[],n=0;n<j.length;n++){var o=h.runFilter(c,j[n],k,d);e.push({binding:b[n],value:o})}return e};h.runDistinct=function(){};h.runAggregator=function(c,b,d,k){if(b==null||b.length===0)return h.ebvError();else if(c.token==="variable"&&c.kind=="var")return b[0][c.value.value];else if(c.token==="variable"&&c.kind==="aliased")if(c.expression.expressionType==="atomic"&&c.expression.primaryexpression==="var")return b[0][c.expression.value.value];
else if(c.expression.expressionType==="aggregate")if(c.expression.aggregateType==="max"){for(var j=null,e=0;e<b.length;e++){var n=b[e],n=h.runFilter(c.expression.expression,n,d,k);h.isEbvError(n)||(j===null?j=n:h.runLtFunction(j,n).value===!0&&(j=n))}return j===null?h.ebvError():j}else if(c.expression.aggregateType==="min"){j=null;for(e=0;e<b.length;e++)n=b[e],n=h.runFilter(c.expression.expression,n,d,k),h.isEbvError(n)||(j===null?j=n:h.runGtFunction(j,n).value===!0&&(j=n));return j===null?h.ebvError():
j}else if(c.expression.aggregateType==="count"){var j={},o=0;if(c.expression.expression==="*")if(c.expression.distinct!=null&&c.expression.distinct!="")for(e=0;e<b.length;e++){var n=b[e],r=D.hashTerm(n);j[r]==null&&(j[r]=!0,o++)}else o=b.length;else for(e=0;e<b.length;e++)n=b[e],n=h.runFilter(c.expression.expression,n,d,k),h.isEbvError(n)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=D.hashTerm(n),j[r]==null&&(j[r]=!0,o++)):o++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:""+o}}else if(c.expression.aggregateType==="avg"){for(var j={},v={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},e=o=0;e<b.length;e++)n=b[e],n=h.runFilter(c.expression.expression,n,d,k),h.isEbvError(n)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=D.hashTerm(n),j[r]==null&&(j[r]=!0,h.isNumeric(n)&&(v=h.runSumFunction(v,n),o++))):h.isNumeric(n)&&(v=h.runSumFunction(v,n),o++));c=h.runDivFunction(v,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:""+o});c.value=""+c.value;return c}else if(c.expression.aggregateType==="sum"){j={};v={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(e=0;e<b.length;e++)n=b[e],n=h.runFilter(c.expression.expression,n,d,k),h.isEbvError(n)||(c.expression.distinct!=null&&c.expression.distinct!=""?(r=D.hashTerm(n),j[r]==null&&(j[r]=!0,h.isNumeric(n)&&(v=h.runSumFunction(v,n)))):h.isNumeric(n)&&(v=h.runSumFunction(v,n)));v.value=""+v.value;return v}else return n=h.runFilter(aggregate.expression,
b[0],{blanks:{},outCache:{}})};h.runFilter=function(c,b,d,k){if(c.expressionType!=null){var j=c.expressionType;if(j=="relationalexpression"){var j=h.runFilter(c.op1,b,d,k),e=h.runFilter(c.op2,b,d,k);return h.runRelationalFilter(c,j,e,b,d,k)}else if(j=="conditionalor")return h.runOrFunction(c,b,d,k);else if(j=="conditionaland")return h.runAndFunction(c,b,d,k);else if(j=="additiveexpression")return h.runAddition(c.summand,c.summands,b,d,k);else if(j=="builtincall")return h.runBuiltInCall(c.builtincall,
c.args,b,d,k);else if(j=="multiplicativeexpression")return h.runMultiplication(c.factor,c.factors,b,d,k);else if(j=="unaryexpression")return h.runUnaryExpression(c.unaryexpression,c.expression,b,d,k);else if(j=="irireforfunction")return h.runIriRefOrFunction(c.iriref,c.args,b,d,k);else if(j=="regex")return h.runRegex(c.text,c.pattern,c.flags,b,d,k);else if(j=="atomic")if(c.primaryexpression=="var")return b[c.value.value];else{if(typeof c.value=="object"&&!(c.value.type==null||typeof c.value.type!=
"object"))c.value.type=D.lexicalFormBaseUri(c.value.type,k);return c.value}else throw"Unknown filter expression type";}else throw"Cannot find bound expressions in a no expression token";};h.isRDFTerm=function(c){return c==null?!1:c.token&&c.token=="literal"||c.token&&c.token=="uri"||c.token&&c.token=="blank"?!0:!1};h.RDFTermEquality=function(c,b,d,k){return c.token==="literal"&&b.token==="literal"?c.lang==b.lang&&c.type==b.type&&c.value==b.value?!0:c.type!=null&&b.type!=null?h.ebvError():h.isSimpleLiteral(c)&&
b.type!=null?h.ebvError():h.isSimpleLiteral(b)&&c.type!=null?h.ebvError():!1:c.token==="uri"&&b.token==="uri"?D.lexicalFormBaseUri(c,k)==D.lexicalFormBaseUri(b,k):c.token==="blank"&&b.token==="blank"?c.value==b.value:!1};h.isInteger=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};h.isFloat=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};h.isDecimal=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};h.isDouble=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#double"?!0:!1:!1};h.isNumeric=function(c){return c==null?!1:c.token==="literal"?c.type==
"http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#float"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||
c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};h.isSimpleLiteral=function(c){return c&&c.token=="literal"?c.type==null&&c.lang==null?!0:!1:!1};h.isXsdType=function(c,b){return b&&b.token==
"literal"?b.type=="http://www.w3.org/2001/XMLSchema#"+c:!1};h.ebv=function(c){if(c==null||h.isEbvError(c))return h.ebvError();else if(c.token&&c.token==="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type==
"http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var b=parseFloat(c.value);
return isNaN(b)?!1:parseFloat(c.value)!=0}else return c.type==="http://www.w3.org/2001/XMLSchema#boolean"?c.value==="true"||c.value===!0||c.value==="True":c.type==="http://www.w3.org/2001/XMLSchema#string"?c.value!="":c.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(c.value)!=null:h.isEbvError(c)?c:c.type==null?c.value!=""?!0:!1:h.ebvError();else return c.value===!0};h.ebvTrue=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};h.ebvFalse=
function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};h.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};h.isEbvError=function(c){return typeof c=="object"&&c!=null?c.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};h.ebvBoolean=function(c){return h.isEbvError(c)?c:c===!0?h.ebvTrue():h.ebvFalse()};h.runRelationalFilter=function(c,b,d,k,j,e){c=c.operator;if(c==="=")return h.runEqualityFunction(b,
d,k,j,e);else if(c==="!="){b=h.runEqualityFunction(b,d,k,j,e);if(!h.isEbvError(b))b.value=!b.value;return b}else if(c==="<")return h.runLtFunction(b,d,k);else if(c===">")return h.runGtFunction(b,d,k);else if(c==="<=")return h.runLtEqFunction(b,d,k);else if(c===">=")return h.runGtEqFunction(b,d,k);else throw"Error applying relational filter, unknown operator";};h.effectiveTypeValue=function(c){if(c.token=="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer")return c=parseInt(c.value);else if(c.type==
"http://www.w3.org/2001/XMLSchema#decimal")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#float")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#double")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#long")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#int")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#short")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#byte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#date"||c.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return D.parseISO8601(c.value)}catch(b){return null}else return c.type=="http://www.w3.org/2001/XMLSchema#boolean"?
c.value===!0||c.value==="true"||c.value==="1"||c.value===1||c.value===!0?!0:c.value===!1||c.value==="false"||c.value==="0"||c.value===0||c.value===!1?!1:void 0:c.type=="http://www.w3.org/2001/XMLSchema#string"?c.value===null||c.value===void 0?void 0:""+c.value:c.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};h.runOrFunction=function(c,b,d,k){for(var j=null,e=0;e<c.operands.length;e++){var n=h.runFilter(c.operands[e],b,d,k);h.isEbvError(n)==!1&&(n=h.ebv(n));
j==null?j=n:h.isEbvError(n)?j=h.isEbvError(j)?h.ebvError():j===!0?!0:h.ebvError():n===!0?j=!0:h.isEbvError(j)&&(j=h.ebvError())}return h.ebvBoolean(j)};h.runAndFunction=function(c,b,d,k){for(var j=null,e=0;e<c.operands.length;e++){var n=h.runFilter(c.operands[e],b,d,k);h.isEbvError(n)==!1&&(n=h.ebv(n));j==null?j=n:h.isEbvError(n)?j=h.isEbvError(j)?h.ebvError():j===!0?h.ebvError():!1:n===!0?h.isEbvError(j)&&(j=h.ebvError()):j=!1}return h.ebvBoolean(j)};h.runEqualityFunction=function(c,b,d,k,j){if(h.isEbvError(c)||
h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b)){var d=h.effectiveTypeValue(c),e=h.effectiveTypeValue(b);return isNaN(d)||isNaN(e)?h.ebvBoolean(h.RDFTermEquality(c,b,k,j)):h.ebvBoolean(d==e)}else if((h.isSimpleLiteral(c)||h.isXsdType("string",c))&&(h.isSimpleLiteral(b)||h.isXsdType("string",b)))return h.ebvBoolean(h.effectiveTypeValue(c)==h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)==h.effectiveTypeValue(b));
else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();c=D.compareDateComponents(c.value,b.value);return c!=null?c==0?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.isRDFTerm(c)&&h.isRDFTerm(b)?h.ebvBoolean(h.RDFTermEquality(c,b,k,j)):h.ebvFalse()};h.runGtFunction=function(c,b){if(h.isEbvError(c)||
h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)>h.effectiveTypeValue(b));
else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=D.compareDateComponents(c.value,b.value);return d!=null?d==1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runTotalGtFunction=function(c,b){return h.isEbvError(c)||h.isEbvError(b)?h.ebvError():h.isNumeric(c)&&h.isNumeric(b)||
h.isSimpleLiteral(c)&&h.isSimpleLiteral(b)||h.isXsdType("string",c)&&h.isSimpleLiteral("string",b)||h.isXsdType("boolean",c)&&h.isSimpleLiteral("boolean",b)||h.isXsdType("dateTime",c)&&h.isSimpleLiteral("dateTime",b)?h.runGtFunction(c,b,[]):c.token&&c.token==="uri"&&b.token&&b.token==="uri"?h.ebvBoolean(c.value>b.value):c.token&&c.token==="literal"&&b.token&&b.token==="literal"?h.ebvBoolean(""+c.value+c.type+c.lang>""+b.value+b.type+b.lang):c.token&&c.token==="blank"&&b.token&&b.token==="blank"?h.ebvBoolean(c.value>
b.value):c.value&&b.value?h.ebvBoolean(c.value>b.value):h.ebvTrue()};h.runLtFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));
else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)<h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=D.compareDateComponents(c.value,b.value);return d!=null?d==-1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};
h.runGtEqFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)>=h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)>=
h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=D.compareDateComponents(c.value,b.value);return d!=null?d!=-1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runLtEqFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();
if(h.isNumeric(c)&&h.isNumeric(b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if(h.isSimpleLiteral(c)&&h.isSimpleLiteral(b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if(h.isXsdType("string",c)&&h.isXsdType("string",b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if(h.isXsdType("boolean",c)&&h.isXsdType("boolean",b))return h.ebvBoolean(h.effectiveTypeValue(c)<=h.effectiveTypeValue(b));else if((h.isXsdType("dateTime",
c)||h.isXsdType("date",c))&&(h.isXsdType("dateTime",b)||h.isXsdType("date",b))){if(h.isXsdType("dateTime",c)&&h.isXsdType("date",b))return h.ebvFalse();if(h.isXsdType("date",c)&&h.isXsdType("dateTime",b))return h.ebvFalse();var d=D.compareDateComponents(c.value,b.value);return d!=null?d!=1?h.ebvTrue():h.ebvFalse():h.ebvError()}else return h.ebvFalse()};h.runAddition=function(c,b,d,k,j){var e=h.runFilter(c,d,k,j);if(h.isEbvError(e))return h.ebvError();c=e;if(h.isNumeric(e)){for(e=0;e<b.length;e++){var n=
h.runFilter(b[e].expression,d,k,j);if(h.isNumeric(n))b[e].operator==="+"?c=h.runSumFunction(c,n):b[e].operator==="-"&&(c=h.runSubFunction(c,n));else return h.ebvFalse()}return c}else return h.ebvFalse()};h.runSumFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)+h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runSubFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)-h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runMultiplication=function(c,b,d,k,j){c=h.runFilter(c,d,k,j);if(h.isEbvError(c))return c;var e=c;if(h.isNumeric(c)){for(var n=0;n<b.length;n++){var o=h.runFilter(b[n].expression,d,k,j);if(h.isEbvError(o))return c;if(h.isNumeric(o))b[n].operator==="*"?e=h.runMulFunction(e,o):b[n].operator==="/"&&(e=h.runDivFunction(e,
o));else return h.ebvFalse()}return e}else return h.ebvFalse()};h.runMulFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)*h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runDivFunction=function(c,b){if(h.isEbvError(c)||h.isEbvError(b))return h.ebvError();var d=h.effectiveTypeValue(c)/h.effectiveTypeValue(b);return h.isDouble(c)||h.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:d}:h.isFloat(c)||h.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:d}:h.isDecimal(c)||h.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",
value:d}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:d}};h.runBuiltInCall=function(c,b,d,k,j){for(var e=[],n=0;n<b.length;n++)if(b[n].token==="var")e.push(b[n]);else{var o=h.runFilter(b[n],d,k,j);if(h.isEbvError(o))return o;e.push(o)}if(c==="str")return e[0].token==="literal"?{token:"literal",type:null,value:""+e[0].value}:e[0].token==="uri"?{token:"literal",type:null,value:e[0].value}:h.ebvFalse();else if(c==="lang")return e[0].token==="literal"?e[0].lang!=null?{token:"literal",
value:""+e[0].lang}:{token:"literal",value:""}:h.ebvError();else if(c==="datatype")return e[0].token==="literal"?(d=e[0],d.type!=null?typeof d.type==="string"?{token:"uri",value:d.type,prefix:null,suffix:null}:d.type:d.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:h.ebvError()):h.ebvError();else if(c==="isliteral")return e[0].token==="literal"?h.ebvTrue():h.ebvFalse();else if(c==="isblank")return e[0].token==="blank"?h.ebvTrue():h.ebvFalse();else if(c===
"isuri"||c==="isiri")return e[0].token==="uri"?h.ebvTrue():h.ebvFalse();else if(c==="sameterm")return d=h.RDFTermEquality(e[0],e[1],k,j),h.isEbvError(d)&&(d=!1),h.ebvBoolean(d);else if(c==="langmatches")return d=e[0],e=e[1],d.token==="literal"&&e.token==="literal"?e.value==="*"&&d.value!=""?h.ebvTrue():h.ebvBoolean(d.value.toLowerCase().indexOf(e.value.toLowerCase())===0):h.ebvError();else if(c==="bound")return e=e[0].value,e==null?h.ebvError():d[e]!=null?h.ebvTrue():h.ebvFalse();else throw"Builtin call "+
c+" not implemented yet";};h.runUnaryExpression=function(c,b,d,k,j){b=h.runFilter(b,d,k,j);if(h.isEbvError(b))return b;if(c==="!"){var e=h.ebv(b);return h.isEbvError(e)?h.ebvFalse():h.ebvBoolean(!e)}else if(c==="+")return h.isNumeric(b)?b:h.ebvError();else if(c==="-")if(h.isNumeric(b)){c={};for(e in b)c[e]=b[e];c.value=-c.value;return c}else return h.ebvError()};h.runRegex=function(c,b,d,k,j,e){if(c!=null)c=h.runFilter(c,k,j,e);else return h.ebvError();if(b!=null)b=h.runFilter(b,k,j,e);else return h.ebvError();
d!=null&&(d=h.runFilter(d,k,j,e));if(b!=null&&b.token==="literal"&&(d==null||d.token==="literal"))b=b.value,d=d==null?null:d.value;else return h.ebvError();if(c!=null&&c.token=="var")if(k[c.value]!=null)c=k[c.value];else return h.ebvError();else if(c!=null&&c.token==="literal")if(c.type==null||h.isXsdType("string",c))c=c.value;else return h.ebvError();else return h.ebvError();return(d==null?RegExp(b):RegExp(b,d.toLowerCase())).exec(c)?h.ebvTrue():h.ebvFalse()};h.normalizeLiteralDatatype=function(c,
b,d){if(!(c.value.type==null||typeof c.value.type!="object"))c.value.type=D.lexicalFormBaseUri(c.value.type,d);return c};h.runIriRefOrFunction=function(c,b,d,k,j){if(b==null)return c;else{for(var e=[],n=0;n<b.length;n++)e.push(h.runFilter(b[n],d,k,j));c=D.lexicalFormBaseUri(c,j);if(c=="http://www.w3.org/2001/XMLSchema#integer"||c=="http://www.w3.org/2001/XMLSchema#decimal"||c=="http://www.w3.org/2001/XMLSchema#double"||c=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c=="http://www.w3.org/2001/XMLSchema#negativeInteger"||
c=="http://www.w3.org/2001/XMLSchema#long"||c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#short"||c=="http://www.w3.org/2001/XMLSchema#byte"||c=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(e=
e[0],e.token==="literal")if(e=h.normalizeLiteralDatatype(e,k,j),e.type=="http://www.w3.org/2001/XMLSchema#integer"||e.type=="http://www.w3.org/2001/XMLSchema#decimal"||e.type=="http://www.w3.org/2001/XMLSchema#double"||e.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||e.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||e.type=="http://www.w3.org/2001/XMLSchema#long"||e.type=="http://www.w3.org/2001/XMLSchema#int"||e.type=="http://www.w3.org/2001/XMLSchema#short"||e.type=="http://www.w3.org/2001/XMLSchema#byte"||
e.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||e.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return e.type=c,e;else if(e.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(e)==!0?(e.type=c,e.value=1):(e.type=c,e.value=0),e;else if(e.type==
"http://www.w3.org/2001/XMLSchema#float"||e.type=="http://www.w3.org/2001/XMLSchema#double")return e.type=c,e.value=parseInt(e.value),e;else if(e.type=="http://www.w3.org/2001/XMLSchema#string"||e.type==null){if(e.value.split(".").length>2)return h.ebvError();else if(e.value.split("-").length>2)return h.ebvError();else if(e.value.split("/").length>2)return h.ebvError();else if(e.value.split("+").length>2)return h.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#decimal"&&(e.value.indexOf("e")!=
-1||e.value.indexOf("E")!=-1))return h.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#integer")if(e.value.indexOf("e")!=-1||e.value.indexOf("E")!=-1||e.value.indexOf(".")!=-1)return h.ebvError();try{return e.value=parseInt(parseFloat(e.value)),isNaN(e.value)?h.ebvError():(e.type=c,e)}catch(o){return h.ebvError()}}else return h.ebvError();else return h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#boolean")return e=e[0],e.token==="literal"&&
e.type==null?e.value==="true"||e.value==="1"?h.ebvTrue():e.value==="false"||e.value==="0"?h.ebvFalse():h.ebvError():e.token==="literal"?h.isEbvError(e)?e:h.ebvBoolean(e):h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#string")if(e=e[0],e.token==="literal")if(e=h.normalizeLiteralDatatype(e,k,j),e.type=="http://www.w3.org/2001/XMLSchema#integer"||e.type=="http://www.w3.org/2001/XMLSchema#decimal"||e.type=="http://www.w3.org/2001/XMLSchema#double"||e.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||
e.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||e.type=="http://www.w3.org/2001/XMLSchema#long"||e.type=="http://www.w3.org/2001/XMLSchema#int"||e.type=="http://www.w3.org/2001/XMLSchema#short"||e.type=="http://www.w3.org/2001/XMLSchema#byte"||e.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||e.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||
e.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||e.type=="http://www.w3.org/2001/XMLSchema#float")return e.type=c,e.value=""+e.value,e;else if(e.type=="http://www.w3.org/2001/XMLSchema#string")return e;else if(e.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(e)?(e.type=c,e.value="true"):(e.type=c,e.value="false"),e;else if(e.type=="http://www.w3.org/2001/XMLSchema#dateTime"||e.type=="http://www.w3.org/2001/XMLSchema#date"){e.type=c;if(typeof e.value!="string")e.value=D.iso8601(e.value);
return e}else return e.type==null?(e.value=""+e.value,e.type=c,e):h.ebvError();else return e.token==="uri"?{token:"literal",value:D.lexicalFormBaseUri(e,j),type:c,lang:null}:h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#dateTime"||c=="http://www.w3.org/2001/XMLSchema#date")if(e=e[0],e.type=="http://www.w3.org/2001/XMLSchema#dateTime"||e.type=="http://www.w3.org/2001/XMLSchema#date")return e;else if(e.type=="http://www.w3.org/2001/XMLSchema#string"||e.type==null)try{return e.value=D.iso8601(D.parseStrictISO8601(e.value)),
e.type=c,e}catch(r){return h.ebvError()}else return h.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#float")if(e=e[0],e.token==="literal")if(e=h.normalizeLiteralDatatype(e,k,j),e.type=="http://www.w3.org/2001/XMLSchema#decimal"||e.type=="http://www.w3.org/2001/XMLSchema#int")return e.type=c,e.value=parseFloat(e.value),e;else if(e.type=="http://www.w3.org/2001/XMLSchema#boolean")return h.ebv(e)==!0?(e.type=c,e.value=1):(e.type=c,e.value=0),e;else if(e.type=="http://www.w3.org/2001/XMLSchema#float"||
e.type=="http://www.w3.org/2001/XMLSchema#double")return e.type=c,e.value=parseFloat(e.value),e;else if(e.type=="http://www.w3.org/2001/XMLSchema#string")try{return e.value=parseFloat(e.value),isNaN(e.value)?h.ebvError():(e.type=c,e)}catch(v){return h.ebvError()}else if(e.type==null){if(e.value.split(".").length>2)return h.ebvError();else if(e.value.split("-").length>2)return h.ebvError();else if(e.value.split("/").length>2)return h.ebvError();else if(e.value.split("+").length>2)return h.ebvError();
try{return e.value=parseFloat(e.value),isNaN(e.value)?h.ebvError():(e.type=c,e)}catch(u){return h.ebvError()}}else return h.ebvError();else return h.ebvError();else return h.ebvError()}};var F={orderJoins:function(c){return c},variablesInBGP:function(c){var b=c.variables;if(b)return b;var d=c.value||c,b=[];for(comp in d)d[comp]&&d[comp].token==="var"?b.push(d[comp].value):d[comp]&&d[comp].token==="blank"&&b.push("blank:"+d[comp].label);return c.variables=b},variablesIntersectionBGP:function(c,b){for(var d=
F.variablesInBGP(c).sort(),k=F.variablesInBGP(b).sort(),j=0,e=0,h=[];j<d.length&&e<k.length;)d[j]===k[e]?(h.push(d[j]),j++,e++):d[j]<k[e]?j++:e++;return h}};F.executeAndBGPs=function(c,b,d,k){c=D.partition(c,2);return F.buildBushyJoinTreeBase(c,b,d,k)};F.buildBushyJoinTreeBase=function(c,b,d,k){for(var j=[],e=0;e<c.length;e++){var h=c[e];results=F.executeAndBGP(h[0],h[1],b,d,k);if(results!=null)j.push(results);else return null}return F.buildBushyJoinTreeBranches(j)};F.buildBushyJoinTreeBranches=function(c){if(c.length===
1)return c[0];else{for(var c=D.partition(c,2),b=[],d=0;d<c.length;d++){var k=c[d],k=F.executeAndBindings(k[0],k[1]);b.push(k)}return F.buildBushyJoinTreeBranches(b)}};F.executeAndBindings=function(c,b){return c==null?b:b==null?c:c==[]||b==[]?[]:F.variablesIntersectionBindings(c[0],b[0]).length==0?F.crossProductBindings(c,b):F.joinBindings(c,b)};F.executeAndBGP=function(c,b,d,k,j){if(c==null)return F.executeEmptyJoinBGP(b,d,k,j);else if(b==null)return F.executeEmptyJoinBGP(c,d,k,j);else{var e=F.variablesIntersectionBGP(c,
b);return e.length===0?F.executeCrossProductBGP(e,c,b,d,k,j):F.executeJoinBGP(e,c,b,d,k,j)}};F.executeEmptyJoinBGP=function(c,b,d,k){return F.executeBGPDatasets(c,b,d,k)};F.executeJoinBGP=function(c,b,d,k,j,e){c=F.executeBGPDatasets(b,k,j,e);return c!=null?(d=F.executeBGPDatasets(d,k,j,e),d!=null?F.joinBindings(c,d):null):null};F.executeBGPDatasets=function(c,b,d,k){var j={};if(c.graph==null){for(var e=[],h=0;h<b["default"].length;h++)if(j[b["default"][h].oid]==null){j[b["default"][h].oid]=!0;c.graph=
b["default"][h];var o=d.rangeQuery(c,k),o=F.buildBindingsFromRange(o,c);e.push(o)}return c=F.unionManyBindings(e)}else if(c.graph.token==="var"){for(var r=c.graph.value,e=[],h=0;h<b.named.length;h++)if(j[b.named[h].oid]==null)if(j[b.named[h].oid]=!0,c.graph=b.named[h],o=d.rangeQuery(c,k),o!=null){for(var o=F.buildBindingsFromRange(o,c),v=0;v<o.length;v++)o[v][r]=b.named[h].oid;e.push(o)}else return null;return c=F.unionManyBindings(e||[])}else return o=d.rangeQuery(c,k),o!=null?o=F.buildBindingsFromRange(o,
c):null};F.executeCrossProductBGP=function(c,b,d,k,j,e){c=F.executeBGPDatasets(b,k,j,e);return c!=null?(d=F.executeBGPDatasets(d,k,j,e),d!=null?F.crossProductBindings(c,d):null):null};F.buildBindingsFromRange=function(c,b){F.variablesInBGP(b);var d={},k=b.value||b,d={};for(o in k)k[o]&&k[o].token==="var"?d[o]=k[o].value:k[o]&&k[o].token==="blank"&&(d[o]="blank:"+k[o].label);for(var k=[],j=0;j<c.length;j++){var e={},h=c[j],o;for(o in d)e[d[o]]=h[o];k.push(e)}return k};F.variablesIntersectionBindings=
function(c,b){var d=0,k=0,j=[],e=[],h;for(h in c)j.push(h);for(h in b)e.push(h);j.sort();e.sort();for(h=[];d<j.length&&k<e.length;)j[d]===e[k]?(h.push(j[d]),d++,k++):j[d]<e[k]?d++:k++;return h};F.areCompatibleBindings=function(c,b){for(var d in c)if(b[d]!=null&&b[d]!=c[d])return!1;return!0};F.mergeBindings=function(c,b){var d={},k;for(k in c)d[k]=c[k];for(k in b)d[k]=b[k];return d};F.joinBindings=function(c,b){for(var d=[],k=0;k<c.length;k++)for(var j=c[k],e=0;e<b.length;e++){var h=b[e];F.areCompatibleBindings(j,
h)&&d.push(F.mergeBindings(j,h))}return d};F.augmentMissingBindings=function(c,b){for(var d in b)c[d]==null&&(c[d]=null);return c};F.leftOuterJoinBindings=function(c,b){for(var d=[],k=0;k<c.length;k++){for(var j=c[k],e=!1,h=0;h<b.length;h++){var o=b[h];F.areCompatibleBindings(j,o)&&(e=!0,d.push(F.mergeBindings(j,o)))}e===!1&&(F.augmentMissingBindings(j,o),d.push(j))}return d};F.crossProductBindings=function(c,b){for(var d=[],k=0;k<c.length;k++)for(var j=c[k],e=0;e<b.length;e++)d.push(F.mergeBindings(j,
b[e]));return d};F.unionBindings=function(c,b){return c.concat(b)};F.unionManyBindings=function(c){for(var b=[],d=0;d<c.length;d++)b=F.unionBindings(b,c[d]);return b};var H={QueryEngine:function(c){if(arguments.length!=0)this.backend=c.backend,this.lexicon=c.lexicon,this.abstractQueryTree=new S.AbstractQueryTree,this.rdfLoader=new ea.RDFLoader(c.communication),this.callbacksBackend=new G.CallbacksBackend(this)}};H.QueryEngine.prototype.registerNsInEnvironment=function(c,b){for(var d=c.prefixes,k=
{},j=0;j<d.length;j++){var e=d[j];if(e.token==="prefix")k[e.prefix]=e.local}b.namespaces=k;b.base=c.base&&typeof c.base==="object"?c.base.value:null};H.QueryEngine.prototype.applyModifier=function(c,b){if(c=="DISTINCT"){for(var d={},k=[],j=0;j<b.length;j++){var e=b[j],h="",o;for(o in e){var r=e[o];r==null?h=h+o+"null":r.token=="literal"?(r.value!=null&&(h+=r.value),r.lang!=null&&(h+=r.lang),r.type!=null&&(h+=r.type)):h=r.value?h+o+r.value:h+o+r}d[h]==null&&(k.push(e),d[h]=!0)}return k}else return b};
H.QueryEngine.prototype.applyLimitOffset=function(c,b,d){if(b==null&&c==null)return d;c==null&&(c=0);b=b==null?d.length:c+b;return d.slice(c,b)};H.QueryEngine.prototype.applySingleOrderBy=function(c,b,d){for(var k=[],j=0;j<c.length;j++){var e=h.collect(c[j].expression,[b],d,this);k.push(e[0].value)}return{binding:b,value:k}};H.QueryEngine.prototype.applyOrderBy=function(c,b,d){var k=this,j=[];if(c!=null&&c.length>0){for(var e=0;e<b.length;e++){var h=k.applySingleOrderBy(c,b[e],d);j.push(h)}j.sort(function(b,
e){return k.compareFilteredBindings(b,e,c,d)});b=[];for(e=0;e<j.length;e++)b.push(j[e].binding)}return b};H.QueryEngine.prototype.compareFilteredBindings=function(c,b,d,k){for(var j=0;;){if(j==c.value.length)return 0;var e=d[j].direction;if(c.value[j]==null&&b.value[j]==null)j++;else{if(c.value[j]==null)c={value:!1};else if(b.value[j]==null)c={value:!0};else if(c.value[j].token==="blank"&&b.value[j].token==="blank"){j++;continue}else if(c.value[j].token==="blank")c={value:!1};else if(b.value[j].token===
"blank")c={value:!0};else if(c.value[j].token==="uri"&&b.value[j].token==="uri")if(h.runEqualityFunction(c.value[j],b.value[j],[],this,k).value==!0){j++;continue}else c=h.runTotalGtFunction(c.value[j],b.value[j],[]);else if(c.value[j].token==="uri")c={value:!1};else if(b.value[j].token==="uri")c={value:!0};else if(c.value[j].token==="literal"&&b.value[j].token==="literal"&&c.value[j].type==null&&b.value[j].type==null)if(h.runEqualityFunction(c.value[j],b.value[j],[],this,k).value==!0){j++;continue}else c=
h.runTotalGtFunction(c.value[j],b.value[j],[]);else if(c.value[j].token==="literal"&&c.value[j].type==null)c={value:!1};else if(b.value[j].token==="literal"&&b.value[j].type==null)c={value:!0};else if(h.runEqualityFunction(c.value[j],b.value[j],[],this,k).value==!0){j++;continue}else c=h.runTotalGtFunction(c.value[j],b.value[j],[]);return c.value==!0?e==="ASC"?1:-1:e==="ASC"?-1:1}}};H.QueryEngine.prototype.removeDefaultGraphBindings=function(c,b){for(var d=[],k={},j=0;j<b.named.length;j++)k[b.named[j].oid]=
!0;for(j=0;j<b["default"].length;j++)k[b["default"][j].oid]==null&&d.push(b["default"][j].oid);d=[];for(j=0;j<c.length;j++){var e=c[j],h=!1,o;for(o in e){for(var r=0;r<k.length;r++)if(e[o]===k[r]){h=!0;break}if(h)break}h||d.push(e)}return d};H.QueryEngine.prototype.aggregateBindings=function(c,b,d){for(var b=this.copyDenormalizedBindings(b,d.outCache),k={},j=0;j<c.length;j++){var e=h.runAggregator(c[j],b,this,d);c[j].alias?k[c[j].alias.value]=e:k[c[j].value.value]=e}return k};H.QueryEngine.prototype.projectBindings=
function(c,b){if(c[0].kind==="*")return b;else{for(var d=[],k=0;k<b.length;k++){for(var j=b[k],e={},n=!0,o=0;o<c.length;o++)if(c[o].token=="variable"&&c[o].kind!="aliased")e[c[o].value.value]=j[c[o].value.value];else if(c[o].token=="variable"&&c[o].kind=="aliased"){var r=h.runFilter(c[o].expression,j,this,{blanks:{},outCache:{}});if(h.isEbvError(r)){n=!1;break}else e[c[o].alias.value]=r}n===!0&&d.push(e)}return d}};H.QueryEngine.prototype.resolveNsInEnvironment=function(c,b){return b.namespaces[c]};
H.QueryEngine.prototype.normalizeTerm=function(c,b,d){if(c.token==="uri")return b=D.lexicalFormBaseUri(c,b),b==null?null:d?this.lexicon.registerUri(b):this.lexicon.resolveUri(b);else if(c.token==="literal")return b=D.lexicalFormLiteral(c,b),c=d?this.lexicon.registerLiteral(b):this.lexicon.resolveLiteral(b);else if(c.token==="blank"){var k=c.label,c=b.blanks[k];c==null&&(c=d?this.lexicon.registerBlank(k):this.lexicon.resolveBlank(k),b.blanks[k]=c);return c}else return c.token==="var"?c.value:null};
H.QueryEngine.prototype.normalizeDatasets=function(c,b){for(var d=0;d<c.length;d++){var k=c[d];if(k.value===this.lexicon.defaultGraphUri)k.oid=this.lexicon.defaultGraphOid;else{var j=this.normalizeTerm(k,b,!1);if(result!=null)k.oid=j;else return null}}return!0};H.QueryEngine.prototype.normalizeQuad=function(c,b,d){var k=null,j=null,e=k=null,h;if(c.graph==null)e=0;else if(h=this.normalizeTerm(c.graph,b,d),h!=null)e=h,d===!0&&c.graph.token!="var"&&this.lexicon.registerGraph(h);else return null;h=this.normalizeTerm(c.subject,
b,d);if(h!=null)k=h;else return null;h=this.normalizeTerm(c.predicate,b,d);if(h!=null)j=h;else return null;h=this.normalizeTerm(c.object,b,d);return h==null?null:{subject:k,predicate:j,object:h,graph:e}};H.QueryEngine.prototype.denormalizeBindingsList=function(c,b){for(var d=[],k=0;k<c.length;k++)result=this.denormalizeBindings(c[k],b),d.push(result);return d};H.QueryEngine.prototype.copyDenormalizedBindings=function(c,b){for(var d=[],k=0;k<c.length;k++){for(var j={},e=c[k],h=D.keys(e),o=0;o<h.length;o++){var r=
e[h[o]];if(r==null)j[h[o]]=null;else if(typeof r==="object")j[h[o]]=r;else{var v=b[r];v==null&&(v=this.lexicon.retrieve(r),b[r]=v);j[h[o]]=v}}d.push(j)}return d};H.QueryEngine.prototype.denormalizeBindings=function(c,b){for(var d=D.keys(c),k=0;k<d.length;k++){var j=c[d[k]];j==null?c[d[k]]=null:b[j]!=null?c[d[k]]=b[j]:(j=this.lexicon.retrieve(j),c[d[k]]=j)}return c};H.QueryEngine.prototype.execute=function(c,b,d,k){try{var c=D.normalizeUnicodeLiterals(c),j=this.abstractQueryTree.parseQueryString(c);
if(j==null)b(!1,"Error parsing query string");else if(j.token==="query"&&j.kind=="update"){this.callbacksBackend.startGraphModification();var e=this;this.executeUpdate(j,function(c,d){c?e.callbacksBackend.endGraphModification(function(){b(c,d)}):(e.callbacksBackend.cancelGraphModification(),b(c,d))})}else j.token==="query"&&j.kind=="query"&&this.executeQuery(j,b,d,k)}catch(h){h.name&&h.name==="SyntaxError"?b(!1,"Syntax error: \nmessage:"+h.message+"\nline "+h.line+", column:"+h.column):b(!1,"Query execution error")}};
H.QueryEngine.prototype.executeQuery=function(c,b,d,k){var j=c.units,e=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,h);var o=e.abstractQueryTree.parseExecutableUnit(j[0]);if(o.kind==="select")this.executeSelect(o,h,d,k,function(c,d){c?typeof d==="object"&&d.denorm===!0?b(!0,d.bindings):(d=e.denormalizeBindingsList(d,h.outCache),d!=null?b(!0,d):b(!1,d)):b(!1,d)});else if(o.kind==="ask")o.projection=[{token:"variable",kind:"*"}],this.executeSelect(o,h,d,k,function(c,d){c?c?
d.length>0?b(!0,!0):b(!0,!1):b(!1,d):b(!1,d)});else if(o.kind==="construct")o.projection=[{token:"variable",kind:"*"}],e=this,this.executeSelect(o,h,d,k,function(c,d){if(c)if(c)if(d=e.denormalizeBindingsList(d,h.outCache),d!=null){var j=new w.Graph;if(o.template==null)o.template={triplesContext:o.pattern};for(var k=1,D=0;D<d.length;D++)for(var F=d[D],G={},H=0;H<o.template.triplesContext.length;H++){for(var I=["subject","predicate","object"],K=o.template.triplesContext[H],L=0;L<I.length;L++){var O=
I[L];if(K[O].token==="blank")if(G[K[O].value]!=null)K[O].value=G[K[O].value];else{var S="_:b"+k;k++;G[K[O].value]=S;K[O].value=S}}I=w.buildRDFResource(K.subject,F,e,h);L=w.buildRDFResource(K.predicate,F,e,h);K=w.buildRDFResource(K.object,F,e,h);I!=null&&L!=null&&K!=null&&(L=new w.Triple(I,L,K),j.add(L))}b(!0,j)}else b(!1,d);else b(!1,d);else b(!1,d)})};H.QueryEngine.prototype.executeSelect=function(c,b,d,k,j){if(c.kind==="select"||c.kind==="ask"||c.kind==="construct"||c.kind==="modify"){var e=c.projection,
h=c.dataset,o=c.modifier,r=c.limit,v=c.offset,u=c.order;if(d!=null||k!=null)h["default"]=d||[],h.named=k||[];h["default"]!=null&&h["default"].length===0&&h.named!=null&&h.named.length===0&&h["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(h["default"].concat(h.named),b)!=null)if(k=this.executeSelectUnit(e,h,c.pattern,b),k!=null){if(c.group!=null&&c.group===""){for(var w=!1,d=0;d<c.projection.length;d++)if(c.projection[d].expression!=null&&c.projection[d].expression.expressionType===
"aggregate"){w=!0;break}if(w===!0)c.group="singleGroup"}if(c.group&&c.group!="")if(this.checkGroupSemantics(c.group,e)){h=this.groupSolution(k,c.group,b);o=[];for(d=0;d<h.length;d++)r=this.aggregateBindings(e,h[d],b),o.push(r);j(!0,{bindings:o,denorm:!0})}else j(!1,"Incompatible Group and Projection variables");else b=this.applyOrderBy(u,k,b),e=this.projectBindings(e,b),modifiedBindings=this.applyModifier(o,e),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(v,r,modifiedBindings),
h),j(!0,filteredBindings)}else console.log("ERROR selectUnit"),j(!1,k);else console.log("ERROR normalizing"),j(!1,results)}else j(!1,"Cannot execute "+c.kind+" query as a select query")};H.QueryEngine.prototype.groupSolution=function(c,b,d){var k=[],j=[],e=!1;if(b==="singleGroup")return[c];else{for(var n=0;n<c.length;n++){for(var o=c[n],r=!0,v=0;v<b.length;v++){var u=b[v],w=null;if(u.token==="var")w=u.value,e==!1&&k.push(w);else if(u.token==="aliased_expression")if(w=u.alias.value,e==!1&&k.push(w),
u.expression.primaryexpression==="var")o[u.alias.value]=o[u.expression.value.value];else if(w=this.copyDenormalizedBindings([o],d.outCache),w=h.runFilter(u.expression,w[0],this,d),h.isEbvError(w))r=!1;else{if(w.value!=null)w.value=""+w.value;o[u.alias.value]=w}else w=this.copyDenormalizedBindings([o],d.outCache),w=h.runFilter(u,w[0],this,d),h.isEbvError(w)?r=!1:(o["groupCondition"+env._i]=w,w="groupCondition"+env._i,e==!1&&k.push(w))}e==!1&&(e=!0);r===!0&&j.push(o)}c={};for(n=0;n<j.length;n++){b=
j[n];d="";for(v=0;v<k.length;v++)e=b[k[v]],d+=typeof e==="object"?e.value:e;c[d]==null?c[d]=[b]:c[d].push(b)}var k=[],D;for(D in c)k.push(c[D]);return k}};H.QueryEngine.prototype.executeSelectUnit=function(c,b,d,k){return d.kind==="BGP"?this.executeAndBGP(c,b,d,k):d.kind==="UNION"?this.executeUNION(c,b,d.value,k):d.kind==="JOIN"?this.executeJOIN(c,b,d,k):d.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(c,b,d,k):d.kind==="FILTER"?(c=this.executeSelectUnit(c,b,d.value,k),c!=null?c=h.checkFilters(d,c,!1,k,
this):[]):d.kind==="EMPTY_PATTERN"?[]:(console.log("Cannot execute query pattern "+d.kind+". Not implemented yet."),null)};H.QueryEngine.prototype.executeUNION=function(c,b,d,k){var j=d[0],e=d[1],n=null,o=null;if(d.length!=2)throw"SPARQL algebra UNION with more than two components";n=this.executeSelectUnit(c,b,j,k);if(n==null)return null;o=this.executeSelectUnit(c,b,e,k);if(o==null)return null;c=F.unionBindings(n,o);return c=h.checkFilters(d,c,!1,k,this)};H.QueryEngine.prototype.executeAndBGP=function(c,
b,d,k){c=F.executeAndBGPs(d.value,b,this,k);return c!=null?h.checkFilters(d,c,!1,k,this):null};H.QueryEngine.prototype.executeLEFT_JOIN=function(c,b,d,k){var j=d.rvalue,e=null,n=null,e=this.executeSelectUnit(c,b,d.lvalue,k);if(e==null)return null;n=this.executeSelectUnit(c,b,j,k);if(n==null)return null;c=F.leftOuterJoinBindings(e,n);d=h.checkFilters(d,c,!0,k,this);if(e.length>1&&n.length>1){var k=[],c={},o;for(o in e[0])c[o]=!0;for(o in n[0])c[o]!=!0&&k.push(o);acum=[];duplicates={};for(e=0;e<d.length;e++)if(d[e].__nullify__===
!0){for(c=0;c<k.length;c++)d[e].bindings[k[c]]=null;c=[];n=[];for(o in d[e].bindings)d[e].bindings[o]!=null&&(c.push(o+d[e].bindings[o]),c.sort(),n.push(c.join("")));if(duplicates[c.join("")]==null){for(c=0;c<n.length;c++)duplicates[n[c]]=!0;acum.push(d[e].bindings)}}else for(o in acum.push(d[e]),c=[],d[e])c.push(o+d[e][o]),c.sort(),duplicates[c.join("")]=!0;return acum}else return d};H.QueryEngine.prototype.executeJOIN=function(c,b,d,k){var j=d.rvalue,e=null,n=null,e=this.executeSelectUnit(c,b,d.lvalue,
k);if(e==null)return null;n=this.executeSelectUnit(c,b,j,k);if(n==null)return null;c=F.joinBindings(e,n);return c=h.checkFilters(d,c,!1,k,this)};H.QueryEngine.prototype.rangeQuery=function(c,b){var d=this.normalizeQuad(c,b,!1);return d!=null?(d=this.backend.range(new X.Pattern(d)),d==null||d.length==0?[]:d):(console.log("ERROR normalizing quad"),null)};H.QueryEngine.prototype.executeUpdate=function(c,b){var d=c.units,k=this,j={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,j);for(var e=
0;e<d.length;e++){var h=k.abstractQueryTree.parseExecutableUnit(d[e]);if(h.kind==="insertdata"){for(var o=0;o<h.quads.length;o++){var r=h.quads[o];if(k._executeQuadInsert(r,j)!==!0)return b(!1,error)}b(!0)}else if(h.kind==="deletedata"){for(o=0;o<h.quads.length;o++)r=h.quads[o],this._executeQuadDelete(r,j);b(!0)}else if(h.kind==="modify")this._executeModifyQuery(h,j,b);else if(h.kind==="create")b(!0);else if(h.kind==="load")o={uri:D.lexicalFormBaseUri(h.sourceGraph,j)},h.destinyGraph!=null&&(o={uri:D.lexicalFormBaseUri(h.destinyGraph,
j)}),k=this,this.rdfLoader.load(h.sourceGraph.value,o,function(c,d){c==!1?(console.log("Error loading graph"),console.log(d)):(d=k.batchLoad(d),b(d!=null,d||"error batch loading quads"))});else if(h.kind==="drop")this._executeClearGraph(h.destinyGraph,j,b);else if(h.kind==="clear")this._executeClearGraph(h.destinyGraph,j,b);else throw Error("not supported execution unit");}};H.QueryEngine.prototype.batchLoad=function(c,b){for(var d=null,k=null,j=null,e=null,h=0,o=!0,r={},v,u,w=0;w<c.length;w++)if(u=
c[w],u.subject.uri||u.subject.token==="uri"?d=v=this.lexicon.registerUri(u.subject.uri||u.subject.value):u.subject.literal||u.subject.token==="literal"?d=v=this.lexicon.registerLiteral(u.subject.literal||u.subject.value):(e=r[u.subject.blank||u.subject.value],e==null&&(e=this.lexicon.registerBlank(u.subject.blank||u.subject.value),r[u.subject.blank||u.subject.value]=e),d=e),u.predicate.uri||u.predicate.token==="uri"?v=this.lexicon.registerUri(u.predicate.uri||u.predicate.value):u.predicate.literal||
u.predicate.token==="literal"?v=this.lexicon.registerLiteral(u.predicate.literal||u.predicate.value):(e=r[u.predicate.blank||u.predicate.value],e==null&&(e=this.lexicon.registerBlank(u.predicate.blank||u.predicate.value),r[u.predicate.blank||u.predicate.value]=e)),k=v,u.object.uri||u.object.token==="uri"?v=this.lexicon.registerUri(u.object.uri||u.object.value):u.object.literal||u.object.token==="literal"?v=this.lexicon.registerLiteral(u.object.literal||u.object.value):(e=r[u.object.blank||u.object.value],
e==null&&(e=this.lexicon.registerBlank(u.object.blank||u.object.value),r[u.object.blank||u.object.value]=e)),j=v,u.graph.uri||u.graph.token==="uri"?(v=this.lexicon.registerUri(u.graph.uri||u.graph.value),this.lexicon.registerGraph(v)):u.graph.literal||u.graph.token==="literal"?v=this.lexicon.registerLiteral(u.graph.literal||u.graph.value):(e=r[u.graph.blank||u.graph.value],e==null&&(e=this.lexicon.registerBlank(u.graph.blank||u.graph.value),r[u.graph.blank||u.graph.value]=e)),e=v,u={subject:d,predicate:k,
object:j,graph:e},d=new X.NodeKey(u),this.backend.index(d)==!0)h+=1;else{o=!1;break}return o?(b&&b(!0,h),h):(b&&b(!1,null),null)};H.QueryEngine.prototype._executeModifyQuery=function(c,b,d){var k=this,j=!0,e=null,h=["subject","predicate","object","graph"];c.insert=c.insert==null?[]:c.insert;c["delete"]=c["delete"]==null?[]:c["delete"];D.seq(function(d){var h=[],n=[];c["with"]!=null&&h.push(c["with"]);if(c.using!=null)for(var n=[],u=0;u<c.using.length;u++){var w=c.using[u];w.kind==="named"?n.push(w.uri):
h.push(w.uri)}c.dataset={};c.projection=[{token:"variable",kind:"*"}];k.executeSelect(c,b,h,n,function(c,h){c?(h=k.denormalizeBindingsList(h,b.outCache),h!=null?e=h:j=!1):j=!1;return d()})},function(d){var r=c["with"];if(j){for(var v=[],u=0;u<c["delete"].length;u++)for(var w=c["delete"][u],D=0;D<e.length;D++){for(var F={},G=e[D],H=0;H<h.length;H++){var I=h[H];I=="graph"&&w[I]==null?F.graph=r:F[I]=w[I].token==="var"?G[w[I].value]:w[I]}v.push(F)}for(D=0;D<v.length;D++)F=v[D],k._executeQuadDelete(F,
b)}d()},function(d){var r=c["with"];if(j){for(var v=[],u=0;u<c.insert.length;u++)for(var w=c.insert[u],D=0;D<e.length;D++){for(var F={},G=e[D],I=0;I<h.length;I++){var H=h[I];H=="graph"&&w[H]==null?F.graph=r:F[H]=w[H].token==="var"?G[w[H].value]:w[H]}v.push(F)}for(u=0;u<v.length;u++)F=v[u],k._executeQuadInsert(F,b)}d()})(function(){d(j)})};H.QueryEngine.prototype._executeQuadInsert=function(c,b){var d=this.normalizeQuad(c,b,!0);if(d!=null){var k=new X.NodeKey(d),j=this.backend.search(k);return j?j:
(j=this.backend.index(k),j==!0?(this.callbacksBackend.nextGraphModification(G.added,[c,d]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),!1};H.QueryEngine.prototype._executeQuadDelete=function(c,b){var d=this.normalizeQuad(c,b,!1);if(d!=null){var k=new X.NodeKey(d);this.backend["delete"](k);return this.lexicon.unregister(c,k)==!0?(this.callbacksBackend.nextGraphModification(G.deleted,[c,d]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),
!1};H.QueryEngine.prototype._executeClearGraph=function(c,b,d){if(c==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d);else if(c==="named"){var k=this,j=this.lexicon.registeredGraphs(!0);if(j!=null){var e=!1;D.repeat(0,j.length,function(b,c){var d=j[c._i],h=arguments.callee;e?b(h,c):k.execute("DELETE { GRAPH <"+d+"> { ?s ?p ?o } } WHERE { GRAPH <"+d+"> { ?s ?p ?o } }",function(d){e=!d;b(h,c)})},function(){d(!e)})}else d(!1,"Error deleting named graphs")}else c==="all"?(k=this,this.execute("CLEAR DEFAULT",
function(b,c){b?k.execute("CLEAR NAMED",d):d(!1,c)})):c.token=="uri"?(c=D.lexicalFormBaseUri(c,b),c!=null?this.execute("DELETE { GRAPH <"+c+"> { ?s ?p ?o } } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",d):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};H.QueryEngine.prototype.checkGroupSemantics=function(c,b){if(c==="singleGroup")return!0;for(var d={},k=0;k<c.length;k++){var j=c[k];j.token==="var"?d[j.value]=!0:j.token==="aliased_expression"&&(d[j.alias.value]=!0)}for(k=0;k<b.length;k++)if(j=b[k],j.kind===
"var"){if(d[j.value.value]==null)return!1}else if(j.kind==="aliased"&&j.expression&&j.expression.primaryexpression==="var"&&d[j.expression.value.value]==null)return!1;return!0};var G={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(c){this.aqt=new S.AbstractQueryTree;this.engine=c;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=
[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap=
{};this.queriesInverseMap={};for(c=0;c<this.indices.length;c++){var b=this.indices[c];this.indexMap[b]={};this.queriesIndexMap[b]={}}}};G.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};G.CallbacksBackend.prototype.nextGraphModification=function(c,b){this.updateInProgress[c].push(b)};G.CallbacksBackend.prototype.endGraphModification=function(c){var b=
this;if(this.updateInProgress!=null){var d=b.updateInProgress;b.updateInProgress=null;this.sendNotification(G.deleted,d[G.deleted],function(){b.sendNotification(G.added,d[G.added],function(){b.sendEmptyNotification(G.eventsFlushed,null,function(){b.dispatchQueries(function(){c(!0)})})})})}else c(!0)};G.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};G.CallbacksBackend.prototype.sendNotification=function(c,b,d){for(var k={},j=0;j<b.length;j++){var e=b[j],h;
for(h in this.indexMap){var o=this.indexMap[h],r=this.componentOrders[h];this._searchCallbacksInIndex(o,r,c,e,k);this.pendingQueries.length!=0&&(o=this.queriesIndexMap[h],this._searchQueriesInIndex(o,r,e))}}this.dispatchNotifications(k);d!=null&&d(!0)};G.CallbacksBackend.prototype.sendEmptyNotification=function(c,b,d){for(var k=this.emptyNotificationsMap[c]||[],j=0;j<k.length;j++)k[j](c,b);d()};G.CallbacksBackend.prototype.dispatchNotifications=function(c){for(var b in c){var d=this.callbacksMap[b],
k=c[b][G.deleted];k!=null&&d(G.deleted,k);for(var j in c[b])j!=G.deleted&&d(j,c[b][j])}};G.CallbacksBackend.prototype._searchCallbacksInIndex=function(c,b,d,k,j){for(var e=k[1],k=k[0],h=0;h<b.length+1;h++){for(var o=c._||[],r=[],v=0;v<o.length;v++){var u=o[v];this.callbacksMap[u]!=null&&(j[u]=j[u]||{},j[u][d]=j[u][d]||[],j[u][d].push(k),r.push(u))}c._=r;o=b[h];if(c[""+e[o]]!=null)c=c[""+e[o]];else break}};G.CallbacksBackend.prototype.subscribeEmpty=function(c,b){var d=this.emptyNotificationsMap[c]||
[];d.push(b);this.emptyNotificationsMap[c]=d};G.CallbacksBackend.prototype.unsubscribeEmpty=function(c,b){var d=this.emptyNotificationsMap[c];d!=null&&(d=D.remove(d,b));this.emptyNotificationsMap[c]=d};G.CallbacksBackend.prototype.subscribe=function(c,b,d,k,j,e){c=this.engine.normalizeQuad(this._tokenizeComponents(c,b,d,k),{blanks:{},outCache:{}},!0);d=this._indexForPattern(new X.Pattern(c));b=this.componentOrders[d];d=this.indexMap[d];for(k=0;k<b.length;k++){var h=c[b[k]];if(h==="_"){d._==null&&
(d._=[]);this.callbackCounter++;d._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=j;this.callbacksInverseMap[j]=this.callbackCounter;break}else k===b.length-1?(d[h]=d[h]||{_:[]},this.callbackCounter++,d[h]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=j,this.callbacksInverseMap[j]=this.callbackCounter):(d[h]=d[h]||{},d=d[h])}e!=null&&e(!0)};G.CallbacksBackend.prototype.unsubscribe=function(c){var b=this.callbacksInverseMap[c];b!=null&&(delete this.callbacksInverseMap[c],
delete this.callbacksMap[b])};G.CallbacksBackend.prototype._tokenizeComponents=function(c,b,d,h){var j={};c==null?j.subject=G.ANYTHING:c.indexOf("_:")==0?(console.log("BLANK!!"),j.subject={token:"blank",value:c}):j.subject={token:"uri",value:c};j.predicate=b==null?G.ANYTHING:{token:"uri",value:b};j.object=d==null?G.ANYTHING:{token:"uri",value:d};j.graph=h==null?G.ANYTHING:{token:"uri",value:h};return j};G.CallbacksBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,
d=0;d<b.length;d++)for(var h=b[d],j=this.componentOrders[h],e=0;e<j.length;e++){if(D.include(c,j[e])===!1)break;if(e==c.length-1)return h}return"SPOG"};G.CallbacksBackend.prototype.observeNode=function(){var c,b,d,h;arguments.length===4?(c=arguments[0],b=arguments[1],d=arguments[2],h=arguments[3]):(c=arguments[0],b=this.engine.lexicon.defaultGraphUri,d=arguments[1],h=arguments[2]);var j=this,e={blanks:{},outCache:{}},n=[];this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+
c+"> ?p ?o } }",function(b,r){if(b){var v=!1,u=function(b,c){if(b==="eventsFlushed"&&v)v=!1,d(r);else if(b!=="eventsFlushed"){v=!0;for(var h=0;h<c.length;h++){var k=c[h],o=w.buildRDFResource(k.subject,n,j.engine,e),u=w.buildRDFResource(k.predicate,n,j.engine,e),k=w.buildRDFResource(k.object,n,j.engine,e);o!=null&&u!=null&&k!=null&&(k=new w.Triple(o,u,k),b===G.added?r.add(k):b===G.deleted&&r.remove(k))}}};j.observersMap[d]=u;j.subscribeEmpty(G.eventsFlushed,u);j.subscribe(c,null,null,null,u,function(){d(r);
h&&h(!0)})}else h&&h(!1)})};G.CallbacksBackend.prototype.stopObservingNode=function(c){return(c=this.observersMap[c])?(this.unsubscribe(c),this.unsubscribeEmpty(G.eventsFlushed,c),!0):!1};G.CallbacksBackend.prototype.observeQuery=function(c,b,d){var h=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(c).units[0])),j={blanks:{},outCache:{}},e,n,o,r=this.queryCounter;this.queryCounter++;this.queriesMap[r]=c;this.queriesInverseMap[c]=r;this.queriesList.push(r);this.queriesCallbacksMap[r]=
b;for(var v=0;v<h.length;v++){n=h[v];if(n.graph==null)n.graph=this.engine.lexicon.defaultGraphUriTerm;n=this.engine.normalizeQuad(n,j,!0);e=new X.Pattern(n);o=this._indexForPattern(e);e=this.componentOrders[o];o=this.queriesIndexMap[o];for(v=0;v<e.length;v++){var u=n[e[v]];if(typeof u==="string"){o._==null&&(o._=[]);o._.push(r);break}else v===e.length-1?(o[u]=o[u]||{_:[]},o[u]._.push(r)):(o[u]=o[u]||{},o=o[u])}}this.engine.execute(c,function(c,d){c?b(d):console.log("ERROR in query callback "+d)});
d!=null&&d()};G.CallbacksBackend.prototype.stopObservingQuery=function(c){var b=this.queriesInverseMap[c];if(b!=null)delete this.queriesInverseMap[c],delete this.queriesMap[b],this.queriesList=D.remove(this.queriesList,b)};G.CallbacksBackend.prototype._searchQueriesInIndex=function(c,b,d){for(var d=d[1],h=0;h<b.length+1;h++){for(var j=c._||[],e=[],n=0;n<j.length;n++){var o=j[n];D.include(this.pendingQueries,o)&&(D.remove(this.pendingQueries,o),this.matchedQueries.push(o));this.queriesMap[o]!=null&&
e.push(o)}c._=e;j=b[h];if(c[""+d[j]]!=null)c=c[""+d[j]];else break}};G.CallbacksBackend.prototype.dispatchQueries=function(c){var b=this,d,h,j,e;D.repeat(0,this.matchedQueries.length,function(c,o){d=arguments.callee;j=b.matchedQueries[o._i];h=b.queriesMap[j];e=b.queriesCallbacksMap[j];D.recur(function(){b.engine.execute(h,function(b,h){b?e(h):console.log("ERROR executing query callback "+h);c(d,o)})})},function(){c()})};var K={VERSION:"0.3.3"};K.create=function(){return arguments.length==1?new K.Store(arguments[0]):
arguments.length==2?new K.Store(arguments[0],arguments[1]):new K.Store};K.Store=function(c,b){var d=null,h=null;if(arguments.length==0)h={};else if(arguments.length==1)h={},d=c;else if(arguments.length>1)h=c,d=b;else throw"An optional argument map and a callback must be provided";h.treeOrder==null&&(h.treeOrder=15);this.rdf=w.rdf;this.functionMap={};var j=this;new O.Lexicon(function(b){new ca.QuadBackend(h,function(c){h.backend=c;h.lexicon=b;j.engine=new H.QueryEngine(h);d&&d(j)})})};K.Store.prototype.execute=
function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);this.engine.execute(c,b)}};K.Store.prototype.executeWithEnvironment=function(){var c,b,d,h;arguments.length===3?(c=arguments[0],b=function(){},d=arguments[1],h=arguments[2]):
arguments.length===4&&(c=arguments[0],b=arguments[3],d=arguments[1],h=arguments[2]);this.engine.execute(c,b,d,h)};K.Store.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+
c+"> { ?s ?p ?o } }",b)};K.Store.prototype.node=function(){var c=null,b=null,d=null;if(arguments.length===2)d=arguments[0],b=arguments[1]||function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===3)d=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.rdf.resolve(d)!=null&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+"> ?p ?o } WHERE { GRAPH <"+
c+"> { <"+d+"> ?p ?o } }",b)};K.Store.prototype.startObservingNode=function(){var c,b,d;arguments.length===2?(c=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(c,d,function(){})):arguments.length===3&&(c=arguments[0],b=arguments[1],d=arguments[2],this.engine.callbacksBackend.observeNode(c,b,d,function(){}))};K.Store.prototype.stopObservingNode=function(c){this.engine.callbacksBackend.stopObservingNode(c)};K.Store.prototype.startObservingQuery=function(c,b,d){d!=null?this.engine.callbacksBackend.observeQuery(c,
b,d):this.engine.callbacksBackend.observeQuery(c,b,function(){})};K.Store.prototype.stopObservingQuery=function(c){this.engine.callbacksBackend.stopObservingQuery(c)};K.Store.prototype.subscribe=function(c,b,d,h,j){var e=function(b,c){for(var d=[],e={blanks:{},outCache:{}},h=[],k=0;k<c.length;k++){var D=c[k],F=w.buildRDFResource(D.subject,h,this.engine,e),G=w.buildRDFResource(D.predicate,h,this.engine,e),D=w.buildRDFResource(D.object,h,this.engine,e);F!=null&&G!=null&&D!=null&&(D=new w.Triple(F,G,
D),d.push(D))}j(b,d)};this.functionMap[j]=e;this.engine.callbacksBackend.subscribe(c,b,d,h,e,function(){})};K.Store.prototype.unsubscribe=function(c){this.engine.callbacksBackend.unsubscribe(this.functionMap[c]);delete this.functionMap[c]};K.Store.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b)};K.Store.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c)};K.Store.prototype.insert=function(){var c,b,d;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),
b=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var h="",j=this;b.forEach(function(b){h=h+j._nodeToQuery(b.subject)+j._nodeToQuery(b.predicate)+j._nodeToQuery(b.object)+"."});h=c!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(c)+" { "+h+" } }":"INSERT DATA { "+this._nodeToQuery(c)+" { "+h+" }";this.engine.execute(h,
d)};K.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};K.Store.prototype["delete"]=function(){var c,b,d;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],d=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||
function(){};else throw"The triples to delete, an optional graph and callback must be provided";var h="",j=this;b.forEach(function(b){h=h+j._nodeToQuery(b.subject)+j._nodeToQuery(b.predicate)+j._nodeToQuery(b.object)+"."});h=c!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(c)+" { "+h+" } }":"DELETE DATA { "+this._nodeToQuery(c)+" { "+h+" }";this.engine.execute(h,d)};K.Store.prototype.clear=function(){var c,b;if(arguments.length===1)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=
arguments[0]||function(){};else if(arguments.length===2)c=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(c),b)};K.Store.prototype.load=function(){var c,b,d,h;if(arguments.length===3)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],b=arguments[1],h=arguments[2]||function(){};else if(arguments.length===4)c=arguments[0],b=arguments[1],
d=this.rdf.createNamedNode(arguments[2]),h=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if(c==="remote")b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",h);else if(b&&typeof b==="string"&&b.indexOf("file://")===0){c=this.engine.rdfLoader.parsers[c];var j=this;this.engine.rdfLoader.loadFromFile(c,{token:"uri",value:d.valueOf()},b,function(b,
c){b?j.engine.batchLoad(c,h):h(b,c)})}else c=this.engine.rdfLoader.parsers[c],j=this,this.engine.rdfLoader.tryToParse(c,{token:"uri",value:d.valueOf()},b,function(b,c){b?j.engine.batchLoad(c,h):h(b,c)})};K.Store.prototype.registerParser=function(c,b){this.engine.rdfLoader.registerParser(c,b)};K.Store.prototype.registeredGraphs=function(c){for(var b=this.engine.lexicon.registeredGraphs(!0),d=[],h=0;h<b.length;h++){var j=new w.NamedNode(b[h]);d.push(j)}return c(!0,d)};K.Store.prototype._nodeToQuery=
function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};K.Store.prototype.getNetworkTransport=function(){return ia};K.Store.prototype.setNetworkTransport=function(c){ia=c};window.rdfstore=K})(window);
